{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas19e4ec7\""},"diff":"\"19e4ec7 bug 311136 - Tab dnd can confuse tabbrowser, r=vladimir\\ndiff --git a/browser/base/content/tabbrowser.xml b/browser/base/content/tabbrowser.xml\\nindex 49daf6e..1dce5be 100644\\n--- a/browser/base/content/tabbrowser.xml\\n+++ b/browser/base/content/tabbrowser.xml\\n@@ -1591,7 +1591,11 @@\\n \\n           aIndex = aIndex < aTab._tPos ? aIndex: aIndex+1;\\n           this.mCurrentTab.selected = false;\\n-          this.mTabContainer.insertBefore(aTab, this.mTabContainer.childNodes[aIndex]);\\n+          if (this.mTabContainer.childNodes.length == aIndex)\\n+            this.mTabContainer.appendChild(aTab);\\n+          else\\n+            this.mTabContainer.insertBefore(aTab, this.mTabContainer.childNodes[aIndex]);\\n+\\n           var i;\\n           for (i = 0; i < this.mTabContainer.childNodes.length; i++) {\\n             this.mTabContainer.childNodes[i]._tPos = i;\\n\""}