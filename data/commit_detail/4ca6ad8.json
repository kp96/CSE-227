{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas4ca6ad8\""},"diff":"\"4ca6ad8 Bug 396541 - Show Passwords dialog/chrome is broken. r=mconnor, a1.9=mconnor\\ndiff --git a/toolkit/content/widgets/preferences.xml b/toolkit/content/widgets/preferences.xml\\nindex 8cf9955..2fb1e1f 100644\\n--- a/toolkit/content/widgets/preferences.xml\\n+++ b/toolkit/content/widgets/preferences.xml\\n@@ -575,9 +575,6 @@\\n         }\\n         var panes = this.preferencePanes;\\n \\n-        if (this._shouldAnimate)\\n-          this.style.minHeight = 0;\\n-\\n         var lastPane = null;\\n         if (this.lastSelected) {\\n           lastPane = document.getElementById(this.lastSelected);\\n@@ -741,8 +738,11 @@\\n                 // Calling sizeToContent after the first prefpane is loaded\\n                 // will size the windows contents so style information is\\n                 // available to calculate correct sizing.\\n-                if (!this._initialized)\\n+                if (!this._initialized && prefpanes.length > 1) {\\n+                  if (this._shouldAnimate)\\n+                    this.style.minHeight = 0;\\n                   window.sizeToContent();\\n+                }\\n \\n                 var oldPane = this.lastSelected ? document.getElementById(this.lastSelected) : this.preferencePanes[0];\\n                 oldPane.selected = !(aPaneElement.selected = true);\\n@@ -755,7 +755,7 @@\\n                   aPaneElement.style.opacity = 0.0;\\n                   this.animate(oldPane, aPaneElement);\\n                 }\\n-                else if (!this._shouldAnimate) {\\n+                else if (!this._shouldAnimate && prefpanes.length > 1) {\\n                   var targetHeight = parseInt(window.getComputedStyle(this._paneDeckContainer, \\\"\\\").height);\\n                   var verticalPadding = parseInt(window.getComputedStyle(aPaneElement, \\\"\\\").paddingTop);\\n                   verticalPadding += parseInt(window.getComputedStyle(aPaneElement, \\\"\\\").paddingBottom);\\n\""}