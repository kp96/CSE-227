{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basdc7ebbf\""},"diff":"\"dc7ebbf Make double-clicking in the URL bar again place the selected text in the X selection.  Patch by DÃ£o Gottwald <dao@design-noir.de>  b=393828  r=mano\\ndiff --git a/browser/base/content/urlbarBindings.xml b/browser/base/content/urlbarBindings.xml\\nindex 2958278..632ded9 100644\\n--- a/browser/base/content/urlbarBindings.xml\\n+++ b/browser/base/content/urlbarBindings.xml\\n@@ -438,7 +438,7 @@\\n           if (aEvent.type == \\\"mousedown\\\" &&\\n               aEvent.button == 0 && aEvent.detail == 2 &&\\n               this.doubleClickSelectsAll) {\\n-            this.inputField.select();\\n+            this.editor.selectAll();\\n             aEvent.preventDefault();\\n           }\\n         ]]></body>\\ndiff --git a/toolkit/content/widgets/textbox.xml b/toolkit/content/widgets/textbox.xml\\nindex 09205c6..6bcac68 100644\\n--- a/toolkit/content/widgets/textbox.xml\\n+++ b/toolkit/content/widgets/textbox.xml\\n@@ -157,7 +157,7 @@\\n             else if (this.mIgnoreFocus)\\n               this.mIgnoreFocus = false;\\n             else if (this.clickSelectsAll)\\n-              this.inputField.select();\\n+              this.editor.selectAll();\\n \\n             this.setAttribute(\\\"focused\\\", \\\"true\\\");\\n           }\\n@@ -185,7 +185,7 @@\\n         <![CDATA[\\n           if (!this.mIgnoreClick && this.clickSelectsAll &&\\n               this.inputField.selectionStart == this.inputField.selectionEnd)\\n-            this.inputField.select();\\n+            this.editor.selectAll();\\n         ]]>\\n       </handler>\\n     </handlers>\\n@@ -371,8 +371,7 @@\\n                              getService(CI.mozIJSSubScriptLoader);\\n               loader.loadSubScript(\\\"chrome://global/content/inlineSpellCheckUI.js\\\", this);\\n               if (\\\"InlineSpellCheckerUI\\\" in this)\\n-                this.InlineSpellCheckerUI.init(\\n-                  textbox.inputField.QueryInterface(CI.nsIDOMNSEditableElement).editor);\\n+                this.InlineSpellCheckerUI.init(textbox.editor);\\n             } catch(ex) { }\\n           }\\n \\n\""}