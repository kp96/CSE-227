{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas43fabdf\""},"diff":"\"43fabdf run xptgen from build script, use env vars from xptgen to get mozilla objdir/srcdir paths\\ndiff --git a/services/sync/xptgen b/services/sync/xptgen\\nindex 84eba2b..033f63ce 100755\\n--- a/services/sync/xptgen\\n+++ b/services/sync/xptgen\\n@@ -1,2 +1,12 @@\\n #!/bin/bash\\n-../../mozilla-trunk/obj/firefox/dist/bin/xpidl -m typelib -I ../../mozilla-trunk/mozilla/xpcom/base/ -o nsIBookmarksSyncService nsIBookmarksSyncService.idl\\n+\\n+if [[ ! -d $MOZOBJDIR ]]; then\\n+    echo \\\"MOZOBJDIR environment variable must point to a Mozilla build obj tree (with xptgen)\\\"\\n+    exit 1\\n+fi\\n+if [[ ! -d $MOZSRCDIR ]]; then\\n+    echo \\\"MOZSRCDIR environment variable must point to a Mozilla source tree\\\"\\n+    exit 1\\n+fi\\n+\\n+$MOZOBJDIR/dist/bin/xpidl -m typelib -I $MOZSRCDIR/xpcom/base/ -o nsIBookmarksSyncService nsIBookmarksSyncService.idl\\n\""}