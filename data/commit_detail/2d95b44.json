{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas2d95b44\""},"diff":"\"2d95b44 fix for bug #342845 when dragging a tab over the \\\"all tabs\\\" button, act as if we are dragging over the \\\"scroll down\\\" button r=mconnor\\ndiff --git a/browser/base/content/tabbrowser.xml b/browser/base/content/tabbrowser.xml\\nindex 5c15bca..3316801 100644\\n--- a/browser/base/content/tabbrowser.xml\\n+++ b/browser/base/content/tabbrowser.xml\\n@@ -1686,7 +1686,9 @@\\n                 pixelsToScroll = tabStrip.scrollIncrement * -1;\\n                 tabStrip.scrollByPixels(pixelsToScroll);\\n               }\\n-              else if (targetAnonid == \\\"scrollbutton-down\\\") {\\n+              else if (targetAnonid == \\\"scrollbutton-down\\\" || \\n+                       (targetAnonid == \\\"alltabs-button\\\" && \\n+                        this.mTabContainer.getAttribute(\\\"overflow\\\") == \\\"true\\\")) {\\n                 pixelsToScroll = tabStrip.scrollIncrement;\\n                 tabStrip.scrollByPixels(pixelsToScroll);\\n               }\\n@@ -2483,7 +2485,8 @@\\n              see bugs #346307 and #346035 \\n         -->\\n         <xul:hbox style=\\\"position: relative;\\\">\\n-          <xul:toolbarbutton class=\\\"tabs-alltabs-button\\\" type=\\\"menu\\\">\\n+          <xul:toolbarbutton class=\\\"tabs-alltabs-button\\\" type=\\\"menu\\\"\\n+                             anonid=\\\"alltabs-button\\\">\\n             <xul:menupopup class=\\\"tabs-alltabs-popup\\\"\\n                            anonid=\\\"alltabs-popup\\\" \\n                            position=\\\"after_end\\\"/>\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tabbrowserBindings.xml b/browser/themes/pinstripe/browser/tabbrowser/tabbrowserBindings.xml\\nindex 1e9ab3a..6b242e2 100644\\n--- a/browser/themes/pinstripe/browser/tabbrowser/tabbrowserBindings.xml\\n+++ b/browser/themes/pinstripe/browser/tabbrowser/tabbrowserBindings.xml\\n@@ -78,7 +78,8 @@\\n                    see bugs #346307 and #346035 \\n               -->\\n               <xul:hbox style=\\\"position: relative;\\\">\\n-                <xul:toolbarbutton class=\\\"tabs-alltabs-button\\\" type=\\\"menu\\\">\\n+                <xul:toolbarbutton class=\\\"tabs-alltabs-button\\\" type=\\\"menu\\\"\\n+                                   anonid=\\\"alltabs-button\\\">\\n                   <xul:menupopup class=\\\"tabs-alltabs-popup\\\"\\n                                  anonid=\\\"alltabs-popup\\\" position=\\\"after_end\\\"/>\\n                 </xul:toolbarbutton>\\n\""}