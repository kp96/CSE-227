{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basa45d717\""},"diff":"\"a45d717 Reftests for bug 376532\\ndiff --git a/layout/reftests/bugs/376532-1-ref.html b/layout/reftests/bugs/376532-1-ref.html\\nnew file mode 100644\\nindex 0000000..ed2f247\\n--- /dev/null\\n+++ b/layout/reftests/bugs/376532-1-ref.html\\n@@ -0,0 +1,19 @@\\n+<!DOCTYPE html>\\r\\n+<!-- Reftest for bug 376532: should show single missing glyph box for non-BMP\\r\\n+     characters (not surrogates)\\r\\n+     Test 1 uses a narrow paragraph with overflow-x: hidden so that if two\\r\\n+     missing glyph boxes are displayed only one will be visible\\r\\n+-->\\r\\n+<html>\\r\\n+ <head>\\r\\n+  <meta http-equiv=\\\"content-type\\\" content=\\\"text/html; charset=utf-8\\\";\\r\\n+ </head>\\r\\n+  <style type=\\\"text/css\\\">\\r\\n+p {   \\r\\n+  font-size: 36pt;\\r\\n+}\\r\\n+  </style>\\r\\n+ <body>\\r\\n+  <p>&#xddb0d;</p>\\r\\n+ </body>\\r\\n+</html>\\r\\ndiff --git a/layout/reftests/bugs/376532-1.html b/layout/reftests/bugs/376532-1.html\\nnew file mode 100644\\nindex 0000000..ac84008\\n--- /dev/null\\n+++ b/layout/reftests/bugs/376532-1.html\\n@@ -0,0 +1,21 @@\\n+<!DOCTYPE html>\\r\\n+<!-- Reftest for bug 376532: should show single missing glyph box for non-BMP\\r\\n+     characters (not surrogates)\\r\\n+     Test 1 uses a narrow paragraph with overflow-x: hidden so that if two\\r\\n+     missing glyph boxes are displayed only one will be visible\\r\\n+-->\\r\\n+<html>\\r\\n+ <head>\\r\\n+  <meta http-equiv=\\\"content-type\\\" content=\\\"text/html; charset=utf-8\\\";\\r\\n+ </head>\\r\\n+  <style type=\\\"text/css\\\">\\r\\n+p {   \\r\\n+  font-size: 36pt;\\r\\n+  width: 18pt;\\r\\n+  overflow-x: hidden;\\r\\n+}\\r\\n+  </style>\\r\\n+ <body>\\r\\n+  <p>&#xddb0d;</p>\\r\\n+ </body>\\r\\n+</html>\\r\\ndiff --git a/layout/reftests/bugs/376532-2-ref.html b/layout/reftests/bugs/376532-2-ref.html\\nnew file mode 100755\\nindex 0000000..9af4d29\\n--- /dev/null\\n+++ b/layout/reftests/bugs/376532-2-ref.html\\n@@ -0,0 +1,20 @@\\n+<!DOCTYPE html>\\r\\n+<!-- Reftest for bug 376532: should show single missing glyph box for non-BMP\\r\\n+     characters (not surrogates)\\r\\n+     Test 2 is a non-equality test to catch the case where a single missing\\r\\n+     glyph box is shown with the high surrogate code point. The test page\\r\\n+     contains U+0DDBAD and the reference page contains U+0DDB0D\\r\\n+-->\\r\\n+<html>\\r\\n+ <head>\\r\\n+  <meta http-equiv=\\\"content-type\\\" content=\\\"text/html; charset=utf-8\\\";\\r\\n+ </head>\\r\\n+  <style type=\\\"text/css\\\">\\r\\n+p {   \\r\\n+  font-size: 36pt;\\r\\n+}\\r\\n+  </style>\\r\\n+ <body>\\r\\n+  <p>&#x0ddb0d;</p>\\r\\n+ </body>\\r\\n+</html>\\r\\ndiff --git a/layout/reftests/bugs/376532-2.html b/layout/reftests/bugs/376532-2.html\\nnew file mode 100755\\nindex 0000000..aaca4a1\\n--- /dev/null\\n+++ b/layout/reftests/bugs/376532-2.html\\n@@ -0,0 +1,20 @@\\n+<!DOCTYPE html>\\r\\n+<!-- Reftest for bug 376532: should show single missing glyph box for non-BMP\\r\\n+     characters (not surrogates)\\r\\n+     Test 2 is a non-equality test to catch the case where a single missing\\r\\n+     glyph box is shown with the high surrogate code point. The test page\\r\\n+     contains U+0DDBAD (DB36 DF0D) and the reference page U+0DDB0D (DB36 DFAD)\\r\\n+-->\\r\\n+<html>\\r\\n+ <head>\\r\\n+  <meta http-equiv=\\\"content-type\\\" content=\\\"text/html; charset=utf-8\\\";\\r\\n+ </head>\\r\\n+  <style type=\\\"text/css\\\">\\r\\n+p {   \\r\\n+  font-size: 36pt;\\r\\n+}\\r\\n+  </style>\\r\\n+ <body>\\r\\n+  <p>&#x0ddbad;</p>\\r\\n+ </body>\\r\\n+</html>\\r\\ndiff --git a/layout/reftests/bugs/376532-3-ref.html b/layout/reftests/bugs/376532-3-ref.html\\nnew file mode 100644\\nindex 0000000..2c6cbfd\\n--- /dev/null\\n+++ b/layout/reftests/bugs/376532-3-ref.html\\n@@ -0,0 +1,20 @@\\n+<!DOCTYPE html>\\r\\n+<!-- Reftest for bug 376532: should show single missing glyph box for non-BMP\\r\\n+     characters (not surrogates)\\r\\n+     Test 3 is a non-equality test to catch the case where a single missing\\r\\n+     glyph box is shown with the low surrogate code point. The test page\\r\\n+     contains U+BF2AD (DABC DEAD) and the reference page U+CFEAD (DAFF DEAD)\\r\\n+-->\\r\\n+<html>\\r\\n+ <head>\\r\\n+  <meta http-equiv=\\\"content-type\\\" content=\\\"text/html; charset=utf-8\\\";\\r\\n+ </head>\\r\\n+  <style type=\\\"text/css\\\">\\r\\n+p {   \\r\\n+  font-size: 36pt;\\r\\n+}\\r\\n+  </style>\\r\\n+ <body>\\r\\n+  <p>&#xcfead;</p>\\r\\n+ </body>\\r\\n+</html>\\r\\ndiff --git a/layout/reftests/bugs/376532-3.html b/layout/reftests/bugs/376532-3.html\\nnew file mode 100644\\nindex 0000000..1a00963\\n--- /dev/null\\n+++ b/layout/reftests/bugs/376532-3.html\\n@@ -0,0 +1,20 @@\\n+<!DOCTYPE html>\\r\\n+<!-- Reftest for bug 376532: should show single missing glyph box for non-BMP\\r\\n+     characters (not surrogates)\\r\\n+     Test 3 is a non-equality test to catch the case where a single missing\\r\\n+     glyph box is shown with the low surrogate code point. The test page\\r\\n+     contains U+BF2AD (DABC DEAD) and the reference page U+CFEAD (DAFF DEAD)\\r\\n+-->\\r\\n+<html>\\r\\n+ <head>\\r\\n+  <meta http-equiv=\\\"content-type\\\" content=\\\"text/html; charset=utf-8\\\";\\r\\n+ </head>\\r\\n+  <style type=\\\"text/css\\\">\\r\\n+p {   \\r\\n+  font-size: 36pt;\\r\\n+}\\r\\n+  </style>\\r\\n+ <body>\\r\\n+  <p>&#xbf2ad;</p>\\r\\n+ </body>\\r\\n+</html>\\r\\ndiff --git a/layout/reftests/bugs/reftest.list b/layout/reftests/bugs/reftest.list\\nindex 9e8ff17..f5133d1b 100644\\n--- a/layout/reftests/bugs/reftest.list\\n+++ b/layout/reftests/bugs/reftest.list\\n@@ -312,6 +312,9 @@ fails == 368504-2.html 368504-2-ref.html # bug 368504\\n == 375716-1.html 375716-1-ref.html\\n == 375827-1.html 375827-1-ref.html\\n == 376484-1.html 376484-1-ref.html\\n+== 376532-1.html 376532-1-ref.html\\n+!= 376532-2.html 376532-2-ref.html\\n+!= 376532-3.html 376532-3-ref.html\\n == 377603-1.html 377603-1-ref.html\\n == 377918.html 377918-ref.html\\n == 378535-1.html 378535-1-ref.html\\n\""}