{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Base5298e7\""},"diff":"\"e5298e7 Bug 393309: fix null deref crash for extension install requests that have no referer, r=Mossop (deputized by dveditz), a=blocking+\\ndiff --git a/xpinstall/src/nsInstallTrigger.cpp b/xpinstall/src/nsInstallTrigger.cpp\\nindex b3989a9..a95575c 100644\\n--- a/xpinstall/src/nsInstallTrigger.cpp\\n+++ b/xpinstall/src/nsInstallTrigger.cpp\\n@@ -209,7 +209,8 @@ nsInstallTrigger::HandleContent(const char * aContentType,\\n         // site is one which is allowed to annoy the user with modal dialogs.\\n \\n         enabled = AllowInstall( referringURI );\\n-        referringURI->GetHost(host);\\n+        if (referringURI)\\n+            referringURI->GetHost(host);\\n     }\\n     else\\n     {\\n\""}