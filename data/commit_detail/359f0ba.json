{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas359f0ba\""},"diff":"\"359f0ba Land the new theme on trunk (bug 353673).\\ndiff --git a/browser/base/content/tabbrowser.xml b/browser/base/content/tabbrowser.xml\\nindex 1e793d5..f8e1750 100644\\n--- a/browser/base/content/tabbrowser.xml\\n+++ b/browser/base/content/tabbrowser.xml\\n@@ -2499,13 +2499,107 @@\\n     </handlers>\\n   </binding>\\n \\n+  <binding id=\\\"tabbrowser-arrowscrollbox\\\" extends=\\\"chrome://global/content/bindings/scrollbox.xml#arrowscrollbox-clicktoscroll\\\">\\n+    <content>\\n+      <xul:toolbarbutton class=\\\"scrollbutton-up\\\" collapsed=\\\"true\\\"\\n+                         xbl:inherits=\\\"orient\\\"\\n+                         anonid=\\\"scrollbutton-up\\\"\\n+                         onmousedown=\\\"_startScroll(-1);\\\"\\n+                         onmouseup=\\\"_stopScroll();\\\"\\n+                         onmouseout=\\\"_stopScroll();\\\"\\n+                         chromedir=\\\"&locale.dir;\\\"/>\\n+      <xul:scrollbox xbl:inherits=\\\"orient,align,pack,dir\\\" flex=\\\"1\\\" anonid=\\\"scrollbox\\\">\\n+        <children/>\\n+      </xul:scrollbox>\\n+      <xul:stack align=\\\"center\\\" pack=\\\"end\\\" class=\\\"scrollbutton-down-stack\\\">\\n+        <!-- XXXsspitzer hack\\n+             this extra hbox with position: relative\\n+             is needed to work around two bugs.\\n+             see bugs #346307 and #346035 \\n+        -->\\n+        <xul:hbox style=\\\"position: relative;\\\" class=\\\"scrollbutton-rel-box\\\">\\n+          <xul:hbox flex=\\\"1\\\" class=\\\"scrollbutton-down-box\\\" \\n+                             collapsed=\\\"true\\\" anonid=\\\"down-box\\\"/>\\n+        </xul:hbox>\\n+        <!-- XXXsspitzer hack\\n+             this extra hbox with position: relative\\n+             is needed to work around two bugs.\\n+             see bugs #346307 and #346035 \\n+        -->\\n+        <xul:hbox style=\\\"position: relative;\\\" class=\\\"scrollbutton-rel-box\\\">\\n+          <xul:hbox flex=\\\"1\\\" class=\\\"scrollbutton-down-box-animate\\\" \\n+                             collapsed=\\\"true\\\" anonid=\\\"down-box-animate\\\"/>\\n+        </xul:hbox>\\n+        <!-- XXXsspitzer hack\\n+             this extra hbox with position: relative\\n+             is needed to work around two bugs.\\n+             see bugs #346307 and #346035 \\n+        -->\\n+        <xul:hbox style=\\\"position: relative;\\\" class=\\\"scrollbutton-rel-box\\\">\\n+          <xul:toolbarbutton class=\\\"scrollbutton-down\\\" collapsed=\\\"true\\\"\\n+                             xbl:inherits=\\\"orient\\\"\\n+                             anonid=\\\"scrollbutton-down\\\"\\n+                             onmousedown=\\\"_startScroll(1);\\\"\\n+                             onmouseup=\\\"_stopScroll();\\\"\\n+                             onmouseout=\\\"_stopScroll();\\\"\\n+                             chromedir=\\\"&locale.dir;\\\"/>\\n+        </xul:hbox>\\n+      </xul:stack>\\n+    </content>\\n+    <implementation>\\n+      <field name=\\\"_scrollButtonDownBox\\\">\\n+        document.getAnonymousElementByAttribute(this, \\\"anonid\\\", \\\"down-box\\\");\\n+      </field>\\n+      <field name=\\\"_scrollButtonDownBoxAnimate\\\">\\n+        document.getAnonymousElementByAttribute(this, \\\"anonid\\\", \\\"down-box-animate\\\");\\n+      </field>\\n+    </implementation>\\n+    <handlers>\\n+      <handler event=\\\"underflow\\\"><![CDATA[\\n+        // filter underflow events which were dispatched on nested scrollboxes\\n+        if (event.target != this)\\n+          return;\\n+\\n+        this._scrollButtonDownBox.collapsed = true;\\n+        this._scrollButtonDownBoxAnimate.collapsed = true;\\n+      ]]></handler>\\n+\\n+      <handler event=\\\"overflow\\\"><![CDATA[\\n+        // filter underflow events which were dispatched on nested scrollboxes\\n+        if (event.target != this)\\n+          return;\\n+\\n+        this._scrollButtonDownBox.collapsed = false;\\n+        this._scrollButtonDownBoxAnimate.collapsed = false;\\n+      ]]></handler>\\n+\\n+      <handler event=\\\"UpdatedScrollButtonsDisabledState\\\"><![CDATA[\\n+        // filter underflow events which were dispatched on nested scrollboxes\\n+        if (event.target != this)\\n+          return;\\n+\\n+        // fix for bug #352353\\n+        // unlike the scrollup button on the tab strip (which is a \\n+        // simple toolbarbutton) the scrolldown button is \\n+        // a more complicated stack of boxes and a toolbarbutton\\n+        // so that we can animate when a tab is opened offscreen.\\n+        // in order to style the box with the actual background image\\n+        // we need to manually set the disable state to match the\\n+        // disable state of the toolbarbutton.\\n+        this._scrollButtonDownBox\\n+            .setAttribute(\\\"disabled\\\", this._scrollButtonDown.disabled);\\n+      ]]></handler>\\n+\\n+    </handlers>\\n+  </binding>\\n+\\n   <binding id=\\\"tabbrowser-tabs\\\"\\n            extends=\\\"chrome://global/content/bindings/tabbox.xml#tabs\\\">\\n     <content>\\n-      <xul:arrowscrollbox anonid=\\\"arrowscrollbox\\\" orient=\\\"horizontal\\\" flex=\\\"1\\\" style=\\\"min-width: 1px;\\\" clicktoscroll=\\\"true\\\">\\n+      <xul:arrowscrollbox anonid=\\\"arrowscrollbox\\\" orient=\\\"horizontal\\\" flex=\\\"1\\\" style=\\\"min-width: 1px;\\\" class=\\\"tabbrowser-arrowscrollbox\\\">\\n         <children includes=\\\"tab\\\"/>\\n       </xul:arrowscrollbox>\\n-      <xul:stack align=\\\"center\\\" pack=\\\"end\\\" class=\\\"scrollbutton-down-stack\\\">\\n+      <xul:stack align=\\\"center\\\" pack=\\\"end\\\" class=\\\"tabs-alltabs-stack\\\">\\n         <!-- XXXsspitzer hack\\n              this extra hbox with position: relative\\n              is needed to work around two bugs.\\n@@ -2520,8 +2614,18 @@\\n              see bugs #346307 and #346035 \\n         -->\\n         <xul:hbox style=\\\"position: relative;\\\">\\n+          <xul:hbox flex=\\\"1\\\" class=\\\"tabs-alltabs-box-animate\\\" \\n+                    anonid=\\\"alltabs-box-animate\\\"/>\\n+        </xul:hbox>\\n+        <!-- XXXsspitzer hack\\n+             this extra hbox with position: relative\\n+             is needed to work around two bugs.\\n+             see bugs #346307 and #346035 \\n+        -->\\n+        <xul:hbox style=\\\"position: relative;\\\">\\n           <xul:toolbarbutton class=\\\"tabs-alltabs-button\\\" type=\\\"menu\\\"\\n-                             anonid=\\\"alltabs-button\\\" tooltipstring=\\\"&listAllTabs.label;\\\">\\n+                             anonid=\\\"alltabs-button\\\"\\n+                             tooltipstring=\\\"&listAllTabs.label;\\\">\\n             <xul:menupopup class=\\\"tabs-alltabs-popup\\\"\\n                            anonid=\\\"alltabs-popup\\\" \\n                            position=\\\"after_end\\\"/>\\n@@ -2645,7 +2749,7 @@\\n           case 1:\\n             try {\\n               var width = this.firstChild.boxObject.width;\\n-              // 0 width is an invalid value and indicates \\n+              // 0 width is an invalid value and indicates\\n               // an item without display, so ignore.\\n               if (width > this.mTabClipWidth || width == 0)\\n                 this.setAttribute(\\\"closebuttons\\\", \\\"alltabs\\\");\\n@@ -2697,6 +2801,7 @@\\n               break;\\n             case \\\"underflow\\\":\\n               this.removeAttribute(\\\"overflow\\\");\\n+              break;\\n           }\\n         ]]></body>\\n       </method>\\n@@ -2706,9 +2811,14 @@\\n                                                 \\\"anonid\\\", \\\"alltabs-popup\\\");\\n       </field>\\n \\n-      <field name=\\\"mAllTabsBox\\\">\\n+      <field name=\\\"mAllTabsBoxAnimate\\\">\\n         document.getAnonymousElementByAttribute(this, \\n-                                                \\\"anonid\\\", \\\"alltabs-box\\\");\\n+                                                \\\"anonid\\\",\\n+                                                \\\"alltabs-box-animate\\\");\\n+      </field>\\n+\\n+      <field name=\\\"mDownBoxAnimate\\\">\\n+        this.mTabstrip._scrollButtonDownBoxAnimate;\\n       </field>\\n \\n       <field name=\\\"mAllTabsButton\\\">\\n@@ -2735,7 +2845,8 @@\\n               this._animateTimer.cancel();\\n \\n             this._animateStep = -1;\\n-            this.mAllTabsBox.style.opacity = 0.0;\\n+            this.mAllTabsBoxAnimate.style.opacity = 0.0;\\n+            this.mDownBoxAnimate.style.opacity = 0.0;\\n           }\\n         ]]></body>\\n       </method>\\n@@ -2777,7 +2888,8 @@\\n             aTimer.cancel();\\n \\n           var percent = this._animatePercents[this._animateStep];\\n-          this.mAllTabsBox.style.opacity = percent;\\n+          this.mAllTabsBoxAnimate.style.opacity = percent;\\n+          this.mDownBoxAnimate.style.opacity = percent;\\n \\n           if (this._animateStep < (this._animatePercents.length - 1))\\n             this._animateStep++;\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/alltabs-box-bkgnd.png b/browser/themes/pinstripe/browser/tabbrowser/alltabs-box-bkgnd.png\\nnew file mode 100644\\nindex 0000000..22292d8\\nBinary files /dev/null and b/browser/themes/pinstripe/browser/tabbrowser/alltabs-box-bkgnd.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/alltabs-box-overflow-bkgnd-animate.png b/browser/themes/pinstripe/browser/tabbrowser/alltabs-box-overflow-bkgnd-animate.png\\nnew file mode 100755\\nindex 0000000..f9092b6\\nBinary files /dev/null and b/browser/themes/pinstripe/browser/tabbrowser/alltabs-box-overflow-bkgnd-animate.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/alltabs-box-overflow-bkgnd.png b/browser/themes/pinstripe/browser/tabbrowser/alltabs-box-overflow-bkgnd.png\\nnew file mode 100644\\nindex 0000000..bb941eb\\nBinary files /dev/null and b/browser/themes/pinstripe/browser/tabbrowser/alltabs-box-overflow-bkgnd.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tab-arrow-end-bkgnd-animate.png b/browser/themes/pinstripe/browser/tabbrowser/tab-arrow-end-bkgnd-animate.png\\nnew file mode 100755\\nindex 0000000..9218b0f\\nBinary files /dev/null and b/browser/themes/pinstripe/browser/tabbrowser/tab-arrow-end-bkgnd-animate.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tab-arrow-end-bkgnd.png b/browser/themes/pinstripe/browser/tabbrowser/tab-arrow-end-bkgnd.png\\nnew file mode 100644\\nindex 0000000..93bd39c\\nBinary files /dev/null and b/browser/themes/pinstripe/browser/tabbrowser/tab-arrow-end-bkgnd.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tab-arrow-end.png b/browser/themes/pinstripe/browser/tabbrowser/tab-arrow-end.png\\nnew file mode 100644\\nindex 0000000..4447bba\\nBinary files /dev/null and b/browser/themes/pinstripe/browser/tabbrowser/tab-arrow-end.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tab-arrow-start-bkgnd-animate.png b/browser/themes/pinstripe/browser/tabbrowser/tab-arrow-start-bkgnd-animate.png\\nnew file mode 100755\\nindex 0000000..6ea7576\\nBinary files /dev/null and b/browser/themes/pinstripe/browser/tabbrowser/tab-arrow-start-bkgnd-animate.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tab-arrow-start.png b/browser/themes/pinstripe/browser/tabbrowser/tab-arrow-start.png\\nnew file mode 100644\\nindex 0000000..7d12a97\\nBinary files /dev/null and b/browser/themes/pinstripe/browser/tabbrowser/tab-arrow-start.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tab-left-bkgnd.png b/browser/themes/pinstripe/browser/tabbrowser/tab-left-bkgnd.png\\nnew file mode 100755\\nindex 0000000..367f9a7\\nBinary files /dev/null and b/browser/themes/pinstripe/browser/tabbrowser/tab-left-bkgnd.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tab-left-hover.png b/browser/themes/pinstripe/browser/tabbrowser/tab-left-hover.png\\nnew file mode 100755\\nindex 0000000..2ed0764\\nBinary files /dev/null and b/browser/themes/pinstripe/browser/tabbrowser/tab-left-hover.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tab-left.png b/browser/themes/pinstripe/browser/tabbrowser/tab-left.png\\nnew file mode 100644\\nindex 0000000..7a93dc0\\nBinary files /dev/null and b/browser/themes/pinstripe/browser/tabbrowser/tab-left.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tab-middle-bkgnd.png b/browser/themes/pinstripe/browser/tabbrowser/tab-middle-bkgnd.png\\nnew file mode 100755\\nindex 0000000..b83a381\\nBinary files /dev/null and b/browser/themes/pinstripe/browser/tabbrowser/tab-middle-bkgnd.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tab-middle-hover.png b/browser/themes/pinstripe/browser/tabbrowser/tab-middle-hover.png\\nnew file mode 100755\\nindex 0000000..b18dbdd\\nBinary files /dev/null and b/browser/themes/pinstripe/browser/tabbrowser/tab-middle-hover.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tab-middle.png b/browser/themes/pinstripe/browser/tabbrowser/tab-middle.png\\nnew file mode 100644\\nindex 0000000..c161fa4\\nBinary files /dev/null and b/browser/themes/pinstripe/browser/tabbrowser/tab-middle.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tab-right-bkgnd.png b/browser/themes/pinstripe/browser/tabbrowser/tab-right-bkgnd.png\\nnew file mode 100755\\nindex 0000000..96d49ce\\nBinary files /dev/null and b/browser/themes/pinstripe/browser/tabbrowser/tab-right-bkgnd.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tab-right-hover.png b/browser/themes/pinstripe/browser/tabbrowser/tab-right-hover.png\\nnew file mode 100755\\nindex 0000000..db9d4af\\nBinary files /dev/null and b/browser/themes/pinstripe/browser/tabbrowser/tab-right-hover.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tab-right.png b/browser/themes/pinstripe/browser/tabbrowser/tab-right.png\\nnew file mode 100644\\nindex 0000000..9ff1d66\\nBinary files /dev/null and b/browser/themes/pinstripe/browser/tabbrowser/tab-right.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tabDragIndicator.png b/browser/themes/pinstripe/browser/tabbrowser/tabDragIndicator.png\\nindex 6a18e78..c50c408 100755\\nBinary files a/browser/themes/pinstripe/browser/tabbrowser/tabDragIndicator.png and b/browser/themes/pinstripe/browser/tabbrowser/tabDragIndicator.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tabbrowser-tabs-bkgnd.png b/browser/themes/pinstripe/browser/tabbrowser/tabbrowser-tabs-bkgnd.png\\nnew file mode 100644\\nindex 0000000..60734b8\\nBinary files /dev/null and b/browser/themes/pinstripe/browser/tabbrowser/tabbrowser-tabs-bkgnd.png differ\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tabbrowserBindings.xml b/browser/themes/pinstripe/browser/tabbrowser/tabbrowserBindings.xml\\nindex 9caaf94..1a664dc 100644\\n--- a/browser/themes/pinstripe/browser/tabbrowser/tabbrowserBindings.xml\\n+++ b/browser/themes/pinstripe/browser/tabbrowser/tabbrowserBindings.xml\\n@@ -16,7 +16,6 @@\\n     <content chromedir=\\\"&locale.dir;\\\"\\n              closetabtext=\\\"&closeTab.label;\\\">\\n       <xul:hbox class=\\\"tab-image-left\\\" xbl:inherits=\\\"selected\\\"/>\\n-      <xul:toolbarbutton anonid=\\\"close-button\\\" class=\\\"tab-close-button\\\" tabindex=\\\"-1\\\"/>\\n       <xul:hbox flex=\\\"1\\\" class=\\\"tab-image-middle\\\" align=\\\"center\\\" xbl:inherits=\\\"selected\\\">\\n         <xul:stack class=\\\"tab-icon\\\">\\n           <xul:image xbl:inherits=\\\"validate,src=image\\\" class=\\\"tab-icon-image\\\"/>\\n@@ -24,7 +23,8 @@\\n         </xul:stack>\\n         <xul:label flex=\\\"1\\\" xbl:inherits=\\\"value=label,crop,accesskey\\\" crop=\\\"right\\\" class=\\\"tab-text\\\"/>\\n       </xul:hbox>\\n-      <xul:hbox class=\\\"tab-image-right\\\" xbl:inherits=\\\"selected\\\"/>\\n+      <xul:toolbarbutton anonid=\\\"close-button\\\" class=\\\"tab-close-button\\\" tabindex=\\\"-1\\\"/>\\n+        <xul:hbox class=\\\"tab-image-right\\\" xbl:inherits=\\\"selected\\\"/>\\n     </content>\\n   </binding>\\n   \\n@@ -56,7 +56,7 @@\\n             <xul:stack>\\n               <xul:spacer class=\\\"tabs-left\\\"/>\\n             </xul:stack>\\n-            <xul:arrowscrollbox anonid=\\\"arrowscrollbox\\\" orient=\\\"horizontal\\\" flex=\\\"1\\\" style=\\\"min-width: 1px;\\\" clicktoscroll=\\\"true\\\">\\n+            <xul:arrowscrollbox anonid=\\\"arrowscrollbox\\\" orient=\\\"horizontal\\\" flex=\\\"1\\\" style=\\\"min-width: 1px;\\\" class=\\\"tabbrowser-arrowscrollbox\\\">\\n               <children/>\\n             </xul:arrowscrollbox>\\n             <xul:stack align=\\\"center\\\" pack=\\\"end\\\">\\n@@ -75,7 +75,17 @@\\n                    see bugs #346307 and #346035 \\n               -->\\n               <xul:hbox style=\\\"position: relative;\\\">\\n-                <xul:toolbarbutton class=\\\"tabs-alltabs-button\\\" type=\\\"menu\\\"\\n+                <xul:hbox flex=\\\"1\\\" class=\\\"tabs-alltabs-box-animate\\\" \\n+                          anonid=\\\"alltabs-box-animate\\\"/>\\n+              </xul:hbox>\\n+              <!-- XXXsspitzer hack\\n+                   this extra hbox with position: relative\\n+                   is needed to work around two bugs.\\n+                   see bugs #346307 and #346035 \\n+              -->\\n+              <xul:hbox style=\\\"position: relative;\\\">\\n+                <xul:toolbarbutton class=\\\"tabs-alltabs-button\\\"\\n+                                   type=\\\"menu\\\"\\n                                    anonid=\\\"alltabs-button\\\"\\n                                    tooltipstring=\\\"&listAllTabs.label;\\\">\\n                   <xul:menupopup class=\\\"tabs-alltabs-popup\\\"\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tabs-bottom-bg.png b/browser/themes/pinstripe/browser/tabbrowser/tabs-bottom-bg.png\\nindex e382b7b..f3d739d 100644\\nBinary files a/browser/themes/pinstripe/browser/tabbrowser/tabs-bottom-bg.png and b/browser/themes/pinstripe/browser/tabbrowser/tabs-bottom-bg.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/alltabs-box-overflow-end-bkgnd-animate.png b/browser/themes/winstripe/browser/tabbrowser/alltabs-box-overflow-end-bkgnd-animate.png\\nnew file mode 100755\\nindex 0000000..3db331b\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/alltabs-box-overflow-end-bkgnd-animate.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/alltabs-box-overflow-end-bkgnd-hover.png b/browser/themes/winstripe/browser/tabbrowser/alltabs-box-overflow-end-bkgnd-hover.png\\nnew file mode 100755\\nindex 0000000..754fd33\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/alltabs-box-overflow-end-bkgnd-hover.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/alltabs-box-overflow-end-bkgnd.png b/browser/themes/winstripe/browser/tabbrowser/alltabs-box-overflow-end-bkgnd.png\\nnew file mode 100755\\nindex 0000000..79e592b\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/alltabs-box-overflow-end-bkgnd.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/alltabs-box-overflow-start-bkgnd-animate.png b/browser/themes/winstripe/browser/tabbrowser/alltabs-box-overflow-start-bkgnd-animate.png\\nnew file mode 100755\\nindex 0000000..2752c48\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/alltabs-box-overflow-start-bkgnd-animate.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/alltabs-box-overflow-start-bkgnd-hover.png b/browser/themes/winstripe/browser/tabbrowser/alltabs-box-overflow-start-bkgnd-hover.png\\nnew file mode 100755\\nindex 0000000..3431d06\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/alltabs-box-overflow-start-bkgnd-hover.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/alltabs-box-overflow-start-bkgnd.png b/browser/themes/winstripe/browser/tabbrowser/alltabs-box-overflow-start-bkgnd.png\\nnew file mode 100755\\nindex 0000000..785f79c\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/alltabs-box-overflow-start-bkgnd.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tab-arrow-end-bkgnd-animate.png b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-end-bkgnd-animate.png\\nnew file mode 100755\\nindex 0000000..7be0580\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-end-bkgnd-animate.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tab-arrow-end-bkgnd-disabled.png b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-end-bkgnd-disabled.png\\nnew file mode 100755\\nindex 0000000..9c96bef\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-end-bkgnd-disabled.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tab-arrow-end-bkgnd-enabled.png b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-end-bkgnd-enabled.png\\nnew file mode 100755\\nindex 0000000..91e6813\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-end-bkgnd-enabled.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tab-arrow-end-bkgnd-hover.png b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-end-bkgnd-hover.png\\nnew file mode 100755\\nindex 0000000..ce4a54f\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-end-bkgnd-hover.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tab-arrow-end.png b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-end.png\\nnew file mode 100755\\nindex 0000000..81c3461\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-end.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tab-arrow-start-bkgnd-animate.png b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-start-bkgnd-animate.png\\nnew file mode 100755\\nindex 0000000..f61accf\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-start-bkgnd-animate.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tab-arrow-start-bkgnd-disabled.png b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-start-bkgnd-disabled.png\\nnew file mode 100755\\nindex 0000000..aa26d3e\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-start-bkgnd-disabled.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tab-arrow-start-bkgnd-enabled.png b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-start-bkgnd-enabled.png\\nnew file mode 100755\\nindex 0000000..7550d9c\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-start-bkgnd-enabled.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tab-arrow-start-bkgnd-hover.png b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-start-bkgnd-hover.png\\nnew file mode 100755\\nindex 0000000..89746a4\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-start-bkgnd-hover.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tab-arrow-start.png b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-start.png\\nnew file mode 100755\\nindex 0000000..27f2d94\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/tab-arrow-start.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tab-left-bkgnd.png b/browser/themes/winstripe/browser/tabbrowser/tab-left-bkgnd.png\\nnew file mode 100755\\nindex 0000000..60cf0c0\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/tab-left-bkgnd.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tab-left.png b/browser/themes/winstripe/browser/tabbrowser/tab-left.png\\nnew file mode 100755\\nindex 0000000..bc357cc\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/tab-left.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tab-middle-bkgnd.png b/browser/themes/winstripe/browser/tabbrowser/tab-middle-bkgnd.png\\nnew file mode 100755\\nindex 0000000..bc95506\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/tab-middle-bkgnd.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tab-middle.png b/browser/themes/winstripe/browser/tabbrowser/tab-middle.png\\nnew file mode 100755\\nindex 0000000..c63a0fd\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/tab-middle.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tab-right-bkgnd.png b/browser/themes/winstripe/browser/tabbrowser/tab-right-bkgnd.png\\nnew file mode 100755\\nindex 0000000..967b59f\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/tab-right-bkgnd.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tab-right.png b/browser/themes/winstripe/browser/tabbrowser/tab-right.png\\nnew file mode 100755\\nindex 0000000..7a25b14\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/tab-right.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tabbrowser-tabs-bkgnd.png b/browser/themes/winstripe/browser/tabbrowser/tabbrowser-tabs-bkgnd.png\\nnew file mode 100755\\nindex 0000000..eb8e901\\nBinary files /dev/null and b/browser/themes/winstripe/browser/tabbrowser/tabbrowser-tabs-bkgnd.png differ\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tabbrowserBindings.xml b/browser/themes/winstripe/browser/tabbrowser/tabbrowserBindings.xml\\nindex 63b22a5..0363320 100644\\n--- a/browser/themes/winstripe/browser/tabbrowser/tabbrowserBindings.xml\\n+++ b/browser/themes/winstripe/browser/tabbrowser/tabbrowserBindings.xml\\n@@ -1,5 +1,12 @@\\n <?xml version=\\\"1.0\\\"?>\\n \\n+<!DOCTYPE bindings [\\n+<!ENTITY % tabBrowserDTD SYSTEM \\\"chrome://global/locale/tabbrowser.dtd\\\" >\\n+%tabBrowserDTD;\\n+<!ENTITY % globalDTD SYSTEM \\\"chrome://global/locale/global.dtd\\\">\\n+%globalDTD;\\n+]>\\n+\\n <bindings id=\\\"globalBindings\\\"\\n    xmlns=\\\"http://www.mozilla.org/xbl\\\"\\n    xmlns:xul=\\\"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\\\"\\n@@ -48,4 +55,99 @@\\n     </content>\\n   </binding>\\n \\n+  <binding id=\\\"tabbrowser-tab\\\" extends=\\\"chrome://global/content/bindings/tabbrowser.xml#tabbrowser-tab\\\">\\n+    <content chromedir=\\\"&locale.dir;\\\"\\n+             closetabtext=\\\"&closeTab.label;\\\">\\n+      <xul:hbox class=\\\"tab-image-left\\\" xbl:inherits=\\\"selected\\\"/>\\n+      <xul:hbox flex=\\\"1\\\" class=\\\"tab-image-middle\\\" align=\\\"center\\\" xbl:inherits=\\\"selected\\\">\\n+        <xul:stack class=\\\"tab-icon\\\">\\n+          <xul:image xbl:inherits=\\\"validate,src=image\\\" class=\\\"tab-icon-image\\\"/>\\n+          <xul:image class=\\\"tab-extra-status\\\"/>\\n+        </xul:stack>\\n+        <xul:label flex=\\\"1\\\" xbl:inherits=\\\"value=label,crop,accesskey\\\" crop=\\\"right\\\" class=\\\"tab-text\\\"/>\\n+      </xul:hbox>\\n+      <xul:toolbarbutton anonid=\\\"close-button\\\" class=\\\"tab-close-button\\\" tabindex=\\\"-1\\\"/>\\n+        <xul:hbox class=\\\"tab-image-right\\\" xbl:inherits=\\\"selected\\\"/>\\n+    </content>\\n+  </binding>\\n+  \\n+  <binding id=\\\"tabs\\\" extends=\\\"chrome://global/content/bindings/tabbox.xml#tabs\\\">\\n+    <content>\\n+      <xul:spacer class=\\\"tab-border-top-left-cap\\\"/>\\n+      <xul:spacer class=\\\"tab-border-top-left\\\"/>\\n+      <children/>\\n+      <xul:stack flex=\\\"1\\\">\\n+        <xul:spacer class=\\\"tab-border-top-right\\\"/>\\n+        <xul:hbox class=\\\"tabs-misc-dec\\\" align=\\\"center\\\">\\n+          <xul:spacer flex=\\\"1\\\"/>\\n+        </xul:hbox>\\n+      </xul:stack>\\n+      <xul:spacer class=\\\"tab-border-top-right-cap\\\"/>\\n+    </content>\\n+  </binding>\\n+  \\n+   <binding id=\\\"tabbrowser-tabs\\\"  \\n+            extends=\\\"chrome://global/content/bindings/tabbrowser.xml#tabbrowser-tabs\\\">\\n+    <content>\\n+      <xul:stack flex=\\\"1\\\" class=\\\"tabs-stack\\\">\\n+        <xul:vbox>\\n+          <xul:spacer flex=\\\"1\\\"/>\\n+          <xul:hbox class=\\\"tabs-bottom\\\" align=\\\"center\\\"/>\\n+        </xul:vbox>\\n+        <xul:vbox>\\n+          <xul:hbox>\\n+            <xul:stack>\\n+              <xul:spacer class=\\\"tabs-left\\\"/>\\n+            </xul:stack>\\n+            <xul:arrowscrollbox anonid=\\\"arrowscrollbox\\\"\\n+                                orient=\\\"horizontal\\\"\\n+                                flex=\\\"1\\\"\\n+                                style=\\\"min-width: 1px;\\\"\\n+                                chromedir=\\\"&locale.dir;\\\"\\n+                                class=\\\"tabbrowser-arrowscrollbox\\\">\\n+              <children/>\\n+            </xul:arrowscrollbox>\\n+            <xul:stack align=\\\"center\\\" pack=\\\"end\\\" chromedir=\\\"&locale.dir;\\\">\\n+              <!-- XXXsspitzer hack\\n+                   this extra hbox with position: relative\\n+                   is needed to work around two bugs.\\n+                   see bugs #346307 and #346035 \\n+              -->\\n+              <xul:hbox style=\\\"position: relative;\\\">\\n+                <xul:hbox flex=\\\"1\\\"\\n+                          class=\\\"tabs-alltabs-box\\\"\\n+                          anonid=\\\"alltabs-box\\\"/>\\n+              </xul:hbox>\\n+              <!-- XXXsspitzer hack\\n+                   this extra hbox with position: relative\\n+                   is needed to work around two bugs.\\n+                   see bugs #346307 and #346035 \\n+              -->\\n+              <xul:hbox style=\\\"position: relative;\\\">\\n+                <xul:hbox flex=\\\"1\\\" class=\\\"tabs-alltabs-box-animate\\\"\\n+                          anonid=\\\"alltabs-box-animate\\\"/>\\n+              </xul:hbox>\\n+              <!-- XXXsspitzer hack\\n+                   this extra hbox with position: relative\\n+                   is needed to work around two bugs.\\n+                   see bugs #346307 and #346035\\n+              -->\\n+              <xul:hbox style=\\\"position: relative;\\\">\\n+                <xul:toolbarbutton class=\\\"tabs-alltabs-button\\\" type=\\\"menu\\\"\\n+                                   anonid=\\\"alltabs-button\\\" \\n+                                   tooltipstring=\\\"&listAllTabs.label;\\\">\\n+                  <xul:menupopup class=\\\"tabs-alltabs-popup\\\"\\n+                                 anonid=\\\"alltabs-popup\\\" position=\\\"after_end\\\"/>\\n+                </xul:toolbarbutton>\\n+              </xul:hbox>\\n+            </xul:stack>\\n+            <xul:hbox class=\\\"tabs-closebutton-box\\\" align=\\\"center\\\" pack=\\\"end\\\" anonid=\\\"tabstrip-closebutton\\\">\\n+              <xul:toolbarbutton class=\\\"close-button tabs-closebutton\\\"/>\\n+            </xul:hbox>\\n+          </xul:hbox>\\n+          <xul:spacer class=\\\"tabs-bottom-spacer\\\"/>\\n+        </xul:vbox>\\n+      </xul:stack>\\n+    </content>\\n+  </binding>\\n </bindings>\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tabstrip-bottom.png b/browser/themes/winstripe/browser/tabbrowser/tabstrip-bottom.png\\nindex 89ced7f..945f42d 100644\\nBinary files a/browser/themes/winstripe/browser/tabbrowser/tabstrip-bottom.png and b/browser/themes/winstripe/browser/tabbrowser/tabstrip-bottom.png differ\\n\""}