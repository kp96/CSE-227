{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas7e67df8\""},"diff":"\"7e67df8 Bug 396329 - check mDOMNode to avoid crash, r=aaronlev, a=dsicore\\ndiff --git a/accessible/src/xul/nsXULColorPickerAccessible.cpp b/accessible/src/xul/nsXULColorPickerAccessible.cpp\\nindex d7f3627..75a16b9 100644\\n--- a/accessible/src/xul/nsXULColorPickerAccessible.cpp\\n+++ b/accessible/src/xul/nsXULColorPickerAccessible.cpp\\n@@ -97,6 +97,9 @@ NS_IMETHODIMP nsXULColorPickerTileAccessible::GetName(nsAString& _retval)\\n \\n NS_IMETHODIMP nsXULColorPickerTileAccessible::GetValue(nsAString& _retval)\\n {\\n+  if (!mDOMNode)\\n+    return NS_ERROR_FAILURE;\\n+\\n   nsCOMPtr<nsIDOMElement> element(do_QueryInterface(mDOMNode));\\n   NS_ASSERTION(element, \\\"No XUL Element for colorpicker\\\");\\n   return element->GetAttribute(NS_LITERAL_STRING(\\\"color\\\"), _retval);\\ndiff --git a/accessible/src/xul/nsXULSelectAccessible.cpp b/accessible/src/xul/nsXULSelectAccessible.cpp\\nindex 0c9a6ee..dae6e63 100644\\n--- a/accessible/src/xul/nsXULSelectAccessible.cpp\\n+++ b/accessible/src/xul/nsXULSelectAccessible.cpp\\n@@ -146,6 +146,9 @@ NS_IMPL_ISUPPORTS_INHERITED0(nsXULListitemAccessible, nsAccessible)\\n   */\\n NS_IMETHODIMP nsXULListitemAccessible::GetName(nsAString& _retval)\\n {\\n+  if (!mDOMNode)\\n+    return NS_ERROR_FAILURE;\\n+\\n   nsCOMPtr<nsIDOMNode> child;\\n   if (NS_SUCCEEDED(mDOMNode->GetFirstChild(getter_AddRefs(child)))) {\\n     nsCOMPtr<nsIDOMElement> childElement (do_QueryInterface(child));\\n@@ -339,6 +342,9 @@ NS_IMETHODIMP nsXULComboboxAccessible::GetDescription(nsAString& aDescription)\\n NS_IMETHODIMP\\n nsXULComboboxAccessible::GetAllowsAnonChildAccessibles(PRBool *aAllowsAnonChildren)\\n {\\n+  if (!mDOMNode)\\n+    return NS_ERROR_FAILURE;\\n+\\n   nsCOMPtr<nsIContent> content = do_QueryInterface(mDOMNode);\\n \\n   if (content->NodeInfo()->Equals(nsAccessibilityAtoms::textbox, kNameSpaceID_XUL) ||\\n\""}