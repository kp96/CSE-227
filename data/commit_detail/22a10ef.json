{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas22a10ef\""},"diff":"\"22a10ef Bug 378575 - revert to image surface now that bug 383512 has landed. r+sr+a=tor\\ndiff --git a/layout/svg/base/src/nsSVGUtils.cpp b/layout/svg/base/src/nsSVGUtils.cpp\\nindex 76c021d..186f749 100644\\n--- a/layout/svg/base/src/nsSVGUtils.cpp\\n+++ b/layout/svg/base/src/nsSVGUtils.cpp\\n@@ -1359,9 +1359,8 @@ gfxASurface *\\n nsSVGUtils::GetThebesComputationalSurface()\\n {\\n   if (!mThebesComputationalSurface) {\\n-    nsRefPtr<gfxASurface> surface =\\n-      gfxPlatform::GetPlatform()->CreateOffscreenSurface(gfxIntSize(1, 1),\\n-                                                         gfxASurface::ImageFormatARGB32);\\n+    nsRefPtr<gfxImageSurface> surface =\\n+      new gfxImageSurface(gfxIntSize(1, 1), gfxASurface::ImageFormatARGB32);\\n     NS_ASSERTION(surface && !surface->CairoStatus(),\\n                  \\\"Could not create offscreen surface\\\");\\n     mThebesComputationalSurface = surface;\\n\""}