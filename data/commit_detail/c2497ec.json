{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basc2497ec\""},"diff":"\"c2497ec Bug 384956 - Provide access to extension options from app options. r-mano, ui-r=madhava\\ndiff --git a/browser/components/preferences/main.js b/browser/components/preferences/main.js\\nindex 8c5b087..ab2d8ce 100644\\n--- a/browser/components/preferences/main.js\\n+++ b/browser/components/preferences/main.js\\n@@ -444,6 +444,25 @@ var gMainPane = {\\n         return 0;\\n       break;\\n     }\\n+  },\\n+\\n+  /**\\n+   * Displays the Add-ons Manager.\\n+   */\\n+  showAddonsMgr: function ()\\n+  {\\n+    const EMTYPE = \\\"Extension:Manager\\\";\\n+    var wm = Components.classes[\\\"@mozilla.org/appshell/window-mediator;1\\\"]\\n+                       .getService(Components.interfaces.nsIWindowMediator);\\n+    var theEM = wm.getMostRecentWindow(EMTYPE);\\n+    if (theEM) {\\n+      theEM.focus();\\n+      return;\\n+    }\\n+\\n+    const EMURL = \\\"chrome://mozapps/content/extensions/extensions.xul\\\";\\n+    const EMFEATURES = \\\"chrome,menubar,extra-chrome,toolbar,dialog=no,resizable\\\";\\n+    window.openDialog(EMURL, \\\"\\\", EMFEATURES);\\n   }\\n \\n #ifdef HAVE_SHELL_SERVICE\\ndiff --git a/browser/components/preferences/main.xul b/browser/components/preferences/main.xul\\nindex 3f43b3f..848f3d1 100644\\n--- a/browser/components/preferences/main.xul\\n+++ b/browser/components/preferences/main.xul\\n@@ -162,7 +162,7 @@\\n                 accesskey=\\\"&closeWhenDone.accesskey;\\\" class=\\\"indent\\\"\\n                 preference=\\\"browser.download.manager.closeWhenDone\\\"/>\\n \\n-      <separator/>\\n+      <separator class=\\\"thin\\\"/>\\n \\n       <radiogroup id=\\\"saveWhere\\\"\\n                   preference=\\\"browser.download.useDownloadDir\\\"\\n@@ -203,7 +203,7 @@\\n       <hbox id=\\\"checkDefaultBox\\\" align=\\\"center\\\" flex=\\\"1\\\">      \\n         <checkbox id=\\\"alwaysCheckDefault\\\" preference=\\\"browser.shell.checkDefaultBrowser\\\"\\n                   label=\\\"&alwaysCheckDefault.label;\\\" accesskey=\\\"&alwaysCheckDefault.accesskey;\\\"\\n-                  flex=\\\"1\\\" style=\\\"height: &alwaysCheckDefault.height;\\\"/>\\n+                  flex=\\\"1\\\"/>\\n         <button id=\\\"checkDefaultButton\\\"\\n                 label=\\\"&checkNow.label;\\\" accesskey=\\\"&checkNow.accesskey;\\\"\\n                 oncommand=\\\"gMainPane.checkNow()\\\"\\n@@ -211,6 +211,21 @@\\n       </hbox>\\n     </groupbox>\\n #endif\\n+    <groupbox id=\\\"addonsMgrGroup\\\" orient=\\\"horizontal\\\">\\n+      <caption label=\\\"&addonsMgr.label;\\\"/>\\n+\\n+      <hbox align=\\\"center\\\" flex=\\\"1\\\">\\n+        <description control=\\\"manageAddons\\\"\\n+#ifdef XP_WIN\\n+                     flex=\\\"1\\\">&manageAddonsDesc.label;</description>\\n+#else\\n+                     flex=\\\"1\\\">&manageAddonsDescUnix.label;</description>\\n+#endif\\n+        <button id=\\\"manageAddons\\\" label=\\\"&manageAddons.label;\\\"\\n+                accesskey=\\\"&manageAddons.accesskey;\\\"\\n+                oncommand=\\\"gMainPane.showAddonsMgr();\\\"/>\\n+      </hbox>\\n+    </groupbox>\\n \\n   </prefpane>\\n \\ndiff --git a/browser/locales/en-US/chrome/browser/preferences/main.dtd b/browser/locales/en-US/chrome/browser/preferences/main.dtd\\nindex ccd8747..70bf099 100644\\n--- a/browser/locales/en-US/chrome/browser/preferences/main.dtd\\n+++ b/browser/locales/en-US/chrome/browser/preferences/main.dtd\\n@@ -36,12 +36,11 @@\\n <!ENTITY alwaysCheckDefault.label      \\\"Always check to see if &brandShortName; is the default browser on startup\\\"><!--XXX-->\\n <!ENTITY alwaysCheckDefault.accesskey  \\\"y\\\">\\n \\n-<!-- LOCALIZATION NOTE (alwaysCheckDefault.height):\\n-  There's some sort of bug which makes wrapping checkboxes not properly reflow,\\n-  causing the bottom border of the groupbox to be cut off; set this\\n-  appropriately if your localization causes this checkbox to wrap.\\n--->\\n-<!ENTITY alwaysCheckDefault.height  \\\"3em\\\">\\n-\\n <!ENTITY checkNow.label             \\\"Check Now\\\">\\n <!ENTITY checkNow.accesskey         \\\"N\\\">\\n+\\n+<!ENTITY addonsMgr.label            \\\"Add-ons\\\">\\n+<!ENTITY manageAddonsDesc.label     \\\"Change options for your add-ons.\\\">\\n+<!ENTITY manageAddonsDescUnix.label \\\"Change preferences for your add-ons.\\\">\\n+<!ENTITY manageAddons.label         \\\"Manage Add-ons...\\\">\\n+<!ENTITY manageAddons.accesskey     \\\"M\\\">\\n\""}