{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas90ae7b2\""},"diff":"\"90ae7b2 Bug 394825, Crash [@ nsGenericHTMLElement::SetElementFocus], r+sr+a=jst\\ndiff --git a/content/events/src/nsEventStateManager.cpp b/content/events/src/nsEventStateManager.cpp\\nindex 5d04ceb..94c6418 100644\\n--- a/content/events/src/nsEventStateManager.cpp\\n+++ b/content/events/src/nsEventStateManager.cpp\\n@@ -5155,7 +5155,7 @@ nsEventStateManager::MoveCaretToFocus()\\n       nsCOMPtr<nsIDOMDocumentRange> rangeDoc(do_QueryInterface(mDocument));\\n \\n       if (rangeDoc) {\\n-        nsISelection* domSelection = shell->FrameSelection()->\\n+        nsCOMPtr<nsISelection> domSelection = shell->FrameSelection()->\\n           GetSelection(nsISelectionController::SELECTION_NORMAL);\\n         if (domSelection) {\\n           nsCOMPtr<nsIDOMNode> currentFocusNode(do_QueryInterface(mCurrentFocus));\\n\""}