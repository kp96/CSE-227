{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas4250737\""},"diff":"\"4250737 Bug 371279. A11y events not generated for the Phrase Not Found label on Find toolbar. r=mano, a=mconnor\\ndiff --git a/toolkit/content/widgets/findbar.xml b/toolkit/content/widgets/findbar.xml\\nindex 90348ec..782a392 100644\\n--- a/toolkit/content/widgets/findbar.xml\\n+++ b/toolkit/content/widgets/findbar.xml\\n@@ -249,7 +249,10 @@\\n                     xbl:inherits=\\\"accesskey=matchcaseaccesskey\\\"/>\\n       <xul:label anonid=\\\"match-case-status\\\" class=\\\"findbar-find-fast\\\"/>\\n       <xul:image anonid=\\\"find-status-icon\\\" class=\\\"findbar-find-fast find-status-icon\\\"/>\\n-      <xul:label anonid=\\\"find-status\\\" class=\\\"findbar-find-fast findbar-find-status\\\"/>\\n+      <xul:description anonid=\\\"find-status\\\" class=\\\"findbar-find-fast findbar-find-status\\\"\\n+                       control=\\\"findbar-textbox\\\">\\n+      <!-- Do not use value, first child is used because it provides a11y with text change events -->\\n+      </xul:description>\\n     </content>\\n \\n     <implementation implements=\\\"nsIDOMEventListener\\\">\\n@@ -350,7 +353,7 @@\\n         // These elements are accessed frequently and are therefore cached\\n         this._findField = this.getElement(\\\"findbar-textbox\\\");\\n         this._findStatusIcon = this.getElement(\\\"find-status-icon\\\");\\n-        this._findStatusLabel = this.getElement(\\\"find-status\\\");\\n+        this._findStatusDesc = this.getElement(\\\"find-status\\\");\\n \\n         var prefsvc =\\n           Components.classes[\\\"@mozilla.org/preferences-service;1\\\"]\\n@@ -1174,19 +1177,19 @@\\n           switch (res) {\\n             case this.nsITypeAheadFind.FIND_WRAPPED:\\n               this._findStatusIcon.setAttribute(\\\"status\\\", \\\"wrapped\\\");\\n-              this._findStatusLabel.value =\\n+              this._findStatusDesc.textContent =\\n                 aFindPrevious ? this._wrappedToBottomStr : this._wrappedToTopStr;\\n               this._findField.removeAttribute(\\\"status\\\");\\n               break;\\n             case this.nsITypeAheadFind.FIND_NOTFOUND:\\n               this._findStatusIcon.setAttribute(\\\"status\\\", \\\"notfound\\\");\\n-              this._findStatusLabel.value = this._notFoundStr;\\n+              this._findStatusDesc.textContent = this._notFoundStr;\\n               this._findField.setAttribute(\\\"status\\\", \\\"notfound\\\");\\n               break;\\n             case this.nsITypeAheadFind.FIND_FOUND:\\n             default:\\n               this._findStatusIcon.removeAttribute(\\\"status\\\");\\n-              this._findStatusLabel.value = \\\"\\\";\\n+              this._findStatusDesc.textContent = \\\"\\\";\\n               this._findField.removeAttribute(\\\"status\\\");\\n               break;\\n           }\\n\""}