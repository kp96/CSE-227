{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basc5fdea6\""},"diff":"\"c5fdea6 Bug 389801 - \\\"Firefox crashes with some GTK+ themes whose gtkrc contains GtkOptionMenu::indicator_size and GtkOptionMenu::indicator_spacing\\\" [p=fcrozat@mandriva.com (Frederic Crozat) r=chpe sr=roc a1.9=roc]\\ndiff --git a/widget/src/gtk2/gtk2drawing.c b/widget/src/gtk2/gtk2drawing.c\\nindex a471898..3a71742 100644\\n--- a/widget/src/gtk2/gtk2drawing.c\\n+++ b/widget/src/gtk2/gtk2drawing.c\\n@@ -565,8 +565,8 @@ moz_gtk_option_menu_get_metrics(gboolean* interior_focus,\\n     else\\n         *indicator_spacing = default_indicator_spacing;\\n \\n-    g_free(tmp_indicator_size);\\n-    g_free(tmp_indicator_spacing);\\n+    gtk_requisition_free(tmp_indicator_size);\\n+    gtk_border_free(tmp_indicator_spacing);\\n  \\n     return MOZ_GTK_SUCCESS;\\n }\\n\""}