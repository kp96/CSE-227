{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basbc69307\""},"diff":"\"bc69307 Bug 345257 - add tooltip to 'all tabs' menu button. patch from Michael Ventnor <ventnors_dogs234@yahoo.com.au>, r=me.\\ndiff --git a/browser/base/content/tabbrowser.xml b/browser/base/content/tabbrowser.xml\\nindex 18ef234..23b3370 100644\\n--- a/browser/base/content/tabbrowser.xml\\n+++ b/browser/base/content/tabbrowser.xml\\n@@ -2511,7 +2511,7 @@\\n         -->\\n         <xul:hbox style=\\\"position: relative;\\\">\\n           <xul:toolbarbutton class=\\\"tabs-alltabs-button\\\" type=\\\"menu\\\"\\n-                             anonid=\\\"alltabs-button\\\">\\n+                             anonid=\\\"alltabs-button\\\" tooltipstring=\\\"&listAllTabs.label;\\\">\\n             <xul:menupopup class=\\\"tabs-alltabs-popup\\\"\\n                            anonid=\\\"alltabs-popup\\\" \\n                            position=\\\"after_end\\\"/>\\n@@ -2722,6 +2722,11 @@\\n                                                 \\\"anonid\\\", \\\"alltabs-box\\\");\\n       </field>\\n \\n+      <field name=\\\"mAllTabsButton\\\">\\n+        document.getAnonymousElementByAttribute(this, \\n+                                                \\\"anonid\\\", \\\"alltabs-button\\\");\\n+      </field>\\n+\\n       <field name=\\\"_animateTimer\\\">null</field>\\n       <field name=\\\"_animateStep\\\">-1</field>\\n       <field name=\\\"_animateDelay\\\">25</field>\\n@@ -2794,6 +2799,15 @@\\n     </implementation>\\n     <handlers>\\n       <handler event=\\\"TabSelect\\\" action=\\\"this._handleTabSelect();\\\"/>\\n+      <handler event=\\\"mouseover\\\"><![CDATA[\\r\\n+        if (event.originalTarget == this.mAllTabsButton) {\\n+          this.mAllTabsButton\\n+              .setAttribute(\\\"tooltiptext\\\",\\n+                            this.mAllTabsButton.getAttribute(\\\"tooltipstring\\\"));\\n+        }\\r\\n+        else\\r\\n+          this.mAllTabsButton.removeAttribute(\\\"tooltiptext\\\");\\n+      ]]></handler>\\n     </handlers>\\n   </binding>\\n \\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tabbrowserBindings.xml b/browser/themes/pinstripe/browser/tabbrowser/tabbrowserBindings.xml\\nindex 6b242e2..3f0fc93 100644\\n--- a/browser/themes/pinstripe/browser/tabbrowser/tabbrowserBindings.xml\\n+++ b/browser/themes/pinstripe/browser/tabbrowser/tabbrowserBindings.xml\\n@@ -79,7 +79,8 @@\\n               -->\\n               <xul:hbox style=\\\"position: relative;\\\">\\n                 <xul:toolbarbutton class=\\\"tabs-alltabs-button\\\" type=\\\"menu\\\"\\n-                                   anonid=\\\"alltabs-button\\\">\\n+                                   anonid=\\\"alltabs-button\\\"\\n+                                   tooltipstring=\\\"&listAllTabs.label;\\\">\\n                   <xul:menupopup class=\\\"tabs-alltabs-popup\\\"\\n                                  anonid=\\\"alltabs-popup\\\" position=\\\"after_end\\\"/>\\n                 </xul:toolbarbutton>\\n\""}