{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas7944e94\""},"diff":"\"7944e94 Remove default preferences associated with freetype2 code, which was used only by the old gfx code, and with other previously-removed X11 font code.  b=389697  r+a1.9=vlad\\ndiff --git a/modules/libpref/src/init/all.js b/modules/libpref/src/init/all.js\\nindex 16e778a..448e9bc 100644\\n--- a/modules/libpref/src/init/all.js\\n+++ b/modules/libpref/src/init/all.js\\n@@ -2320,120 +2320,6 @@ pref(\\\"font.default.zh-HK\\\", \\\"sans-serif\\\");\\n pref(\\\"font.size.variable.zh-HK\\\", 16);\\n pref(\\\"font.size.fixed.zh-HK\\\", 16);\\n \\n-// below a certian pixel size outline scaled fonts produce poor results\\n-pref(\\\"font.scale.outline.min\\\",      6);\\n-\\n-// TrueType\\n-pref(\\\"font.FreeType2.enable\\\", false);\\n-pref(\\\"font.freetype2.shared-library\\\", \\\"libfreetype.so.6\\\");\\n-// if libfreetype was built without hinting compiled in\\n-// it is best to leave hinting off\\n-pref(\\\"font.FreeType2.autohinted\\\", false);\\n-pref(\\\"font.FreeType2.unhinted\\\", true);\\n-// below a certian pixel size anti-aliased fonts produce poor results\\n-pref(\\\"font.antialias.min\\\",        10);\\n-pref(\\\"font.embedded_bitmaps.max\\\", 1000000);\\n-pref(\\\"font.scale.tt_bitmap.dark_text.min\\\", 64);\\n-pref(\\\"font.scale.tt_bitmap.dark_text.gain\\\", \\\"0.8\\\");\\n-// sample prefs for TrueType font dirs\\n-//pref(\\\"font.directory.truetype.1\\\", \\\"/u/sam/tt_font1\\\");\\n-//pref(\\\"font.directory.truetype.2\\\", \\\"/u/sam/tt_font2\\\");\\n-//pref(\\\"font.directory.truetype.3\\\", \\\"/u/sam/tt_font3\\\");\\n-pref(\\\"font.FreeType2.printing\\\", true);\\n-\\n-// below a certain pixel size anti-aliased bitmap scaled fonts \\n-// produce poor results\\n-pref(\\\"font.scale.aa_bitmap.enable\\\", true);\\n-pref(\\\"font.scale.aa_bitmap.always\\\", false);\\n-pref(\\\"font.scale.aa_bitmap.min\\\", 6);\\n-pref(\\\"font.scale.aa_bitmap.undersize\\\", 80);\\n-pref(\\\"font.scale.aa_bitmap.oversize\\\", 120);\\n-pref(\\\"font.scale.aa_bitmap.dark_text.min\\\", 64);\\n-pref(\\\"font.scale.aa_bitmap.dark_text.gain\\\", \\\"0.5\\\");\\n-pref(\\\"font.scale.aa_bitmap.light_text.min\\\", 64);\\n-pref(\\\"font.scale.aa_bitmap.light_text.gain\\\", \\\"1.3\\\");\\n-\\n-pref(\\\"font.scale.bitmap.min\\\",       12);\\n-pref(\\\"font.scale.bitmap.undersize\\\", 80);\\n-pref(\\\"font.scale.bitmap.oversize\\\",  120);\\n-\\n-pref(\\\"font.scale.outline.min.ja\\\",      10);\\n-pref(\\\"font.scale.aa_bitmap.min.ja\\\",    12);\\n-pref(\\\"font.scale.aa_bitmap.always.ja\\\", false);\\n-pref(\\\"font.scale.bitmap.min.ja\\\",       16);\\n-pref(\\\"font.scale.bitmap.undersize.ja\\\", 80);\\n-pref(\\\"font.scale.bitmap.oversize.ja\\\",  120);\\n-\\n-pref(\\\"font.scale.outline.min.ko\\\",      10);\\n-pref(\\\"font.scale.aa_bitmap.min.ko\\\",    12);\\n-pref(\\\"font.scale.aa_bitmap.always.ko\\\", false);\\n-pref(\\\"font.scale.bitmap.min.ko\\\",       16);\\n-pref(\\\"font.scale.bitmap.undersize.ko\\\", 80);\\n-pref(\\\"font.scale.bitmap.oversize.ko\\\",  120);\\n-\\n-pref(\\\"font.scale.outline.min.zh-CN\\\",      10);\\n-pref(\\\"font.scale.aa_bitmap.min.zh-CN\\\",    12);\\n-pref(\\\"font.scale.aa_bitmap.always.zh-CN\\\", false);\\n-pref(\\\"font.scale.bitmap.min.zh-CN\\\",       16);\\n-pref(\\\"font.scale.bitmap.undersize.zh-CN\\\", 80);\\n-pref(\\\"font.scale.bitmap.oversize.zh-CN\\\",  120);\\n-\\n-pref(\\\"font.scale.outline.min.zh-TW\\\",      10);\\n-pref(\\\"font.scale.aa_bitmap.min.zh-TW\\\",    12);\\n-pref(\\\"font.scale.aa_bitmap.always.zh-TW\\\", false);\\n-pref(\\\"font.scale.bitmap.min.zh-TW\\\",       16);\\n-pref(\\\"font.scale.bitmap.undersize.zh-TW\\\", 80);\\n-pref(\\\"font.scale.bitmap.oversize.zh-TW\\\",  120);\\n-\\n-pref(\\\"font.scale.outline.min.zh-HK\\\",      10);\\n-pref(\\\"font.scale.aa_bitmap.min.zh-HK\\\",    12);\\n-pref(\\\"font.scale.aa_bitmap.always.zh-HK\\\", false);\\n-pref(\\\"font.scale.bitmap.min.zh-HK\\\",       16);\\n-pref(\\\"font.scale.bitmap.undersize.zh-HK\\\", 80);\\n-pref(\\\"font.scale.bitmap.oversize.zh-HK\\\",  120);\\n-\\n-// minimum font sizes\\n-\\n-pref(\\\"font.min-size.variable.ja\\\", 10);\\n-pref(\\\"font.min-size.fixed.ja\\\", 10);\\n-\\n-pref(\\\"font.min-size.variable.ko\\\", 10);\\n-pref(\\\"font.min-size.fixed.ko\\\", 10);\\n-\\n-pref(\\\"font.min-size.variable.zh-CN\\\", 10);\\n-pref(\\\"font.min-size.fixed.zh-CN\\\", 10);\\n-\\n-pref(\\\"font.min-size.variable.zh-TW\\\", 10);\\n-pref(\\\"font.min-size.fixed.zh-TW\\\", 10);\\n-\\n-pref(\\\"font.min-size.variable.zh-HK\\\", 10);\\n-pref(\\\"font.min-size.fixed.zh-HK\\\", 10);\\n-\\n-// X11 specific\\n-/* X11 font accept/reject patterns:\\n- * Patterns have to match against strings like this:\\n- * (boolean values can only be \\\"true\\\" or \\\"false\\\")\\n- * \\\"fname=.*;scalable=.*;outline_scaled=.*;xdisplay=.*;xdpy=%d;ydpy=%d;xdevice=.*\\\"\\n- * - fname     = X11 font name (string)\\n- * - scalable  = is font scalable ? (boolean)\\n- * - outline_scaled = is font an outline scaled font ? (boolean)\\n- * - xdisplay  = X11 display name (like \\\"host:0.0\\\" (string)\\n- * - xdpy      = X DPI (X screen resolution) (integer)\\n- * - ydpy      = Y DPI (Y screen resolution) (integer)\\n- * - xdevice   = \\\"display\\\" or \\\"printer\\\" (Xprint - now obsolete)\\n- * Patterns use  the regular expressions described in the EXTENDED REGULAR\\n- * EXPRESSIONS section of the regex(5) manual page.\\n- * Note that prefs strings can always be concatenated via the '+'-operator,\\n- * e.g. pref(\\\"font.x11.acceptfontpattern\\\", \\\"pattern1|\\\" + \\n- *                                         \\\"pattern2|\\\" +\\n- *                                         \\\"pattern3\\\");\\n- */\\n-/* reject font if accept pattern does not match it... */\\n-//pref(\\\"font.x11.acceptfontpattern\\\", \\\".*\\\");\\n-/* reject font if reject pattern matches it... */\\n-//pref(\\\"font.x11.rejectfontpattern\\\", \\n-//     \\\"fname=-urw.*;scalable=false;outline_scaled=false;xdisplay=.*;xdpy=.*;ydpy=.*;xdevice=.*\\\");\\n-\\n /* PostScript print module prefs */\\n // pref(\\\"print.postscript.enabled\\\",      true);\\n pref(\\\"print.postscript.paper_size\\\",    \\\"letter\\\");\\n\""}