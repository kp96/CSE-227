{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Base28a277\""},"diff":"\"e28a277 Sisyphus - bug 386992, not part of the build\\ndiff --git a/testing/sisyphus/bin/build.sh b/testing/sisyphus/bin/build.sh\\nindex f23aede..dbef065 100755\\n--- a/testing/sisyphus/bin/build.sh\\n+++ b/testing/sisyphus/bin/build.sh\\n@@ -45,77 +45,88 @@ source $TEST_BIN/set-build-env.sh $@\\n \\n case $product in\\n     firefox|thunderbird)\\n-\\tcd $TREE/mozilla\\n+        cd $TREE/mozilla\\n \\n-\\tif ! make -f client.mk build 2>&1; then\\n-\\t    error \\\"during build\\\"\\n-\\tfi\\n+        if ! make -f client.mk build 2>&1; then\\n \\n-\\tcase \\\"$OSID\\\" in\\n-\\t    mac) \\n-\\t\\tif [[ \\\"$buildtype\\\" == \\\"debug\\\" ]]; then\\n-\\t\\t    if [[ \\\"$product\\\" == \\\"firefox\\\" ]]; then\\n-\\t\\t\\texecutablepath=$product-$buildtype/dist/FirefoxDebug.app/Contents/MacOS\\n-\\t\\t    elif [[ \\\"$product\\\" == \\\"thunderbird\\\" ]]; then\\n-\\t\\t\\texecutablepath=$product-$buildtype/dist/ThunderbirdDebug.app/Contents/MacOS\\n-\\t\\t    fi\\n-\\t\\telse\\n-\\t\\t    if [[ \\\"$product\\\" == \\\"firefox\\\" ]]; then\\n-\\t\\t\\texecutablepath=$product-$buildtype/dist/Firefox.app/Contents/MacOS\\n-\\t\\t    elif [[ \\\"$product\\\" == \\\"thunderbird\\\" ]]; then\\n-\\t\\t\\texecutablepath=$product-$buildtype/dist/Thunderbird.app/Contents/MacOS\\n-\\t\\t    fi\\n-\\t\\tfi\\n-\\t\\t;;\\n-\\t    \\\"linux\\\")\\n-\\t\\texecutablepath=$product-$buildtype/dist/bin\\n-\\t\\t;;\\n-\\tesac\\n+            if [[ -z \\\"$TEST_FORCE_CLOBBER_ON_ERROR\\\" ]]; then\\n+                error \\\"error during build\\\"\\n+            else\\n+                echo \\\"error occured during build. attempting a clobber build\\\"\\n+                if ! make -f client.mk distclean 2>&1; then\\n+                    error \\\"error during forced clobber\\\"\\n+                fi\\n+                if ! make -f client.mk build 2>&1; then\\n+                    error \\\"error during forced build\\\"\\n+                fi\\n+            fi\\n+        fi\\n \\n-\\tif [[ \\\"$OSID\\\" != \\\"win32\\\" ]]; then\\n-    #\\n-    # patch unix-like startup scripts to exec instead of \\n-    # forking new processes\\n-    #\\n-\\t    executable=`get_executable $product $branch $executablepath`\\n-\\t    if [[ -z \\\"$executable\\\" ]]; then\\n-\\t\\terror \\\"get_executable $product $branch $executablepath returned empty path\\\"\\n-\\t    fi\\n+        case \\\"$OSID\\\" in\\n+            mac) \\n+                if [[ \\\"$buildtype\\\" == \\\"debug\\\" ]]; then\\n+                    if [[ \\\"$product\\\" == \\\"firefox\\\" ]]; then\\n+                        executablepath=$product-$buildtype/dist/FirefoxDebug.app/Contents/MacOS\\n+                    elif [[ \\\"$product\\\" == \\\"thunderbird\\\" ]]; then\\n+                        executablepath=$product-$buildtype/dist/ThunderbirdDebug.app/Contents/MacOS\\n+                    fi\\n+                else\\n+                    if [[ \\\"$product\\\" == \\\"firefox\\\" ]]; then\\n+                        executablepath=$product-$buildtype/dist/Firefox.app/Contents/MacOS\\n+                    elif [[ \\\"$product\\\" == \\\"thunderbird\\\" ]]; then\\n+                        executablepath=$product-$buildtype/dist/Thunderbird.app/Contents/MacOS\\n+                    fi\\n+                fi\\n+                ;;\\n+            linux)\\n+            executablepath=$product-$buildtype/dist/bin\\n+            ;;\\n+        esac\\n \\n+        if [[ \\\"$OSID\\\" != \\\"win32\\\" ]]; then\\n+            #\\n+            # patch unix-like startup scripts to exec instead of \\n+            # forking new processes\\n+            #\\n+            executable=`get_executable $product $branch $executablepath`\\n+            if [[ -z \\\"$executable\\\" ]]; then\\n+                error \\\"get_executable $product $branch $executablepath returned empty path\\\"\\n+            fi\\n \\n-\\t    executabledir=`dirname $executable`\\n \\n-    # patch to use exec to prevent forked processes\\n-\\t    cd \\\"$executabledir\\\"\\n-\\t    if [ -e \\\"$product\\\" ]; then\\n-\\t\\techo \\\"$SCRIPT: patching $product\\\"\\n-\\t\\tcp $TEST_BIN/$product.diff .\\n-\\t\\tpatch -N -p0 < $product.diff\\n-\\t    fi\\n-\\t    if [ -e run-mozilla.sh ]; then\\n-\\t\\techo \\\"$SCRIPT: patching run-mozilla.sh\\\"\\n-\\t\\tcp $TEST_BIN/run-mozilla.diff .\\n-\\t\\tpatch -N -p0 < run-mozilla.diff\\n-\\t    fi\\n-\\tfi\\n-\\t;;\\n+            executabledir=`dirname $executable`\\n+\\n+            # patch to use exec to prevent forked processes\\n+            cd \\\"$executabledir\\\"\\n+            if [ -e \\\"$product\\\" ]; then\\n+                echo \\\"$SCRIPT: patching $product\\\"\\n+                cp $TEST_BIN/$product.diff .\\n+                patch -N -p0 < $product.diff\\n+            fi\\n+            if [ -e run-mozilla.sh ]; then\\n+                echo \\\"$SCRIPT: patching run-mozilla.sh\\\"\\n+                cp $TEST_BIN/run-mozilla.diff .\\n+                patch -N -p0 < run-mozilla.diff\\n+            fi\\n+        fi\\n+        ;;\\n     js)\\n-\\tcd $TREE/mozilla/js/src\\n+    cd $TREE/mozilla/js/src\\n \\n-\\tif [[ $buildtype == \\\"debug\\\" ]]; then\\n-\\t    export JSBUILDOPT=\\n-\\telse\\n-\\t    export JSBUILDOPT=BUILD_OPT=1\\n-\\tfi\\n+    if [[ $buildtype == \\\"debug\\\" ]]; then\\n+        export JSBUILDOPT=\\n+    else\\n+        export JSBUILDOPT=BUILD_OPT=1\\n+    fi\\n \\n-\\tif ! make -f Makefile.ref ${JSBUILDOPT} clean 2>&1; then\\n-\\t    error \\\"during js/src clean\\\"\\n-\\tfi \\n+    if ! make -f Makefile.ref ${JSBUILDOPT} clean 2>&1; then\\n+        error \\\"during js/src clean\\\"\\n+    fi \\n \\n-\\tif ! make -f Makefile.ref ${JSBUILDOPT} 2>&1; then\\n-\\t    error \\\"during js/src build\\\"\\n-\\tfi\\n-\\t;;\\n+    if ! make -f Makefile.ref ${JSBUILDOPT} 2>&1; then\\n+        error \\\"during js/src build\\\"\\n+    fi\\n+    ;;\\n esac\\n \\n \\ndiff --git a/testing/sisyphus/bin/builder.sh b/testing/sisyphus/bin/builder.sh\\nindex c3bccc2..b944976 100755\\n--- a/testing/sisyphus/bin/builder.sh\\n+++ b/testing/sisyphus/bin/builder.sh\\n@@ -65,10 +65,11 @@ variable            description\\n -d datafiles        optional. one or more filenames of files containing \\n                     environment variable definitions to be included.\\n \\n-                    note that the environment variables should have the same \\n-                    names as in the \\\"variable\\\" column.\\n+note that the environment variables should have the same names as in the \\n+\\\"variable\\\" column.\\n+\\n EOF\\n-    exit 2\\n+    exit 1\\n }\\n \\n unset products branches buildcommands buildtypes extra extraflag datafiles\\ndiff --git a/testing/sisyphus/bin/check-spider.sh b/testing/sisyphus/bin/check-spider.sh\\nindex 117b76f..39fca48 100755\\n--- a/testing/sisyphus/bin/check-spider.sh\\n+++ b/testing/sisyphus/bin/check-spider.sh\\n@@ -62,8 +62,8 @@ variable            description\\n -d datafiles        optional. one or more filenames of files containing \\n                     environment variable definitions to be included.\\n \\n-                    note that the environment variables should have the same \\n-                    names as in the \\\"variable\\\" column.\\n+note that the environment variables should have the same names as in the \\n+\\\"variable\\\" column.\\n \\n Checks if the Spider extension is installed either in the named profile\\n or as a global extension, by attempting up to 3 times to launch the Spider.\\n@@ -77,14 +77,14 @@ EOF\\n unset product branch executablepath profilename datafiles\\n \\n while getopts $options optname ; \\n-do \\n-    case $optname in\\n-        p) product=$OPTARG;;\\n-        b) branch=$OPTARG;;\\n-        x) executablepath=$OPTARG;;\\n-        N) profilename=$OPTARG;;\\n-        d) datafiles=$OPTARG;;\\n-    esac\\n+  do \\n+  case $optname in\\n+      p) product=$OPTARG;;\\n+      b) branch=$OPTARG;;\\n+      x) executablepath=$OPTARG;;\\n+      N) profilename=$OPTARG;;\\n+      d) datafiles=$OPTARG;;\\n+  esac\\n done\\n \\n # include environment variables\\n@@ -96,7 +96,7 @@ if [[ -n \\\"$datafiles\\\" ]]; then\\n fi\\n \\n if [[ -z \\\"$product\\\" || -z \\\"$branch\\\" || -z \\\"$executablepath\\\" || -z \\\"$profilename\\\" ]]; \\n-then\\n+    then\\n     usage\\n fi\\n \\n@@ -105,7 +105,7 @@ if [[ \\\"$product\\\" != \\\"firefox\\\" && \\\"$product\\\" != \\\"thunderbird\\\" ]]; then\\n fi\\n \\n if [[ \\\"$branch\\\" != \\\"1.8.0\\\" && \\\"$branch\\\" != \\\"1.8.1\\\" && \\\"$branch\\\" != \\\"1.9.0\\\" ]]; \\n-then\\n+    then\\n     error \\\"branch \\\\\\\"$branch\\\\\\\" must be one of 1.8.0, 1.8.1, 1.9.0\\\"\\n fi\\n \\ndiff --git a/testing/sisyphus/bin/checkout.sh b/testing/sisyphus/bin/checkout.sh\\nindex cb8e74f..6b55a0a 100755\\n--- a/testing/sisyphus/bin/checkout.sh\\n+++ b/testing/sisyphus/bin/checkout.sh\\n@@ -41,7 +41,7 @@ TEST_DIR=${TEST_DIR:-/work/mozilla/mozilla.com/test.mozilla.com/www}\\n TEST_BIN=${TEST_BIN:-$TEST_DIR/bin}\\n source ${TEST_BIN}/library.sh\\n \\n-source /work/mozilla/mozilla.com/test.mozilla.com/www/bin/set-build-env.sh $@\\n+source ${TEST_BIN}/set-build-env.sh $@\\n \\n if [[ -z \\\"$TREE\\\" ]]; then\\n     error \\\"source tree not specified!\\\"\\n@@ -54,7 +54,7 @@ case $product in\\n         if [[ ! ( -d mozilla && \\\\\\n             -e mozilla/client.mk && \\\\\\n             -e \\\"mozilla/$project/config/mozconfig\\\" ) ]]; then\\n-            if ! cvs -z3 -q co $BRANCH_CO_FLAGS \\\\\\n+            if ! eval cvs -z3 -q co $BRANCH_CO_FLAGS \\\\\\n                 mozilla/client.mk mozilla/$project/config/mozconfig; then\\n                 error \\\"during checkout of mozconfig\\\"\\n             fi\\n@@ -65,33 +65,33 @@ case $product in\\n         if ! make -f client.mk checkout 2>&1; then\\n             error \\\"during checkout of tree\\\"\\n         fi\\n-        ;;\\n-    js) \\n-        if [[ ! ( -d mozilla && \\\\\\n-            -e mozilla/js && \\\\\\n-            -e mozilla/js/src ) ]]; then\\n-            cvs -z3 -q co mozilla/js/src\\n-        fi\\n \\n-        cd mozilla/js/src\\n+        case \\\"$extra\\\" in\\n+            jprof)\\n+                cvs -z3 -q update -d -P tools/jprof\\n+                ;;\\n+        esac\\n \\n-        if ! cvs -z3 -q update -d -P 2>&1; then\\n-            error \\\"during checkout of js/src\\\"\\n-        fi\\n-\\n-        if ! cvs -z3 -q update -d -P -A editline config  2>&1; then\\n-            error \\\"during checkout of js/src\\\"\\n-        fi\\n-# end for js shell\\n         ;;\\n+    js) \\n+    if [[ ! ( -d mozilla && \\\\\\n+        -e mozilla/js && \\\\\\n+        -e mozilla/js/src ) ]]; then\\n+        eval cvs -z3 -q co $BRANCH_CO_FLAGS $DATE_CO_FLAGS mozilla/js/src\\n+    fi\\n+\\n+    cd mozilla/js/src\\n+\\n+    if ! eval cvs -z3 -q update $BRANCH_CO_FLAGS $DATE_CO_FLAGS -d -P 2>&1; then\\n+        error \\\"during checkout of js/src\\\"\\n+    fi\\n+\\n+    if ! cvs -z3 -q update -d -P -A editline config  2>&1; then\\n+        error \\\"during checkout of js/src\\\"\\n+    fi\\n+    # end for js shell\\n+    ;;\\n     *)\\n-        error \\\"unknown product $product\\\"\\n-        ;;\\n+    error \\\"unknown product $product\\\"\\n+    ;;\\n esac\\n-\\n-\\n-\\n-\\n-\\n-\\n-\\ndiff --git a/testing/sisyphus/bin/clean.sh b/testing/sisyphus/bin/clean.sh\\nindex 4b2bce8..9254f13 100755\\n--- a/testing/sisyphus/bin/clean.sh\\n+++ b/testing/sisyphus/bin/clean.sh\\n@@ -41,22 +41,22 @@ TEST_DIR=${TEST_DIR:-/work/mozilla/mozilla.com/test.mozilla.com/www}\\n TEST_BIN=${TEST_BIN:-$TEST_DIR/bin}\\n source ${TEST_BIN}/library.sh\\n \\n-source /work/mozilla/mozilla.com/test.mozilla.com/www/bin/set-build-env.sh $@\\n+source ${TEST_BIN}/set-build-env.sh $@\\n \\n case $product in\\n     firefox|thunderbird)\\n-\\tcd $TREE/mozilla\\n+        cd $TREE/mozilla\\n \\n-\\tif ! make -f client.mk distclean 2>&1; then\\n-\\t    error \\\"during client.mk clean\\\"\\n-\\tfi\\n-\\t;;\\n+        if ! make -f client.mk clean 2>&1; then\\n+            error \\\"during client.mk clean\\\"\\n+        fi\\n+        ;;\\n \\n     js)\\n-\\tcd $TREE/mozilla/js/src\\n+        cd $TREE/mozilla/js/src\\n \\n-\\tif ! make -f Makefile.ref clean 2>&1; then\\n-\\t    error \\\"during SpiderMonkey clean\\\"\\n-\\tfi\\n-\\t;;\\n+        if ! make -f Makefile.ref clean 2>&1; then\\n+            error \\\"during SpiderMonkey clean\\\"\\n+        fi\\n+        ;;\\n esac\\ndiff --git a/testing/sisyphus/bin/combo.sh b/testing/sisyphus/bin/combo.sh\\nindex c827040..44e2f4f 100755\\n--- a/testing/sisyphus/bin/combo.sh\\n+++ b/testing/sisyphus/bin/combo.sh\\n@@ -12,7 +12,7 @@ done\\n if [[ $OPTIND -gt 1 ]]; then\\n     shift 2\\n fi\\n-    \\n+\\n \\n if [[ -n \\\"$4\\\" ]]; then\\n     for a in $1; do for b in $2; do for c in $3; do for d in $4; do echo $a$delim$b$delim$c$delim$d; done; done; done; done\\n@@ -47,4 +47,5 @@ b-1\\n b-2\\n \\n EOF\\n+\\n fi\\ndiff --git a/testing/sisyphus/bin/create-directory.sh b/testing/sisyphus/bin/create-directory.sh\\nindex 9eaf905..a533931 100755\\n--- a/testing/sisyphus/bin/create-directory.sh\\n+++ b/testing/sisyphus/bin/create-directory.sh\\n@@ -67,10 +67,10 @@ directories... /grandparent/parent/child.\\n This script will destroy existing directories and\\n their contents. It can potentially wipe out your\\n disk. Use with caution.\\n-******************** WARNING ********************\\n+    ******************** WARNING ********************\\n \\n EOF\\n-    exit 2\\n+    exit 1\\n }\\n \\n unset directory\\n@@ -78,15 +78,15 @@ unset directory\\n rmopt=\\\"-i\\\"\\n \\n while getopts $options optname ; \\n-do \\n-    case $optname in\\n-        d) directory=$OPTARG;;\\n-        n) unset rmopt;;\\n-    esac\\n+  do \\n+  case $optname in\\n+      d) directory=$OPTARG;;\\n+      n) unset rmopt;;\\n+  esac\\n done\\n \\n if [[ -z $directory ]]\\n-then\\n+    then\\n     usage\\n fi\\n \\ndiff --git a/testing/sisyphus/bin/create-profile.sh b/testing/sisyphus/bin/create-profile.sh\\nindex b764cca..0d1acc8 100755\\n--- a/testing/sisyphus/bin/create-profile.sh\\n+++ b/testing/sisyphus/bin/create-profile.sh\\n@@ -64,8 +64,9 @@ variable            description\\n -d datafiles        optional. one or more filenames of files containing \\n                     environment variable definitions to be included.\\n \\n-                    note that the environment variables should have the same \\n-                    names as in the \\\"variable\\\" column.\\n+note that the environment variables should have the same names as in the \\n+\\\"variable\\\" column.\\n+\\n EOF\\n     exit 1\\n }\\n@@ -73,17 +74,17 @@ EOF\\n unset product branch executablepath directory profilename profiletemplate user datafiles\\n \\n while getopts $options optname ; \\n-do \\n-    case $optname in\\n-        p) product=$OPTARG;;\\n-        b) branch=$OPTARG;;\\n-        x) executablepath=$OPTARG;;\\n-        D) directory=$OPTARG;;\\n-        N) profilename=$OPTARG;;\\n-        L) profiletemplate=$OPTARG;;\\n-        U) user=$OPTARG;;\\n-        d) datafiles=$OPTARG;;\\n-    esac\\n+  do \\n+  case $optname in\\n+      p) product=$OPTARG;;\\n+      b) branch=$OPTARG;;\\n+      x) executablepath=$OPTARG;;\\n+      D) directory=$OPTARG;;\\n+      N) profilename=$OPTARG;;\\n+      L) profiletemplate=$OPTARG;;\\n+      U) user=$OPTARG;;\\n+      d) datafiles=$OPTARG;;\\n+  esac\\n done\\n \\n # include environment variables\\n@@ -104,7 +105,7 @@ if [[ \\\"$product\\\" != \\\"firefox\\\" && \\\"$product\\\" != \\\"thunderbird\\\" ]]; then\\n fi\\n \\n if [[ \\\"$branch\\\" != \\\"1.8.0\\\" && \\\"$branch\\\" != \\\"1.8.1\\\" && \\\"$branch\\\" != \\\"1.9.0\\\" ]]; \\n-then\\n+    then\\n     error \\\"branch \\\\\\\"$branch\\\\\\\" must be one of 1.8.0, 1.8.1, 1.9.0\\\"\\n fi\\n \\n@@ -150,6 +151,3 @@ fi\\n if [[ ! -z $user ]]; then\\n     cp $user $directory/user.js\\n fi\\n-\\n-\\n-\\ndiff --git a/testing/sisyphus/bin/download.sh b/testing/sisyphus/bin/download.sh\\nindex df50656..0102f4d 100755\\n--- a/testing/sisyphus/bin/download.sh\\n+++ b/testing/sisyphus/bin/download.sh\\n@@ -62,8 +62,8 @@ variable            description\\n -d datafiles        optional. one or more filenames of files containing \\n                     environment variable definitions to be included.\\n \\n-                    note that the environment variables should have the same \\n-                    names as in the \\\"variable\\\" column.\\n+note that the environment variables should have the same names as in the \\n+\\\"variable\\\" column.\\n \\n downloads file from url with optional authentication credentials\\n saving the file to filepath. If the path to the file does not exist,\\n@@ -71,7 +71,7 @@ it is created. If the download takes longer than timeout seconds,\\n the download is cancelled.\\n \\n EOF\\n-    exit 2\\n+    exit 1\\n }\\n \\n unset url credentials filepath timeout datafiles\\ndiff --git a/testing/sisyphus/bin/edit-talkback.sh b/testing/sisyphus/bin/edit-talkback.sh\\nindex 756efd5..beb2a45 100755\\n--- a/testing/sisyphus/bin/edit-talkback.sh\\n+++ b/testing/sisyphus/bin/edit-talkback.sh\\n@@ -61,8 +61,9 @@ variable            description\\n -d datafiles        optional. one or more filenames of files containing \\n                     environment variable definitions to be included.\\n \\n-                    note that the environment variables should have the same \\n-                    names as in the \\\"variable\\\" column.\\n+note that the environment variables should have the same names as in the \\n+\\\"variable\\\" column.\\n+\\n EOF\\n     exit 1\\n }\\n@@ -70,14 +71,14 @@ EOF\\n unset product branch executablepath talkbackid datafiles\\n \\n while getopts $options optname ; \\n-do \\n-    case $optname in\\n-        p) product=$OPTARG;;\\n-        b) branch=$OPTARG;;\\n-        x) executablepath=$OPTARG;;\\n-        i) talkbackid=$OPTARG;;\\n-        d) datafiles=$OPTARG;;\\n-    esac\\n+  do \\n+  case $optname in\\n+      p) product=$OPTARG;;\\n+      b) branch=$OPTARG;;\\n+      x) executablepath=$OPTARG;;\\n+      i) talkbackid=$OPTARG;;\\n+      d) datafiles=$OPTARG;;\\n+  esac\\n done\\n \\n # include environment variables\\n@@ -127,75 +128,75 @@ fi\\n if [[ $talkback -eq 1 ]]; then\\n     # edit to automatically send talkback incidents\\n     if [[ ! -e master.sed ]]; then\\n-    #echo \\\"$0: editing talkback master.ini in `pwd`\\\"\\n+        #echo \\\"$0: editing talkback master.ini in `pwd`\\\"\\n         cp $TEST_BIN/master.sed .\\n         sed -f master.sed -i.bak master.ini\\n     fi\\n \\n     case $OSID in\\n         win32)\\n-            vendorid=`dos2unix < master.ini | grep '^VendorID = \\\"' | sed 's@VendorID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n-            productid=`dos2unix < master.ini | grep '^ProductID = \\\"' | sed 's@ProductID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n-            platformid=`dos2unix < master.ini | grep '^PlatformID = \\\"' | sed 's@PlatformID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n-            buildid=`dos2unix < master.ini | grep '^BuildID = \\\"' | sed 's@BuildID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n-            appdata=`cygpath -a -d \\\"$APPDATA\\\"`\\n-            talkbackdir=\\\"`cygpath -a -u $appdata`/Talkback\\\"\\n-            ;;\\n+        vendorid=`dos2unix < master.ini | grep '^VendorID = \\\"' | sed 's@VendorID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n+        productid=`dos2unix < master.ini | grep '^ProductID = \\\"' | sed 's@ProductID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n+        platformid=`dos2unix < master.ini | grep '^PlatformID = \\\"' | sed 's@PlatformID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n+        buildid=`dos2unix < master.ini | grep '^BuildID = \\\"' | sed 's@BuildID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n+        appdata=`cygpath -a -d \\\"$APPDATA\\\"`\\n+        talkbackdir=\\\"`cygpath -a -u $appdata`/Talkback\\\"\\n+        ;;\\n         linux)\\n-            vendorid=`dos2unix < master.ini | grep '^VendorID = \\\"' | sed 's@VendorID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n-            productid=`dos2unix < master.ini | grep '^ProductID = \\\"' | sed 's@ProductID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n-            platformid=`dos2unix < master.ini | grep '^PlatformID = \\\"' | sed 's@PlatformID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n-            buildid=`dos2unix < master.ini | grep '^BuildID = \\\"' | sed 's@BuildID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n-            talkbackdir=\\\"$HOME/.fullcircle\\\"\\n-            ;;\\n+        vendorid=`dos2unix < master.ini | grep '^VendorID = \\\"' | sed 's@VendorID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n+        productid=`dos2unix < master.ini | grep '^ProductID = \\\"' | sed 's@ProductID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n+        platformid=`dos2unix < master.ini | grep '^PlatformID = \\\"' | sed 's@PlatformID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n+        buildid=`dos2unix < master.ini | grep '^BuildID = \\\"' | sed 's@BuildID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n+        talkbackdir=\\\"$HOME/.fullcircle\\\"\\n+        ;;\\n         mac)\\n-            # hack around Mac's use of spaces in directory names\\n-            vendorid=`grep '^VendorID = \\\"' master.ini | sed 's@VendorID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n-            productid=`grep '^ProductID = \\\"' master.ini | sed 's@ProductID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n-            platformid=`grep '^PlatformID = \\\"' master.ini | sed 's@PlatformID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n-            buildid=`grep '^BuildID = \\\"' master.ini | sed 's@BuildID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n-            talkbackdir=\\\"$HOME/Library/Application Support/FullCircle\\\"\\n-            IFS=:\\n-            ;;\\n+        # hack around Mac's use of spaces in directory names\\n+        vendorid=`grep '^VendorID = \\\"' master.ini | sed 's@VendorID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n+        productid=`grep '^ProductID = \\\"' master.ini | sed 's@ProductID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n+        platformid=`grep '^PlatformID = \\\"' master.ini | sed 's@PlatformID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n+        buildid=`grep '^BuildID = \\\"' master.ini | sed 's@BuildID = \\\"\\\\([^\\\"]*\\\\)\\\"@\\\\1@'`\\n+        talkbackdir=\\\"$HOME/Library/Application Support/FullCircle\\\"\\n+        IFS=:\\n+        ;;\\n         *)\\n-            error \\\"unknown os $OSID\\\"\\n-            ;;\\n-    esac\\n-\\n-    if [[ -z \\\"$talkbackdir\\\" ]]; then\\n-        error \\\"empty talkback directory\\\"\\n-    fi\\n-\\n-    mkdir -p \\\"$talkbackdir\\\"\\n-    \\n-    case $OSID in\\n-        win32)\\n+        error \\\"unknown os $OSID\\\"\\n+        ;;\\n+        esac\\n+\\n+        if [[ -z \\\"$talkbackdir\\\" ]]; then\\n+            error \\\"empty talkback directory\\\"\\n+        fi\\n+\\n+        mkdir -p \\\"$talkbackdir\\\"\\n+        \\n+        case $OSID in\\n+            win32)\\n             talkbackinidir=\\\"$talkbackdir/$vendorid/$productid/$platformid/$buildid\\\"\\n             ;;\\n-        linux | mac )\\n+            linux | mac )\\n             talkbackinidir=\\\"$talkbackdir/$vendorid$productid$platformid$buildid\\\"\\n             ;;\\n-    esac\\n-    \\n-    if [[ ! -d \\\"$talkbackinidir\\\" ]]; then\\n-        create-directory.sh -d \\\"$talkbackinidir\\\" -n\\n-    fi\\n+        esac\\n+        \\n+        if [[ ! -d \\\"$talkbackinidir\\\" ]]; then\\n+            create-directory.sh -d \\\"$talkbackinidir\\\" -n\\n+        fi\\n \\n-    cd $talkbackinidir\\n+        cd $talkbackinidir\\n \\n-    cp /work/mozilla/mozilla.com/test.mozilla.com/www/talkback/$OSID/Talkback.ini .\\n+        cp /work/mozilla/mozilla.com/test.mozilla.com/www/talkback/$OSID/Talkback.ini .\\n \\n-    case \\\"$OSID\\\" in\\n-        win32)\\n+        case \\\"$OSID\\\" in\\n+            win32)\\n             sed -i.bak \\\"s@URLEdit .*@URLEdit = \\\\\\\"mozqa:$talkbackid\\\\\\\"@\\\" Talkback.ini\\n             ;;\\n-        linux )\\n+            linux )\\n             sed -i.bak \\\"s@URLEditControl .*@URLEditControl = \\\\\\\"mozqa:$talkbackid\\\\\\\"@\\\" Talkback.ini\\n             ;;\\n-        mac )\\n+            mac )\\n             sed -i.bak \\\"s@URLEditControl .*@URLEditControl = \\\\\\\"mozqa:$talkbackid\\\\\\\"@\\\" Talkback.ini\\n             ;;\\n-        *)\\n+            *)\\n             error \\\"unknown os=$OSID\\\"\\n-    esac\\n-fi\\n+        esac\\n+        fi\\ndiff --git a/testing/sisyphus/bin/install-build.sh b/testing/sisyphus/bin/install-build.sh\\nindex 460aafb..da1e40f 100755\\n--- a/testing/sisyphus/bin/install-build.sh\\n+++ b/testing/sisyphus/bin/install-build.sh\\n@@ -60,24 +60,24 @@ variable            description\\n -d datafiles        optional. one or more filenames of files containing \\n                     environment variable definitions to be included.\\n \\n-                    note that the environment variables should have the same \\n-                    names as in the \\\"variable\\\" column.\\n+note that the environment variables should have the same names as in the \\n+\\\"variable\\\" column.\\n \\n EOF\\n-    exit 2\\n+    exit 1\\n }\\n \\n unset product branch executablepath filename datafiles\\n \\n while getopts $options optname ; \\n-do \\n-    case $optname in\\n-        p) product=$OPTARG;;\\n-        b) branch=$OPTARG;;\\n-        x) executablepath=$OPTARG;;\\n-        f) filename=$OPTARG;;\\n-        d) datafiles=$OPTARG;;\\n-    esac\\n+  do \\n+  case $optname in\\n+      p) product=$OPTARG;;\\n+      b) branch=$OPTARG;;\\n+      x) executablepath=$OPTARG;;\\n+      f) filename=$OPTARG;;\\n+      d) datafiles=$OPTARG;;\\n+  esac\\n done\\n \\n # include environment variables\\n@@ -89,7 +89,7 @@ if [[ -n \\\"$datafiles\\\" ]]; then\\n fi\\n \\n if [[ -z \\\"$product\\\" || -z \\\"$branch\\\" || -z \\\"$executablepath\\\" || -z \\\"$filename\\\" ]]\\n-then\\n+    then\\n     usage\\n fi\\n \\n@@ -118,35 +118,35 @@ else\\n     \\n     case \\\"$OSID\\\" in\\n         linux)\\n-            if echo $filetype | grep -iq 'bzip2'; then\\n-                tar -jxvf $filename -C \\\"$executablepath\\\"\\n-            elif echo $filetype | grep -iq 'gzip'; then\\n-                tar -zxvf $filename -C \\\"$executablepath\\\" \\n-            else\\n-                error \\\"unknown file type $filetype\\\"\\n-            fi\\n-            ;; \\n+        if echo $filetype | grep -iq 'bzip2'; then\\n+            tar -jxvf $filename -C \\\"$executablepath\\\"\\n+        elif echo $filetype | grep -iq 'gzip'; then\\n+            tar -zxvf $filename -C \\\"$executablepath\\\" \\n+        else\\n+            error \\\"unknown file type $filetype\\\"\\n+        fi\\n+        ;; \\n \\n         mac)\\n         # answer license prompt\\n-            result=`${TEST_BIN}/hdiutil-expect.ex $filename`\\n+        result=`${TEST_BIN}/hdiutil-expect.ex $filename`\\n         # now get the volume data\\n \\t    #result=`hdiutil attach $filename`\\n-            disk=`echo $result | sed 's@.*\\\\(/dev/[^ ]*\\\\).*/dev.*/dev.*@\\\\1@'`\\n+        disk=`echo $result | sed 's@.*\\\\(/dev/[^ ]*\\\\).*/dev.*/dev.*@\\\\1@'`\\n         # remove the carriage return inserted by expect\\n-            volume=`echo $result | sed \\\"s|[^a-zA-Z0-9/]||g\\\" | sed 's@.*\\\\(/Volumes/.*\\\\)@\\\\1@'`\\n-            echo \\\"disk=$disk\\\"\\n-            echo \\\"volume=$volume\\\"\\n-            if [[ -z \\\"$disk\\\" || -z \\\"$volume\\\" ]]; then\\n-                error \\\"mounting disk image: $result\\\"\\n-            fi\\n-\\n-            for app in $volume/*.app; do\\n-                cp -R $app $executablepath\\n-            done\\n-\\n-            hdiutil detach $disk\\n-            ;;\\n+        volume=`echo $result | sed \\\"s|[^a-zA-Z0-9/]||g\\\" | sed 's@.*\\\\(/Volumes/.*\\\\)@\\\\1@'`\\n+        echo \\\"disk=$disk\\\"\\n+        echo \\\"volume=$volume\\\"\\n+        if [[ -z \\\"$disk\\\" || -z \\\"$volume\\\" ]]; then\\n+            error \\\"mounting disk image: $result\\\"\\n+        fi\\n+\\n+        for app in $volume/*.app; do\\n+            cp -R $app $executablepath\\n+        done\\n+\\n+        hdiutil detach $disk\\n+        ;;\\n     esac\\n \\n     #\\ndiff --git a/testing/sisyphus/bin/install-extensions.sh b/testing/sisyphus/bin/install-extensions.sh\\nindex f1b560c..7e5d2ae 100755\\n--- a/testing/sisyphus/bin/install-extensions.sh\\n+++ b/testing/sisyphus/bin/install-extensions.sh\\n@@ -65,8 +65,8 @@ variable            description\\n -d datafiles        optional. one or more filenames of files containing \\n                     environment variable definitions to be included.\\n \\n-                    note that the environment variables should have the same \\n-                    names as in the \\\"variable\\\" column.\\n+note that the environment variables should have the same names as in the \\n+\\\"variable\\\" column.\\n \\n EOF\\n     exit 1\\n@@ -75,15 +75,15 @@ EOF\\n unset product branch executablepath profilename extensions datafiles\\n \\n while getopts $options optname ; \\n-do \\n-    case $optname in\\n-        p) product=$OPTARG;;\\n-        b) branch=$OPTARG;;\\n-        x) executablepath=$OPTARG;;\\n-        N) profilename=$OPTARG;;\\n-        E) extensions=$OPTARG;;\\n-        d) datafiles=$OPTARG;;\\n-    esac\\n+  do \\n+  case $optname in\\n+      p) product=$OPTARG;;\\n+      b) branch=$OPTARG;;\\n+      x) executablepath=$OPTARG;;\\n+      N) profilename=$OPTARG;;\\n+      E) extensions=$OPTARG;;\\n+      d) datafiles=$OPTARG;;\\n+  esac\\n done\\n \\n # include environment variables\\n@@ -104,7 +104,7 @@ if [[ \\\"$product\\\" != \\\"firefox\\\" && \\\"$product\\\" != \\\"thunderbird\\\" ]]; then\\n fi\\n \\n if [[ \\\"$branch\\\" != \\\"1.8.0\\\" && \\\"$branch\\\" != \\\"1.8.1\\\" && \\\"$branch\\\" != \\\"1.9.0\\\" ]]; \\n-then\\n+    then\\n     error \\\"branch \\\\\\\"$branch\\\\\\\" must be one of 1.8.0, 1.8.1, 1.9.0\\\"\\n fi\\n \\n@@ -149,7 +149,10 @@ for extension in $extensions/$OSID/*; do\\n     fi\\n \\n     echo installing $extension\\n-    $TEST_BIN/timed_run.py ${TEST_STARTUP_TIMEOUT} \\\"-\\\" $executable -P $profilename -install-global-extension \\\"$extensionos\\\"\\n+    if ! $TEST_BIN/timed_run.py ${TEST_STARTUP_TIMEOUT} \\\"-\\\" $executable -P $profilename -install-global-extension \\\"$extensionos\\\"; then\\n+        error \\\"Failed to install $extensionos\\\"\\n+    fi\\n+\\n done\\n \\n # restart twice to make extension manager happy\\ndiff --git a/testing/sisyphus/bin/install-plugins.sh b/testing/sisyphus/bin/install-plugins.sh\\nindex 7bde6af..50304c2 100755\\n--- a/testing/sisyphus/bin/install-plugins.sh\\n+++ b/testing/sisyphus/bin/install-plugins.sh\\n@@ -61,8 +61,8 @@ variable            description\\n                     environment \\n                     variable definitions to be included.\\n \\n-                    note that the environment variables should have the same \\n-                    names as in the \\\"variable\\\" column.\\n+note that the environment variables should have the same names as in the \\n+\\\"variable\\\" column.\\n \\n EOF\\n     exit 1\\n@@ -71,14 +71,14 @@ EOF\\n unset product branch executablepath directory datafiles\\n \\n while getopts $options optname ; \\n-do \\n-    case $optname in\\n-        p) product=$OPTARG;;\\n-        b) branch=$OPTARG;;\\n-        x) executablepath=$OPTARG;;\\n-        D) directory=$OPTARG;;\\n-        d) datafiles=$OPTARG;;\\n-    esac\\n+  do \\n+  case $optname in\\n+      p) product=$OPTARG;;\\n+      b) branch=$OPTARG;;\\n+      x) executablepath=$OPTARG;;\\n+      D) directory=$OPTARG;;\\n+      d) datafiles=$OPTARG;;\\n+  esac\\n done\\n \\n # include environment variables\\ndiff --git a/testing/sisyphus/bin/library.sh b/testing/sisyphus/bin/library.sh\\nindex c3a42ca..e395452 100755\\n--- a/testing/sisyphus/bin/library.sh\\n+++ b/testing/sisyphus/bin/library.sh\\n@@ -54,25 +54,26 @@ if [[ -n \\\"$DEBUG\\\" ]]; then\\n fi\\n \\n if [[ -z \\\"$LIBRARYSH\\\" ]]; then\\n+\\n     LIBRARYSH=1\\n \\n-# export variables\\n+    # export variables\\n     set -a \\n \\n-# make pipelines return exit code of intermediate steps\\n-# requires bash 3.x\\n+    # make pipelines return exit code of intermediate steps\\n+    # requires bash 3.x\\n     set -o pipefail \\n \\n-# set time format for pipeline timing reports\\n+    # set time format for pipeline timing reports\\n     TIMEFORMAT=\\\"Elapsed time %0R seconds, User %0U seconds, System %0S seconds, CPU %P%%\\\"\\n \\n     MALLOC_CHECK_=2\\n \\n     ulimit -c 0\\n \\n-# debug msg\\n-#\\n-# output debugging message to stdout if $DEBUG is set\\n+    # debug msg\\n+    #\\n+    # output debugging message to stdout if $DEBUG is set\\n \\n     DEBUG=${DEBUG:-\\\"\\\"}\\n \\n@@ -83,9 +84,9 @@ if [[ -z \\\"$LIBRARYSH\\\" ]]; then\\n         fi\\n     }\\n \\n-# console msg\\n-#\\n-# output message to console, ie. stderr\\n+    # console msg\\n+    #\\n+    # output message to console, ie. stderr\\n \\n     console()\\n     {\\n@@ -93,8 +94,8 @@ if [[ -z \\\"$LIBRARYSH\\\" ]]; then\\n     }\\n \\n \\n-# error message\\n-# output error message end exit 2\\n+    # error message\\n+    # output error message end exit 2\\n \\n     error()\\n     {\\n@@ -105,19 +106,19 @@ if [[ -z \\\"$LIBRARYSH\\\" ]]; then\\n         exit 2\\n     } \\n \\n-# dumpenvironment\\n-#\\n-# output environment to stdout\\n+    # dumpenvironment\\n+    #\\n+    # output environment to stdout\\n \\n     dumpenvironment()\\n     {\\n         set | grep '^[A-Z]' | sed 's|^|environment: |'\\n     }\\n \\n-# dumpvars varname1, ...\\n-#\\n-# dumps name=value pairs to stdout for each variable named \\n-# in argument list\\n+    # dumpvars varname1, ...\\n+    #\\n+    # dumps name=value pairs to stdout for each variable named \\n+    # in argument list\\n \\n     dumpvars()\\n     {\\n@@ -131,9 +132,9 @@ if [[ -z \\\"$LIBRARYSH\\\" ]]; then\\n         done\\n     }\\n \\n-# get_executable product branch directory\\n-#\\n-# writes path to product executable to stdout\\n+    # get_executable product branch directory\\n+    #\\n+    # writes path to product executable to stdout\\n \\n     get_executable()\\n     {\\n@@ -148,87 +149,88 @@ if [[ -z \\\"$LIBRARYSH\\\" ]]; then\\n         elif [[ ! -d \\\"$get_executable_directory\\\" ]]; then\\n             error \\\"get_executable: executable directory \\\\\\\"$get_executable_directory\\\\\\\" does not exist\\\"\\n         else\\n-        # should use /u+x,g+x,a+x but mac os x uses an obsolete find\\n-        # filter the output to remove extraneous file in dist/bin for\\n-        # cvs builds on mac os x.\\n+            # should use /u+x,g+x,a+x but mac os x uses an obsolete find\\n+            # filter the output to remove extraneous file in dist/bin for\\n+            # cvs builds on mac os x.\\n             get_executable_name=\\\"$get_executable_product${EXE_EXT}\\\"\\n             case \\\"$OSID\\\" in\\n                 mac)\\n-                    get_executable_filter=\\\"Contents/MacOS/$get_executable_product\\\"\\n-                    if [[ \\\"$get_executable_product\\\" == \\\"thunderbird\\\" ]]; then\\n-                        get_executable_name=\\\"$get_executable_product-bin\\\"\\n-                    fi\\n-                    ;;\\n-                *)\\n-                    get_executable_filter=\\\"$get_executable_product\\\"\\n-            esac\\n-            if find \\\"$get_executable_directory\\\" -perm +111 -type f \\\\\\n-                -name \\\"$get_executable_name\\\" | \\\\\\n-                grep \\\"$get_executable_filter\\\"; then\\n-                true\\n-            fi\\n-        fi\\n-    }\\n-\\n-    if [[ \\\"$0\\\" == \\\"-bash\\\" || \\\"$0\\\" == \\\"bash\\\" ]]; then\\n-        SCRIPT=\\\"library.sh\\\"\\n-    else\\n-        SCRIPT=`basename $0`\\n+    get_executable_filter=\\\"Contents/MacOS/$get_executable_product\\\"\\n+    if [[ \\\"$get_executable_product\\\" == \\\"thunderbird\\\" ]]; then\\n+        get_executable_name=\\\"$get_executable_product-bin\\\"\\n     fi\\n+    ;;\\n+    *)\\n+    get_executable_filter=\\\"$get_executable_product\\\"\\n+    esac\\n+    if find \\\"$get_executable_directory\\\" -perm +111 -type f \\\\\\n+        -name \\\"$get_executable_name\\\" | \\\\\\n+        grep \\\"$get_executable_filter\\\"; then\\n+        true\\n+    fi\\n+fi\\n+}\\n+\\n+if [[ \\\"$0\\\" == \\\"-bash\\\" || \\\"$0\\\" == \\\"bash\\\" ]]; then\\n+    SCRIPT=\\\"library.sh\\\"\\n+else\\n+    SCRIPT=`basename $0`\\n+fi\\n \\n-    TEST_DIR=${TEST_DIR:-/work/mozilla/mozilla.com/test.mozilla.com/www}\\n-    TEST_BIN=${TEST_BIN:-$TEST_DIR/bin}\\n-    TEST_HTTP=${TEST_HTTP:-test.mozilla.com}\\n-    TEST_STARTUP_TIMEOUT=${TEST_STARTUP_TIMEOUT:-30}\\n+TEST_DIR=${TEST_DIR:-/work/mozilla/mozilla.com/test.mozilla.com/www}\\n+TEST_BIN=${TEST_BIN:-$TEST_DIR/bin}\\n+TEST_HTTP=${TEST_HTTP:-test.mozilla.com}\\n+TEST_STARTUP_TIMEOUT=${TEST_STARTUP_TIMEOUT:-30}\\n \\n-    TEST_TIMEZONE=`date +%z`\\n+TEST_TIMEZONE=`date +%z`\\n \\n-    TEST_MACHINE=`uname -n`\\n-    TEST_KERNEL=`uname -r`\\n-    TEST_PROCESSORTYPE=`uname -p`\\n+TEST_MACHINE=`uname -n`\\n+TEST_KERNEL=`uname -r`\\n+TEST_PROCESSORTYPE=`uname -p`\\n \\n # set path to make life easier\\n-    if ! echo ${PATH} | grep -q $TEST_BIN; then\\n-        PATH=${TEST_BIN}:$PATH\\n-    fi\\n+if ! echo ${PATH} | grep -q $TEST_BIN; then\\n+    PATH=${TEST_BIN}:$PATH\\n+fi\\n \\n-    if echo $OSTYPE | grep -iq cygwin; then\\n-        OSID=win32\\n-        EXE_EXT=\\\".exe\\\"\\n-    elif echo $OSTYPE | grep -iq Linux; then\\n-        OSID=linux\\n-        EXE_EXT=\\n-    elif echo $OSTYPE | grep -iq darwin; then\\n-        OSID=mac\\n-        EXE_EXT=\\n-    else\\n-        error \\\"Unknown OS $OSTYPE\\\"\\n-    fi\\n+if echo $OSTYPE | grep -iq cygwin; then\\n+    OSID=win32\\n+    EXE_EXT=\\\".exe\\\"\\n+elif echo $OSTYPE | grep -iq Linux; then\\n+    OSID=linux\\n+    EXE_EXT=\\n+elif echo $OSTYPE | grep -iq darwin; then\\n+    OSID=mac\\n+    EXE_EXT=\\n+else\\n+    error \\\"Unknown OS $OSTYPE\\\"\\n+fi\\n \\n # save starting directory\\n-    STARTDIR=`pwd`\\n+STARTDIR=`pwd`\\n \\n # location of the script.\\n-    SCRIPTDIR=`dirname $0`\\n+SCRIPTDIR=`dirname $0`\\n \\n # don't attach to running instance\\n-    MOZ_NO_REMOTE=1\\n+MOZ_NO_REMOTE=1\\n \\n # don't restart\\n-    NO_EM_RESTART=1\\n+NO_EM_RESTART=1\\n \\n # bypass profile manager\\n-    MOZ_BYPASS_PROFILE_AT_STARTUP=1\\n+MOZ_BYPASS_PROFILE_AT_STARTUP=1\\n \\n # ah crap handler timeout\\n-    MOZ_GDB_SLEEP=10\\n+MOZ_GDB_SLEEP=10\\n \\n # no dialogs on asserts\\n-    XPCOM_DEBUG_BREAK=warn\\n+XPCOM_DEBUG_BREAK=${XPCOM_DEBUG_BREAK:-warn}\\n \\n # no airbag\\n-    unset MOZ_AIRBAG\\n-    MOZ_CRASHREPORTER_DISABLE=1\\n+unset MOZ_AIRBAG\\n+MOZ_CRASHREPORTER_DISABLE=1\\n+MOZ_CRASHREPORTER_NO_REPORT=1\\n \\n #leak gauge\\n #NSPR_LOG_MODULES=DOMLeak:5,DocumentLeak:5,nsDocShellLeak:5\\ndiff --git a/testing/sisyphus/bin/sayvars.sh b/testing/sisyphus/bin/sayvars.sh\\nindex f1aeda1..ccfc363 100755\\n--- a/testing/sisyphus/bin/sayvars.sh\\n+++ b/testing/sisyphus/bin/sayvars.sh\\n@@ -1,6 +1,6 @@\\n #!/usr/local/bin/bash -e \\n # -*- Mode: Shell-script; tab-width: 4; indent-tabs-mode: nil; -*-\\n \\n-    for var in `echo ${!TEST_*}`; do \\n+for var in `echo ${!TEST_*}`; do \\n \\techo ${var}=${!var} >> $TEST_LOG \\n-    done\\n+done\\ndiff --git a/testing/sisyphus/bin/set-build-env.sh b/testing/sisyphus/bin/set-build-env.sh\\nindex f7ab479..971072c 100755\\n--- a/testing/sisyphus/bin/set-build-env.sh\\n+++ b/testing/sisyphus/bin/set-build-env.sh\\n@@ -70,8 +70,8 @@ myexit()\\n \\n     case $0 in\\n         *bash*)\\n-\\t  # prevent \\\"sourced\\\" script calls from \\n-          # exiting the current shell.\\n+\\t        # prevent \\\"sourced\\\" script calls from \\n+            # exiting the current shell.\\n             break 99;;\\n         *)\\n             exit $myexit_status;;\\n@@ -92,7 +92,7 @@ for step in step1; do # dummy loop for handling exits\\n       esac\\n     done\\n \\n-# echo product=$product, branch=$branch, buildtype=$buildtype, extra=$extra\\n+    # echo product=$product, branch=$branch, buildtype=$buildtype, extra=$extra\\n \\n     if [[ -z \\\"$product\\\" || -z \\\"$branch\\\" || -z \\\"$buildtype\\\" ]]; then\\n         echo -n \\\"missing\\\"\\n@@ -106,7 +106,7 @@ for step in step1; do # dummy loop for handling exits\\n             echo -n \\\" -T buildtype\\\"\\n         fi\\n         usage\\n-        myexit 2\\n+        myexit 1\\n     fi\\n \\n     if [[ $branch == \\\"1.8.0\\\" ]]; then\\n@@ -117,12 +117,15 @@ for step in step1; do # dummy loop for handling exits\\n         export BRANCH_CO_FLAGS=\\\"\\\";\\n     else\\n         echo \\\"Unknown branch: $branch\\\"\\n-        myexit 2\\n+        myexit 1\\n+    fi\\n+\\n+    if [[ -n \\\"$MOZ_CO_DATE\\\" ]]; then\\n+        export DATE_CO_FLAGS=\\\"-D $MOZ_CO_DATE\\\"\\n     fi\\n \\n     if [[ -n \\\"$WINDIR\\\" ]] ; then\\n         OSID=win32\\n-#\\tapp=bin\\n         export platform=i686\\n \\n         if echo $branch | egrep -q '^1\\\\.8'; then\\n@@ -148,22 +151,24 @@ for step in step1; do # dummy loop for handling exits\\n     else\\n         export TREE=\\\"$BUILDDIR/$branch-$extra\\\"\\n \\n-\\t#\\n-\\t# extras can't be placed in mozconfigs since not all parts\\n-\\t# of the build system use mozconfig (e.g. js shell) and since\\n-\\t# the obj directory is not configurable for them as well thus\\n-\\t# requiring separate source trees\\n-\\t#\\n+        #\\n+        # extras can't be placed in mozconfigs since not all parts\\n+        # of the build system use mozconfig (e.g. js shell) and since\\n+        # the obj directory is not configurable for them as well thus\\n+        # requiring separate source trees\\n+        #\\n \\n-        if [[ \\\"$extra\\\" == \\\"too-much-gc\\\" ]]; then\\n+        case \\\"$extra\\\" in\\n+            too-much-gc)\\n             export XCFLAGS=\\\"-DWAY_TOO_MUCH_GC=1\\\"\\n             export CFLAGS=\\\"-DWAY_TOO_MUCH_GC=1\\\"\\n             export CXXFLAGS=\\\"-DWAY_TOO_MUCH_GC=1\\\"\\n-        elif [[ \\\"$extra\\\" == \\\"gcov\\\" ]]; then\\n+            ;;\\n+            gcov)\\n \\n             if [[ \\\"$OSID\\\" == \\\"win32\\\" ]]; then\\n                 echo \\\"win32 does not support gcov\\\"\\n-                myexit 2\\n+                    myexit 1\\n             fi\\n             export CFLAGS=\\\"--coverage\\\"\\n             export CXXFLAGS=\\\"--coverage\\\"\\n@@ -171,7 +176,10 @@ for step in step1; do # dummy loop for handling exits\\n             export OS_CFLAGS=\\\"--coverage\\\"\\n             export LDFLAGS=\\\"--coverage\\\"\\n             export XLDOPTS=\\\"--coverage\\\"\\t\\n-        fi\\n+            ;;\\n+            jprof)\\n+            ;;\\n+        esac\\n     fi\\n \\n     if [[ ! -d $TREE ]]; then\\n@@ -202,8 +210,8 @@ for step in step1; do # dummy loop for handling exits\\n \\n     case \\\"$OSID\\\" in\\n         mac)\\n-            export JS_EDITLINE=1 # required for mac\\n-            ;;\\n+        export JS_EDITLINE=1 # required for mac\\n+        ;;\\n     esac\\n     # end js shell builds\\n \\ndiff --git a/testing/sisyphus/bin/set-msvc8-env.sh b/testing/sisyphus/bin/set-msvc8-env.sh\\nindex b9f8520..87c8b11 100755\\n--- a/testing/sisyphus/bin/set-msvc8-env.sh\\n+++ b/testing/sisyphus/bin/set-msvc8-env.sh\\n@@ -79,14 +79,14 @@ $VSINSTALLDIR_cyg/Common7/Tools/bin:\\\\\\n $MOZ_TOOLS/bin:\\\\\\n $PATH\\\"\\n \\n-        export INCLUDE=\\\"\\\\\\n+export INCLUDE=\\\"\\\\\\n $MSVCDir\\\\ATLMFC\\\\INCLUDE;\\\\\\n $MSVCDir\\\\INCLUDE;\\\\\\n $PlatformSDKDir\\\\include;\\\\\\n $FrameworkSDKDir\\\\include;\\\\\\n $INCLUDE\\\"\\n \\n-         export LIB=\\\"\\\\\\n+export LIB=\\\"\\\\\\n $MSVCDir\\\\ATLMFC\\\\LIB;\\\\\\n $MSVCDir\\\\LIB;\\\\\\n $PlatformSDKDir\\\\lib;\\\\\\ndiff --git a/testing/sisyphus/bin/smoke-build.sh b/testing/sisyphus/bin/smoke-build.sh\\nindex ceb128e..817b8e7 100755\\n--- a/testing/sisyphus/bin/smoke-build.sh\\n+++ b/testing/sisyphus/bin/smoke-build.sh\\n@@ -41,8 +41,8 @@ TEST_BIN=${TEST_BIN:-$TEST_DIR/bin}\\n source ${TEST_BIN}/library.sh\\n \\n if [[ -z \\\"$1\\\" ]]; then\\n-  echo smoke-build.sh directorypattern\\n-  exit 2\\n+    echo smoke-build.sh directorypattern\\n+    exit 1\\n fi\\n \\n for filepath in $@; do\\ndiff --git a/testing/sisyphus/bin/test-setup.sh b/testing/sisyphus/bin/test-setup.sh\\nindex 1a23b02..6cdc07b 100755\\n--- a/testing/sisyphus/bin/test-setup.sh\\n+++ b/testing/sisyphus/bin/test-setup.sh\\n@@ -73,32 +73,33 @@ variable            description\\n -x executablepath   optional. directory tree containing executable with same \\n                     name as product. If the build is downloaded and executable \\n                     path is not specified, it will be defaulted to \\n-                    /tmp/\\\\$product-\\\\$branch. \\n-                    For cvs builds it will be defaulted to the appropriate \\n-                    directory in \\n-                    /work/mozilla/builds/\\\\$branch/mozilla/\\\\$product-\\\\$buildtype/\\n--N profilename      optional. profilename. profilename is required if \\n-                    profiledirectory or extensiondir are specified.\\n--D profiledirectory optional. If profiledirectory is specified, a new profile \\n-                    will be created in the directory.\\n--L profiletemplate  optional. If a new profile is created, profiletemplate is \\n-                    the path to an existing profile which will be copied over \\n-                    the new profile.\\n--U userpreferences  optional. If a new profile is created, userpreferences is \\n-                    the path to a user.js file to be copied into the new \\n-                    profile.\\n-                    If userpreferences is not specified when a new profile is \\n-                    created, it is defaulted to\\n-                    /work/mozilla/mozilla.com/test.mozilla.com/www/prefs/test-user.js\\n--E extensiondir     optional. path to directory tree containing extensions to \\n-                    be installed.\\n--d datafiles        optional. one or more filenames of files containing \\n-                    environment variable definitions to be included.\\n-\\n-                    note that the environment variables should have the same \\n-                    names as in the \\\"variable\\\" column.\\n+    /tmp/\\\\$product-\\\\$branch. \\n+    For cvs builds it will be defaulted to the appropriate \\n+    directory in \\n+    /work/mozilla/builds/\\\\$branch/mozilla/\\\\$product-\\\\$buildtype/\\n+    -N profilename      optional. profilename. profilename is required if \\n+    profiledirectory or extensiondir are specified.\\n+    -D profiledirectory optional. If profiledirectory is specified, a new profile \\n+    will be created in the directory.\\n+    -L profiletemplate  optional. If a new profile is created, profiletemplate is \\n+    the path to an existing profile which will be copied over \\n+    the new profile.\\n+    -U userpreferences  optional. If a new profile is created, userpreferences is \\n+    the path to a user.js file to be copied into the new \\n+    profile.\\n+    If userpreferences is not specified when a new profile is \\n+    created, it is defaulted to\\n+    /work/mozilla/mozilla.com/test.mozilla.com/www/prefs/test-user.js\\n+    -E extensiondir     optional. path to directory tree containing extensions to \\n+    be installed.\\n+    -d datafiles        optional. one or more filenames of files containing \\n+    environment variable definitions to be included.\\n+\\n+    note that the environment variables should have the same \\n+    names as in the \\\"variable\\\" column.\\n+\\n EOF\\n-    exit 2\\n+    exit 1\\n }\\n \\n unset product branch url filepath credentials buildcommands buildtype executablepath profilename profiledirectory profiletemplate userpreferences extenstiondir datafiles\\n@@ -262,6 +263,6 @@ if [[ -n \\\"$extensiondir\\\" ]]; then\\n \\n fi\\n \\n-        \\n+\\n \\n \\ndiff --git a/testing/sisyphus/bin/tester.sh b/testing/sisyphus/bin/tester.sh\\nindex f9ab2ab..6e819f6 100755\\n--- a/testing/sisyphus/bin/tester.sh\\n+++ b/testing/sisyphus/bin/tester.sh\\n@@ -59,15 +59,13 @@ variable            description\\n ===============     ===========================================================\\n -t testscript       required. quoted test script with required arguments.\\n \\n-\\n executes the testscript using the input data files in \\n-$TEST_DIR/data constructed from each \\n-combination of the input parameters:\\n+$TEST_DIR/data constructed from each combination of the input parameters:\\n \\n {item1},{item2},{item3},{item4}\\n \\n EOF\\n-    exit 2\\n+    exit 1\\n }\\n \\n unset testscript testargs\\ndiff --git a/testing/sisyphus/bin/uninstall-build.sh b/testing/sisyphus/bin/uninstall-build.sh\\nindex 053f20a..927ffab 100755\\n--- a/testing/sisyphus/bin/uninstall-build.sh\\n+++ b/testing/sisyphus/bin/uninstall-build.sh\\n@@ -59,8 +59,8 @@ variable            description\\n -d datafiles        optional. one or more filenames of files containing \\n                     environment variable definitions to be included.\\n \\n-                    note that the environment variables should have the same \\n-                    names as in the \\\"variable\\\" column.\\n+note that the environment variables should have the same names as in the \\n+\\\"variable\\\" column.\\n \\n Uninstalls build located in directory-tree 'executablepath'\\n then removes the directory upon completion.\\n@@ -72,13 +72,13 @@ EOF\\n unset product branch executablepath datafiles\\n \\n while getopts $options optname ; \\n-do \\n-    case $optname in\\n-        p) product=$OPTARG;;\\n-        b) branch=$OPTARG;;\\n-        x) executablepath=$OPTARG;;\\n-        d) datafiles=$OPTARG;;\\n-    esac\\n+  do \\n+  case $optname in\\n+      p) product=$OPTARG;;\\n+      b) branch=$OPTARG;;\\n+      x) executablepath=$OPTARG;;\\n+      d) datafiles=$OPTARG;;\\n+  esac\\n done\\n \\n # include environment variables\\n@@ -90,7 +90,7 @@ if [[ -n \\\"$datafiles\\\" ]]; then\\n fi\\n \\n if [[ -z \\\"$product\\\" || -z \\\"$branch\\\" || -z \\\"$executablepath\\\" ]]\\n-then\\n+    then\\n     usage\\n fi\\n \\n@@ -120,7 +120,7 @@ if [[ $OSID == \\\"win32\\\" ]]; then\\n             uninstallini=\\\"$executabledir/uninstall/uninstall.ini\\\"\\n             if [[ -n \\\"$uninstallexe\\\"  && -e \\\"$uninstallexe\\\" ]]; then\\n                 if sed -i.bak 's/Run Mode=Normal/Run Mode=Silent/' $uninstallini; \\n-                then\\n+                    then\\n                     # uninstall.exe will return non zero exit codes \\n                     # for no damn reason.\\n                     if $uninstallexe; then\\ndiff --git a/testing/sisyphus/data/download-check,firefox-1.5.0-ftp,linux.data b/testing/sisyphus/data/download-check,firefox-1.5.0-ftp,linux.data\\nindex 3a34426..7748ce7 100755\\n--- a/testing/sisyphus/data/download-check,firefox-1.5.0-ftp,linux.data\\n+++ b/testing/sisyphus/data/download-check,firefox-1.5.0-ftp,linux.data\\n@@ -1,7 +1,7 @@\\n-allurl=http://stage.mozilla.org/pub/mozilla.org/firefox/nightly/1.5.0.12-candidates/rc2/\\n+allurl=http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/1.5.0.12-candidates/rc2/\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/linux-i686/en-US/firefox-2.0.0.3.tar.gz\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/linux-i686/en-US/firefox-2.0.0.7.tar.gz\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,firefox-1.5.0-ftp,mac.data b/testing/sisyphus/data/download-check,firefox-1.5.0-ftp,mac.data\\nindex 4a7b1b6..5ff7610 100755\\n--- a/testing/sisyphus/data/download-check,firefox-1.5.0-ftp,mac.data\\n+++ b/testing/sisyphus/data/download-check,firefox-1.5.0-ftp,mac.data\\n@@ -1,7 +1,7 @@\\n-allurl=http://stage.mozilla.org/pub/mozilla.org/firefox/nightly/1.5.0.12-candidates/rc2/\\n+allurl=http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/1.5.0.12-candidates/rc2/\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/mac/en-US/Firefox%202.0.0.3.dmg\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/mac/en-US/Firefox%202.0.0.7.dmg\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,firefox-1.5.0-ftp,win32.data b/testing/sisyphus/data/download-check,firefox-1.5.0-ftp,win32.data\\nindex 18ef125..7348b2f 100755\\n--- a/testing/sisyphus/data/download-check,firefox-1.5.0-ftp,win32.data\\n+++ b/testing/sisyphus/data/download-check,firefox-1.5.0-ftp,win32.data\\n@@ -1,7 +1,7 @@\\n-allurl=http://stage.mozilla.org/pub/mozilla.org/firefox/nightly/1.5.0.12-candidates/rc2/\\n+allurl=http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/1.5.0.12-candidates/rc2/\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/win32/en-US/Firefox%20Setup%202.0.0.3.exe\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/win32/en-US/Firefox%20Setup%202.0.0.7.exe\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,firefox-2.0.0-ftp,linux.data b/testing/sisyphus/data/download-check,firefox-2.0.0-ftp,linux.data\\nindex 6d8b475..9fdc1f4 100755\\n--- a/testing/sisyphus/data/download-check,firefox-2.0.0-ftp,linux.data\\n+++ b/testing/sisyphus/data/download-check,firefox-2.0.0-ftp,linux.data\\n@@ -1,7 +1,7 @@\\n-allurl=http://stage.mozilla.org/pub/mozilla.org/firefox/nightly/2.0.0.4-candidates/rc2/\\n+allurl=http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/2.0.0.7-candidates/rc2/\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/linux-i686/en-US/firefox-2.0.0.3.tar.gz\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/linux-i686/en-US/firefox-2.0.0.7.tar.gz\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,firefox-2.0.0-ftp,mac.data b/testing/sisyphus/data/download-check,firefox-2.0.0-ftp,mac.data\\nindex ec1fad7..2a1ca65 100755\\n--- a/testing/sisyphus/data/download-check,firefox-2.0.0-ftp,mac.data\\n+++ b/testing/sisyphus/data/download-check,firefox-2.0.0-ftp,mac.data\\n@@ -1,7 +1,7 @@\\n-allurl=http://stage.mozilla.org/pub/mozilla.org/firefox/nightly/2.0.0.4-candidates/rc2/\\n+allurl=http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/2.0.0.7-candidates/rc2/\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/mac/en-US/Firefox%202.0.0.3.dmg\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/mac/en-US/Firefox%202.0.0.7.dmg\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,firefox-2.0.0-ftp,win32.data b/testing/sisyphus/data/download-check,firefox-2.0.0-ftp,win32.data\\nindex 58a8565..b939757 100755\\n--- a/testing/sisyphus/data/download-check,firefox-2.0.0-ftp,win32.data\\n+++ b/testing/sisyphus/data/download-check,firefox-2.0.0-ftp,win32.data\\n@@ -1,7 +1,7 @@\\n-allurl=http://stage.mozilla.org/pub/mozilla.org/firefox/nightly/2.0.0.4-candidates/rc2/\\n+allurl=http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/2.0.0.7-candidates/rc2/\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/win32/en-US/Firefox%20Setup%202.0.0.3.exe\\n+url=http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-trunk/firefox-3.0a9pre.en-US.win32.zip\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,firefox-all,linux.data b/testing/sisyphus/data/download-check,firefox-all,linux.data\\nindex 56dc91d..eda4dd5 100755\\n--- a/testing/sisyphus/data/download-check,firefox-all,linux.data\\n+++ b/testing/sisyphus/data/download-check,firefox-all,linux.data\\n@@ -1,7 +1,7 @@\\n-allurl=http://khan.landfill.bugzilla.org/en-US/firefox/all.html\\n+allurl=http://www.mozilla.com/en-US/firefox/all.html\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/linux-i686/en-US/firefox-2.0.0.3.tar.gz\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/linux-i686/en-US/firefox-2.0.0.7.tar.gz\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,firefox-all,mac.data b/testing/sisyphus/data/download-check,firefox-all,mac.data\\nindex a6e9c5f..0df7df4 100755\\n--- a/testing/sisyphus/data/download-check,firefox-all,mac.data\\n+++ b/testing/sisyphus/data/download-check,firefox-all,mac.data\\n@@ -1,7 +1,7 @@\\n-allurl=http://khan.landfill.bugzilla.org/en-US/firefox/all.html\\n+allurl=http://www.mozilla.com/en-US/firefox/all.html\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/mac/en-US/Firefox%202.0.0.3.dmg\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/mac/en-US/Firefox%202.0.0.7.dmg\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,firefox-all,win32.data b/testing/sisyphus/data/download-check,firefox-all,win32.data\\nindex fe2f7c9..031e423 100755\\n--- a/testing/sisyphus/data/download-check,firefox-all,win32.data\\n+++ b/testing/sisyphus/data/download-check,firefox-all,win32.data\\n@@ -1,7 +1,7 @@\\n-allurl=http://khan.landfill.bugzilla.org/en-US/firefox/all.html\\n+allurl=http://www.mozilla.com/en-US/firefox/all.html\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/win32/en-US/Firefox%20Setup%202.0.0.3.exe\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/win32/en-US/Firefox%20Setup%202.0.0.7.exe\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,firefox-all-older,linux.data b/testing/sisyphus/data/download-check,firefox-all-older,linux.data\\nindex f55c1e4..f83cf90 100755\\n--- a/testing/sisyphus/data/download-check,firefox-all-older,linux.data\\n+++ b/testing/sisyphus/data/download-check,firefox-all-older,linux.data\\n@@ -1,7 +1,7 @@\\n allurl=http://khan.landfill.bugzilla.org/en-US/firefox/all-older.html\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/linux-i686/en-US/firefox-2.0.0.3.tar.gz\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/linux-i686/en-US/firefox-2.0.0.7.tar.gz\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,firefox-all-older,mac.data b/testing/sisyphus/data/download-check,firefox-all-older,mac.data\\nindex a237855..e9bd695 100755\\n--- a/testing/sisyphus/data/download-check,firefox-all-older,mac.data\\n+++ b/testing/sisyphus/data/download-check,firefox-all-older,mac.data\\n@@ -1,7 +1,7 @@\\n allurl=http://khan.landfill.bugzilla.org/en-US/firefox/all-older.html\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/mac/en-US/Firefox%202.0.0.3.dmg\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/mac/en-US/Firefox%202.0.0.7.dmg\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,firefox-all-older,win32.data b/testing/sisyphus/data/download-check,firefox-all-older,win32.data\\nindex dce9c5c..e199969 100755\\n--- a/testing/sisyphus/data/download-check,firefox-all-older,win32.data\\n+++ b/testing/sisyphus/data/download-check,firefox-all-older,win32.data\\n@@ -1,7 +1,7 @@\\n allurl=http://khan.landfill.bugzilla.org/en-US/firefox/all-older.html\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/win32/en-US/Firefox%20Setup%202.0.0.3.exe\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/win32/en-US/Firefox%20Setup%202.0.0.7.exe\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,thunderbird-1.5.0-ftp,linux.data b/testing/sisyphus/data/download-check,thunderbird-1.5.0-ftp,linux.data\\nindex 1e81f3b..6fccd1b 100755\\n--- a/testing/sisyphus/data/download-check,thunderbird-1.5.0-ftp,linux.data\\n+++ b/testing/sisyphus/data/download-check,thunderbird-1.5.0-ftp,linux.data\\n@@ -1,7 +1,7 @@\\n-allurl=http://stage.mozilla.org/pub/mozilla.org/thunderbird/nightly/1.5.0.12-candidates/rc2/\\n+allurl=http://ftp.mozilla.org/pub/mozilla.org/thunderbird/nightly/1.5.0.12-candidates/rc2/\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/linux-i686/en-US/firefox-2.0.0.3.tar.gz\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/linux-i686/en-US/firefox-2.0.0.7.tar.gz\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,thunderbird-1.5.0-ftp,mac.data b/testing/sisyphus/data/download-check,thunderbird-1.5.0-ftp,mac.data\\nindex adc1dab..1eaa51e 100755\\n--- a/testing/sisyphus/data/download-check,thunderbird-1.5.0-ftp,mac.data\\n+++ b/testing/sisyphus/data/download-check,thunderbird-1.5.0-ftp,mac.data\\n@@ -1,7 +1,7 @@\\n-allurl=http://stage.mozilla.org/pub/mozilla.org/thunderbird/nightly/1.5.0.12-candidates/rc2/\\n+allurl=http://ftp.mozilla.org/pub/mozilla.org/thunderbird/nightly/1.5.0.12-candidates/rc2/\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/mac/en-US/Firefox%202.0.0.3.dmg\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/mac/en-US/Firefox%202.0.0.7.dmg\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,thunderbird-1.5.0-ftp,win32.data b/testing/sisyphus/data/download-check,thunderbird-1.5.0-ftp,win32.data\\nindex a94fd22..74e1851 100755\\n--- a/testing/sisyphus/data/download-check,thunderbird-1.5.0-ftp,win32.data\\n+++ b/testing/sisyphus/data/download-check,thunderbird-1.5.0-ftp,win32.data\\n@@ -1,7 +1,7 @@\\n-allurl=http://stage.mozilla.org/pub/mozilla.org/thunderbird/nightly/1.5.0.12-candidates/rc2/\\n+allurl=http://ftp.mozilla.org/pub/mozilla.org/thunderbird/nightly/1.5.0.12-candidates/rc2/\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/win32/en-US/Firefox%20Setup%202.0.0.3.exe\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/win32/en-US/Firefox%20Setup%202.0.0.7.exe\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,thunderbird-2.0.0-ftp,linux.data b/testing/sisyphus/data/download-check,thunderbird-2.0.0-ftp,linux.data\\nindex 48b16cf..5e94fbb 100755\\n--- a/testing/sisyphus/data/download-check,thunderbird-2.0.0-ftp,linux.data\\n+++ b/testing/sisyphus/data/download-check,thunderbird-2.0.0-ftp,linux.data\\n@@ -1,7 +1,7 @@\\n-allurl=http://stage.mozilla.org/pub/mozilla.org/thunderbird/releases/2.0.0.4/\\n+allurl=http://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/2.0.0.7/\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.4/linux-i686/en-US/firefox-2.0.0.4.tar.gz\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/linux-i686/en-US/firefox-2.0.0.7.tar.gz\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,thunderbird-2.0.0-ftp,mac.data b/testing/sisyphus/data/download-check,thunderbird-2.0.0-ftp,mac.data\\nindex 4f99f8d..6bef71b 100755\\n--- a/testing/sisyphus/data/download-check,thunderbird-2.0.0-ftp,mac.data\\n+++ b/testing/sisyphus/data/download-check,thunderbird-2.0.0-ftp,mac.data\\n@@ -1,7 +1,7 @@\\n-allurl=http://stage.mozilla.org/pub/mozilla.org/thunderbird/releases/2.0.0.4/\\n+allurl=http://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/2.0.0.7/\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.4/mac/en-US/Firefox%202.0.0.4.dmg\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/mac/en-US/Firefox%202.0.0.7.dmg\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,thunderbird-2.0.0-ftp,win32.data b/testing/sisyphus/data/download-check,thunderbird-2.0.0-ftp,win32.data\\nindex b1c36b1..7df598c 100755\\n--- a/testing/sisyphus/data/download-check,thunderbird-2.0.0-ftp,win32.data\\n+++ b/testing/sisyphus/data/download-check,thunderbird-2.0.0-ftp,win32.data\\n@@ -1,7 +1,7 @@\\n-allurl=http://stage.mozilla.org/pub/mozilla.org/thunderbird/releases/2.0.0.4/\\n+allurl=http://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/2.0.0.7/\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.4/win32/en-US/Firefox%20Setup%202.0.0.4.exe\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/win32/en-US/Firefox%20Setup%202.0.0.7.exe\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,thunderbird-all,linux.data b/testing/sisyphus/data/download-check,thunderbird-all,linux.data\\nindex 4d2854d..d7d3afd 100755\\n--- a/testing/sisyphus/data/download-check,thunderbird-all,linux.data\\n+++ b/testing/sisyphus/data/download-check,thunderbird-all,linux.data\\n@@ -1,7 +1,7 @@\\n-allurl=http://khan.landfill.bugzilla.org/en-US/thunderbird/all.html\\n+allurl=http://www.mozilla.com/en-US/thunderbird/all.html\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/linux-i686/en-US/firefox-2.0.0.3.tar.gz\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/linux-i686/en-US/firefox-2.0.0.7.tar.gz\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,thunderbird-all,mac.data b/testing/sisyphus/data/download-check,thunderbird-all,mac.data\\nindex 5757ed4..eda393b 100755\\n--- a/testing/sisyphus/data/download-check,thunderbird-all,mac.data\\n+++ b/testing/sisyphus/data/download-check,thunderbird-all,mac.data\\n@@ -1,7 +1,7 @@\\n-allurl=http://khan.landfill.bugzilla.org/en-US/thunderbird/all.html\\n+allurl=http://www.mozilla.com/en-US/thunderbird/all.html\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/mac/en-US/Firefox%202.0.0.3.dmg\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/mac/en-US/Firefox%202.0.0.7.dmg\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,thunderbird-all,win32.data b/testing/sisyphus/data/download-check,thunderbird-all,win32.data\\nindex 6fa7545..42a3c85 100755\\n--- a/testing/sisyphus/data/download-check,thunderbird-all,win32.data\\n+++ b/testing/sisyphus/data/download-check,thunderbird-all,win32.data\\n@@ -1,7 +1,7 @@\\n-allurl=http://khan.landfill.bugzilla.org/en-US/thunderbird/all.html\\n+allurl=http://www.mozilla.com/en-US/thunderbird/all.html\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/win32/en-US/Firefox%20Setup%202.0.0.3.exe\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/win32/en-US/Firefox%20Setup%202.0.0.7.exe\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,thunderbird-all-older,linux.data b/testing/sisyphus/data/download-check,thunderbird-all-older,linux.data\\nindex 0dddedf..d4470b7 100755\\n--- a/testing/sisyphus/data/download-check,thunderbird-all-older,linux.data\\n+++ b/testing/sisyphus/data/download-check,thunderbird-all-older,linux.data\\n@@ -1,7 +1,7 @@\\n allurl=http://khan.landfill.bugzilla.org/en-US/thunderbird/all-older.html\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/linux-i686/en-US/firefox-2.0.0.3.tar.gz\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/linux-i686/en-US/firefox-2.0.0.7.tar.gz\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,thunderbird-all-older,mac.data b/testing/sisyphus/data/download-check,thunderbird-all-older,mac.data\\nindex 9d55f7c..ccc05d0 100755\\n--- a/testing/sisyphus/data/download-check,thunderbird-all-older,mac.data\\n+++ b/testing/sisyphus/data/download-check,thunderbird-all-older,mac.data\\n@@ -1,7 +1,7 @@\\n allurl=http://khan.landfill.bugzilla.org/en-US/thunderbird/all-older.html\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/mac/en-US/Firefox%202.0.0.3.dmg\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/mac/en-US/Firefox%202.0.0.7.dmg\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/download-check,thunderbird-all-older,win32.data b/testing/sisyphus/data/download-check,thunderbird-all-older,win32.data\\nindex 03a9126..1d7f5ea 100755\\n--- a/testing/sisyphus/data/download-check,thunderbird-all-older,win32.data\\n+++ b/testing/sisyphus/data/download-check,thunderbird-all-older,win32.data\\n@@ -1,7 +1,7 @@\\n allurl=http://khan.landfill.bugzilla.org/en-US/thunderbird/all-older.html\\n product=firefox\\n branch=1.8.1\\n-url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.3/win32/en-US/Firefox%20Setup%202.0.0.3.exe\\n+url=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0.0.7/win32/en-US/Firefox%20Setup%202.0.0.7.exe\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/firefox,1.8.0,nightly-linux.data b/testing/sisyphus/data/firefox,1.8.0,nightly-linux.data\\nindex 5e288df..a50caa0 100755\\n--- a/testing/sisyphus/data/firefox,1.8.0,nightly-linux.data\\n+++ b/testing/sisyphus/data/firefox,1.8.0,nightly-linux.data\\n@@ -1,6 +1,6 @@\\n product=firefox\\n branch=1.8.0\\n-url=http://stage.mozilla.org/pub/mozilla.org/firefox/nightly/latest-mozilla1.8.0/firefox-1.5.0.13pre.en-US.linux-i686.tar.gz\\n+url=http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-mozilla1.8.0/firefox-1.5.0.14pre.en-US.linux-i686.tar.gz\\n profilename=firefox-1.8.0-profile\\n profiledirectory=/tmp/firefox-1.8.0-profile\\n executablepath=/tmp/firefox-1.8.0\\ndiff --git a/testing/sisyphus/data/firefox,1.8.0,nightly-mac.data b/testing/sisyphus/data/firefox,1.8.0,nightly-mac.data\\nindex 8f15023..97a5c5d 100755\\n--- a/testing/sisyphus/data/firefox,1.8.0,nightly-mac.data\\n+++ b/testing/sisyphus/data/firefox,1.8.0,nightly-mac.data\\n@@ -1,6 +1,6 @@\\n product=firefox\\n branch=1.8.0\\n-url=http://stage.mozilla.org/pub/mozilla.org/firefox/nightly/latest-mozilla1.8.0/firefox-1.5.0.13pre.en-US.mac.dmg\\n+url=http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-mozilla1.8.0/firefox-1.5.0.14pre.en-US.mac.dmg\\n profilename=firefox-1.8.0-profile\\n profiledirectory=/tmp/firefox-1.8.0-profile\\n executablepath=/tmp/firefox-1.8.0\\ndiff --git a/testing/sisyphus/data/firefox,1.8.0,nightly-win32.data b/testing/sisyphus/data/firefox,1.8.0,nightly-win32.data\\nindex 6f7d5c4..14dc074 100755\\n--- a/testing/sisyphus/data/firefox,1.8.0,nightly-win32.data\\n+++ b/testing/sisyphus/data/firefox,1.8.0,nightly-win32.data\\n@@ -1,6 +1,6 @@\\n product=firefox\\n branch=1.8.0\\n-url=http://stage.mozilla.org/pub/mozilla.org/firefox/nightly/latest-mozilla1.8.0/firefox-1.5.0.13pre.en-US.win32.zip\\n+url=http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-mozilla1.8.0/firefox-1.5.0.14pre.en-US.win32.zip\\n profilename=firefox-1.8.0-profile\\n profiledirectory=/tmp/firefox-1.8.0-profile\\n executablepath=/tmp/firefox-1.8.0\\ndiff --git a/testing/sisyphus/data/firefox,1.8.1,nightly-linux.data b/testing/sisyphus/data/firefox,1.8.1,nightly-linux.data\\nindex f762575..a7cec8d 100755\\n--- a/testing/sisyphus/data/firefox,1.8.1,nightly-linux.data\\n+++ b/testing/sisyphus/data/firefox,1.8.1,nightly-linux.data\\n@@ -1,6 +1,6 @@\\n product=firefox\\n branch=1.8.1\\n-url=http://stage.mozilla.org/pub/mozilla.org/firefox/nightly/latest-mozilla1.8/firefox-2.0.0.5pre.en-US.linux-i686.tar.gz\\n+url=http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-mozilla1.8/firefox-2.0.0.8pre.en-US.linux-i686.tar.gz\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/firefox,1.8.1,nightly-mac.data b/testing/sisyphus/data/firefox,1.8.1,nightly-mac.data\\nindex 2127628..4170312 100755\\n--- a/testing/sisyphus/data/firefox,1.8.1,nightly-mac.data\\n+++ b/testing/sisyphus/data/firefox,1.8.1,nightly-mac.data\\n@@ -1,6 +1,6 @@\\n product=firefox\\n branch=1.8.1\\n-url=http://stage.mozilla.org/pub/mozilla.org/firefox/nightly/latest-mozilla1.8/firefox-2.0.0.5pre.en-US.mac.dmg\\n+url=http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-mozilla1.8/firefox-2.0.0.8pre.en-US.mac.dmg\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/firefox,1.8.1,nightly-win32.data b/testing/sisyphus/data/firefox,1.8.1,nightly-win32.data\\nindex dd1c8d3..884549d 100755\\n--- a/testing/sisyphus/data/firefox,1.8.1,nightly-win32.data\\n+++ b/testing/sisyphus/data/firefox,1.8.1,nightly-win32.data\\n@@ -1,6 +1,6 @@\\n product=firefox\\n branch=1.8.1\\n-url=http://stage.mozilla.org/pub/mozilla.org/firefox/nightly/latest-mozilla1.8/firefox-2.0.0.5pre.en-US.win32.zip\\n+url=http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-mozilla1.8/firefox-2.0.0.8pre.en-US.win32.zip\\n profilename=firefox-1.8.1-profile\\n profiledirectory=/tmp/firefox-1.8.1-profile\\n executablepath=/tmp/firefox-1.8.1\\ndiff --git a/testing/sisyphus/data/firefox,1.8.1,too-much-gc,debug.data b/testing/sisyphus/data/firefox,1.8.1,too-much-gc,debug.data\\nnew file mode 100755\\nindex 0000000..003e434\\n--- /dev/null\\n+++ b/testing/sisyphus/data/firefox,1.8.1,too-much-gc,debug.data\\n@@ -0,0 +1,8 @@\\n+product=firefox\\n+branch=1.8.1\\n+profilename=firefox-1.8.1-too-much-gc-profile\\n+profiledirectory=/tmp/firefox-1.8.1-too-much-gc-profile\\n+executablepath=/work/mozilla/builds/1.8.1-too-much-gc/mozilla/firefox-debug/dist\\n+userpreferences=/work/mozilla/mozilla.com/test.mozilla.com/www/prefs/test-user.js\\n+extensiondir=/work/mozilla/mozilla.com/test.mozilla.com/www/xpi\\n+buildtype=debug\\ndiff --git a/testing/sisyphus/data/firefox,1.9.0,nightly-linux.data b/testing/sisyphus/data/firefox,1.9.0,nightly-linux.data\\nindex 2aca7ae..2a944eb 100755\\n--- a/testing/sisyphus/data/firefox,1.9.0,nightly-linux.data\\n+++ b/testing/sisyphus/data/firefox,1.9.0,nightly-linux.data\\n@@ -1,6 +1,6 @@\\n product=firefox\\n branch=1.9.0\\n-url=http://stage.mozilla.org/pub/mozilla.org/firefox/nightly/latest-trunk/firefox-3.0a7pre.en-US.linux-i686.tar.bz2\\n+url=http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-trunk/firefox-3.0a9pre.en-US.linux-i686.tar.bz2\\n profilename=firefox-1.9.0-profile\\n profiledirectory=/tmp/firefox-1.9.0-profile\\n executablepath=/tmp/firefox-1.9.0\\ndiff --git a/testing/sisyphus/data/firefox,1.9.0,nightly-mac.data b/testing/sisyphus/data/firefox,1.9.0,nightly-mac.data\\nindex d5d3194..8318528 100755\\n--- a/testing/sisyphus/data/firefox,1.9.0,nightly-mac.data\\n+++ b/testing/sisyphus/data/firefox,1.9.0,nightly-mac.data\\n@@ -1,6 +1,6 @@\\n product=firefox\\n branch=1.9.0\\n-url=http://stage.mozilla.org/pub/mozilla.org/firefox/nightly/latest-trunk/firefox-3.0a7pre.en-US.mac.dmg\\n+url=http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-trunk/firefox-3.0a9pre.en-US.mac.dmg\\n profilename=firefox-1.9.0-profile\\n profiledirectory=/tmp/firefox-1.9.0-profile\\n executablepath=/tmp/firefox-1.9.0\\ndiff --git a/testing/sisyphus/data/firefox,1.9.0,nightly-win32.data b/testing/sisyphus/data/firefox,1.9.0,nightly-win32.data\\nindex b88657f1..04e3ba9 100755\\n--- a/testing/sisyphus/data/firefox,1.9.0,nightly-win32.data\\n+++ b/testing/sisyphus/data/firefox,1.9.0,nightly-win32.data\\n@@ -1,6 +1,6 @@\\n product=firefox\\n branch=1.9.0\\n-url=http://stage.mozilla.org/pub/mozilla.org/firefox/nightly/latest-trunk/firefox-3.0a7pre.en-US.win32.zip\\n+url=http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-trunk/firefox-3.0a9pre.en-US.win32.zip\\n profilename=firefox-1.9.0-profile\\n profiledirectory=/tmp/firefox-1.9.0-profile\\n executablepath=/tmp/firefox-1.9.0\\ndiff --git a/testing/sisyphus/data/firefox,1.9.0,too-much-gc,debug.data b/testing/sisyphus/data/firefox,1.9.0,too-much-gc,debug.data\\nnew file mode 100755\\nindex 0000000..a362ebb\\n--- /dev/null\\n+++ b/testing/sisyphus/data/firefox,1.9.0,too-much-gc,debug.data\\n@@ -0,0 +1,8 @@\\n+product=firefox\\n+branch=1.9.0\\n+profilename=firefox-1.9.0-too-much-gc-profile\\n+profiledirectory=/tmp/firefox-1.9.0-too-much-gc-profile\\n+executablepath=/work/mozilla/builds/1.9.0-too-much-gc/mozilla/firefox-debug/dist\\n+userpreferences=/work/mozilla/mozilla.com/test.mozilla.com/www/prefs/test-user.js\\n+extensiondir=/work/mozilla/mozilla.com/test.mozilla.com/www/xpi\\n+buildtype=debug\\ndiff --git a/testing/sisyphus/data/firefox,1.9.0-jprof,debug.data b/testing/sisyphus/data/firefox,1.9.0-jprof,debug.data\\nnew file mode 100755\\nindex 0000000..4b910ba\\n--- /dev/null\\n+++ b/testing/sisyphus/data/firefox,1.9.0-jprof,debug.data\\n@@ -0,0 +1,8 @@\\n+product=firefox\\n+branch=1.9.0\\n+profilename=firefox-1.9.0-jprof-profile\\n+profiledirectory=/tmp/firefox-1.9.0-jprof-profile\\n+executablepath=/work/mozilla/builds/1.9.0-jprof/mozilla/firefox-debug/dist\\n+userpreferences=/work/mozilla/mozilla.com/test.mozilla.com/www/prefs/test-user.js\\n+extensiondir=/work/mozilla/mozilla.com/test.mozilla.com/www/xpi\\n+buildtype=debug\\ndiff --git a/testing/sisyphus/data/firefox,1.9.0-jprof,opt.data b/testing/sisyphus/data/firefox,1.9.0-jprof,opt.data\\nnew file mode 100755\\nindex 0000000..f3b3352\\n--- /dev/null\\n+++ b/testing/sisyphus/data/firefox,1.9.0-jprof,opt.data\\n@@ -0,0 +1,8 @@\\n+product=firefox\\n+branch=1.9.0\\n+profilename=firefox-1.9.0-jprof-profile\\n+profiledirectory=/tmp/firefox-1.9.0-jprof-profile\\n+executablepath=/work/mozilla/builds/1.9.0-jprof/mozilla/firefox-opt/dist\\n+userpreferences=/work/mozilla/mozilla.com/test.mozilla.com/www/prefs/test-user.js\\n+extensiondir=/work/mozilla/mozilla.com/test.mozilla.com/www/xpi\\n+buildtype=opt\\ndiff --git a/testing/sisyphus/data/js,1.8.1,too-much-gc,debug.data b/testing/sisyphus/data/js,1.8.1,too-much-gc,debug.data\\nnew file mode 100755\\nindex 0000000..240e4e3\\n--- /dev/null\\n+++ b/testing/sisyphus/data/js,1.8.1,too-much-gc,debug.data\\n@@ -0,0 +1,4 @@\\n+product=js\\n+branch=1.8.1\\n+sourcepath=/work/mozilla/builds/1.8.1-too-much-gc/mozilla/js/src\\n+buildtype=debug\\ndiff --git a/testing/sisyphus/data/js,1.9.0,too-much-gc,debug.data b/testing/sisyphus/data/js,1.9.0,too-much-gc,debug.data\\nnew file mode 100755\\nindex 0000000..a306b9c\\n--- /dev/null\\n+++ b/testing/sisyphus/data/js,1.9.0,too-much-gc,debug.data\\n@@ -0,0 +1,4 @@\\n+product=js\\n+branch=1.9.0\\n+sourcepath=/work/mozilla/builds/1.9.0-too-much-gc/mozilla/js/src\\n+buildtype=debug\\ndiff --git a/testing/sisyphus/tests/mozilla.org/download-page/test.sh b/testing/sisyphus/tests/mozilla.org/download-page/test.sh\\nindex 08447ae..ff0580d 100755\\n--- a/testing/sisyphus/tests/mozilla.org/download-page/test.sh\\n+++ b/testing/sisyphus/tests/mozilla.org/download-page/test.sh\\n@@ -83,13 +83,13 @@ executable=`get_executable $product $branch $executablepath`\\n urlfile=`mktemp /tmp/URLS.XXXX`\\n \\n if [[ \\\"$test\\\" == \\\"all\\\" ]]; then\\n-    $timed_run.py $TEST_DOWNLOAD_PAGE_TIMEOUT \\\"test download\\\" \\\\\\n+    $TEST_BIN/timed_run.py $TEST_DOWNLOAD_PAGE_TIMEOUT \\\"test download\\\" \\\\\\n \\t\\\"$executable\\\" -P \\\"$profilename\\\" -spider -start -quit \\\\\\n \\t-uri \\\"$allurl\\\" -timeout=$TEST_DOWNLOAD_PAGE_TIMEOUT \\\\\\n \\t-hook \\\"http://$TEST_HTTP/tests/mozilla.org/download-page/collect-urls-userhook.js\\\" | \\\\\\n \\tgrep 'href: ' | sed 's/^href: //' > $urlfile\\n elif [[ \\\"$test\\\" == \\\"ftp\\\" ]]; then\\n-    $timed_run.py $TEST_DOWNLOAD_PAGE_TIMEOUT \\\"test download\\\" \\\\\\n+    $TEST_BIN/timed_run.py $TEST_DOWNLOAD_PAGE_TIMEOUT \\\"test download\\\" \\\\\\n \\t\\\"$executable\\\" -P \\\"$profilename\\\" -spider -start -quit \\\\\\n \\t-uri \\\"$allurl\\\" -timeout=$TEST_DOWNLOAD_PAGE_TIMEOUT \\\\\\n \\t-hook \\\"http://$TEST_HTTP/tests/mozilla.org/download-page/userhook-ftp.js\\\" | \\\\\\n\""}