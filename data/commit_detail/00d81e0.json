{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas00d81e0\""},"diff":"\"00d81e0 Bug 394349 - use textbox.editor.transactionManager.clear() instead of textbox.editor.enableUndo(true/false) p=Ryan Jones <sciguyryan@gmail.com> r=gavin\\ndiff --git a/browser/base/content/sanitize.js b/browser/base/content/sanitize.js\\nindex 3edab6d..4c0fba8 100644\\n--- a/browser/base/content/sanitize.js\\n+++ b/browser/base/content/sanitize.js\\n@@ -157,8 +157,7 @@ Sanitizer.prototype = {\\n           var searchBar = windows.getNext().document.getElementById(\\\"searchbar\\\");\\n           if (searchBar) {\\n             searchBar.value = \\\"\\\";\\n-            searchBar.textbox.editor.enableUndo(false);\\n-            searchBar.textbox.editor.enableUndo(true);\\n+            searchBar.textbox.editor.transactionManager.clear();\\n           }\\n         }\\n \\n\""}