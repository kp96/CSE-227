{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas5dfb2cd\""},"diff":"\"5dfb2cd JavaScript Tests - regression tests for bug 396969, by Brendan Eich, not part of the build\\ndiff --git a/js/tests/ecma_3/Expressions/11.10-01.js b/js/tests/ecma_3/Expressions/11.10-01.js\\nnew file mode 100755\\nindex 0000000..fd47d5d\\n--- /dev/null\\n+++ b/js/tests/ecma_3/Expressions/11.10-01.js\\n@@ -0,0 +1,76 @@\\n+/* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\\n+/* ***** BEGIN LICENSE BLOCK *****\\n+ * Version: MPL 1.1/GPL 2.0/LGPL 2.1\\n+ *\\n+ * The contents of this file are subject to the Mozilla Public License Version\\n+ * 1.1 (the \\\"License\\\"); you may not use this file except in compliance with\\n+ * the License. You may obtain a copy of the License at\\n+ * http://www.mozilla.org/MPL/\\n+ *\\n+ * Software distributed under the License is distributed on an \\\"AS IS\\\" basis,\\n+ * WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\\n+ * for the specific language governing rights and limitations under the\\n+ * License.\\n+ *\\n+ * The Original Code is JavaScript Engine testing utilities.\\n+ *\\n+ * The Initial Developer of the Original Code is\\n+ * Mozilla Foundation.\\n+ * Portions created by the Initial Developer are Copyright (C) 2007\\n+ * the Initial Developer. All Rights Reserved.\\n+ *\\n+ * Contributor(s): Brendan Eich\\n+ *\\n+ * Alternatively, the contents of this file may be used under the terms of\\n+ * either the GNU General Public License Version 2 or later (the \\\"GPL\\\"), or\\n+ * the GNU Lesser General Public License Version 2.1 or later (the \\\"LGPL\\\"),\\n+ * in which case the provisions of the GPL or the LGPL are applicable instead\\n+ * of those above. If you wish to allow use of your version of this file only\\n+ * under the terms of either the GPL or the LGPL, and not to allow others to\\n+ * use your version of this file under the terms of the MPL, indicate your\\n+ * decision by deleting the provisions above and replace them with the notice\\n+ * and other provisions required by the GPL or the LGPL. If you do not delete\\n+ * the provisions above, a recipient may use your version of this file under\\n+ * the terms of any one of the MPL, the GPL or the LGPL.\\n+ *\\n+ * ***** END LICENSE BLOCK ***** */\\n+\\n+var gTestfile = '11.10-01.js';\\n+//-----------------------------------------------------------------------------\\n+var BUGNUMBER = 396969;\\n+var summary = '11.10 - & should evaluate operands in order';\\n+var actual = '';\\n+var expect = '';\\n+\\n+\\n+//-----------------------------------------------------------------------------\\n+test();\\n+//-----------------------------------------------------------------------------\\n+\\n+function test()\\n+{\\n+  enterFunc ('test');\\n+  printBugNumber(BUGNUMBER);\\n+  printStatus (summary);\\n+\\n+  expect = 'o.valueOf, p.valueOf';\\n+  var actualval;\\n+  var expectval = 2;\\n+\\n+  var o = {\\n+    valueOf: (function (){ actual += 'o.valueOf'; return this.value}), \\n+    value:42\\n+  };\\n+\\n+  var p = {\\n+    valueOf: (function (){ actual += ', p.valueOf'; return this.value}), \\n+    value:2\\n+  };\\n+\\n+  actualval = (o & p);\\n+\\n+  reportCompare(expectval, actualval, summary + ': value');\\n+  reportCompare(expect, actual, summary + ': order');\\n+\\n+  exitFunc ('test');\\n+}\\ndiff --git a/js/tests/ecma_3/Expressions/11.10-02.js b/js/tests/ecma_3/Expressions/11.10-02.js\\nnew file mode 100755\\nindex 0000000..8f387c1\\n--- /dev/null\\n+++ b/js/tests/ecma_3/Expressions/11.10-02.js\\n@@ -0,0 +1,76 @@\\n+/* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\\n+/* ***** BEGIN LICENSE BLOCK *****\\n+ * Version: MPL 1.1/GPL 2.0/LGPL 2.1\\n+ *\\n+ * The contents of this file are subject to the Mozilla Public License Version\\n+ * 1.1 (the \\\"License\\\"); you may not use this file except in compliance with\\n+ * the License. You may obtain a copy of the License at\\n+ * http://www.mozilla.org/MPL/\\n+ *\\n+ * Software distributed under the License is distributed on an \\\"AS IS\\\" basis,\\n+ * WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\\n+ * for the specific language governing rights and limitations under the\\n+ * License.\\n+ *\\n+ * The Original Code is JavaScript Engine testing utilities.\\n+ *\\n+ * The Initial Developer of the Original Code is\\n+ * Mozilla Foundation.\\n+ * Portions created by the Initial Developer are Copyright (C) 2007\\n+ * the Initial Developer. All Rights Reserved.\\n+ *\\n+ * Contributor(s): Brendan Eich\\n+ *\\n+ * Alternatively, the contents of this file may be used under the terms of\\n+ * either the GNU General Public License Version 2 or later (the \\\"GPL\\\"), or\\n+ * the GNU Lesser General Public License Version 2.1 or later (the \\\"LGPL\\\"),\\n+ * in which case the provisions of the GPL or the LGPL are applicable instead\\n+ * of those above. If you wish to allow use of your version of this file only\\n+ * under the terms of either the GPL or the LGPL, and not to allow others to\\n+ * use your version of this file under the terms of the MPL, indicate your\\n+ * decision by deleting the provisions above and replace them with the notice\\n+ * and other provisions required by the GPL or the LGPL. If you do not delete\\n+ * the provisions above, a recipient may use your version of this file under\\n+ * the terms of any one of the MPL, the GPL or the LGPL.\\n+ *\\n+ * ***** END LICENSE BLOCK ***** */\\n+\\n+var gTestfile = '11.10-02.js';\\n+//-----------------------------------------------------------------------------\\n+var BUGNUMBER = 396969;\\n+var summary = '11.10 - ^ should evaluate operands in order';\\n+var actual = '';\\n+var expect = '';\\n+\\n+\\n+//-----------------------------------------------------------------------------\\n+test();\\n+//-----------------------------------------------------------------------------\\n+\\n+function test()\\n+{\\n+  enterFunc ('test');\\n+  printBugNumber(BUGNUMBER);\\n+  printStatus (summary);\\n+\\n+  expect = 'o.valueOf, p.valueOf';\\n+  var actualval;\\n+  var expectval = 40;\\n+\\n+  var o = {\\n+    valueOf: (function (){ actual += 'o.valueOf'; return this.value}), \\n+    value:42\\n+  };\\n+\\n+  var p = {\\n+    valueOf: (function (){ actual += ', p.valueOf'; return this.value}), \\n+    value:2\\n+  };\\n+\\n+  actualval = (o ^ p);\\n+\\n+  reportCompare(expectval, actualval, summary + ': value');\\n+  reportCompare(expect, actual, summary + ': order');\\n+\\n+  exitFunc ('test');\\n+}\\ndiff --git a/js/tests/ecma_3/Expressions/11.7.1-01.js b/js/tests/ecma_3/Expressions/11.7.1-01.js\\nnew file mode 100755\\nindex 0000000..05f9622\\n--- /dev/null\\n+++ b/js/tests/ecma_3/Expressions/11.7.1-01.js\\n@@ -0,0 +1,76 @@\\n+/* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\\n+/* ***** BEGIN LICENSE BLOCK *****\\n+ * Version: MPL 1.1/GPL 2.0/LGPL 2.1\\n+ *\\n+ * The contents of this file are subject to the Mozilla Public License Version\\n+ * 1.1 (the \\\"License\\\"); you may not use this file except in compliance with\\n+ * the License. You may obtain a copy of the License at\\n+ * http://www.mozilla.org/MPL/\\n+ *\\n+ * Software distributed under the License is distributed on an \\\"AS IS\\\" basis,\\n+ * WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\\n+ * for the specific language governing rights and limitations under the\\n+ * License.\\n+ *\\n+ * The Original Code is JavaScript Engine testing utilities.\\n+ *\\n+ * The Initial Developer of the Original Code is\\n+ * Mozilla Foundation.\\n+ * Portions created by the Initial Developer are Copyright (C) 2007\\n+ * the Initial Developer. All Rights Reserved.\\n+ *\\n+ * Contributor(s): Brendan Eich\\n+ *\\n+ * Alternatively, the contents of this file may be used under the terms of\\n+ * either the GNU General Public License Version 2 or later (the \\\"GPL\\\"), or\\n+ * the GNU Lesser General Public License Version 2.1 or later (the \\\"LGPL\\\"),\\n+ * in which case the provisions of the GPL or the LGPL are applicable instead\\n+ * of those above. If you wish to allow use of your version of this file only\\n+ * under the terms of either the GPL or the LGPL, and not to allow others to\\n+ * use your version of this file under the terms of the MPL, indicate your\\n+ * decision by deleting the provisions above and replace them with the notice\\n+ * and other provisions required by the GPL or the LGPL. If you do not delete\\n+ * the provisions above, a recipient may use your version of this file under\\n+ * the terms of any one of the MPL, the GPL or the LGPL.\\n+ *\\n+ * ***** END LICENSE BLOCK ***** */\\n+\\n+var gTestfile = '11.7.1-01.js';\\n+//-----------------------------------------------------------------------------\\n+var BUGNUMBER = 396969;\\n+var summary = '11.7.1 - << should evaluate operands in order';\\n+var actual = '';\\n+var expect = '';\\n+\\n+\\n+//-----------------------------------------------------------------------------\\n+test();\\n+//-----------------------------------------------------------------------------\\n+\\n+function test()\\n+{\\n+  enterFunc ('test');\\n+  printBugNumber(BUGNUMBER);\\n+  printStatus (summary);\\n+\\n+  expect = 'o.valueOf, p.valueOf';\\n+  var actualval;\\n+  var expectval = 168;\\n+\\n+  var o = {\\n+    valueOf: (function (){ actual += 'o.valueOf'; return this.value}), \\n+    value:42\\n+  };\\n+\\n+  var p = {\\n+    valueOf: (function (){ actual += ', p.valueOf'; return this.value}), \\n+    value:2\\n+  };\\n+\\n+  actualval = (o << p);\\n+\\n+  reportCompare(expectval, actualval, summary + ': value');\\n+  reportCompare(expect, actual, summary + ': order');\\n+\\n+  exitFunc ('test');\\n+}\\ndiff --git a/js/tests/ecma_3/Expressions/11.7.2-01.js b/js/tests/ecma_3/Expressions/11.7.2-01.js\\nnew file mode 100755\\nindex 0000000..64e4268\\n--- /dev/null\\n+++ b/js/tests/ecma_3/Expressions/11.7.2-01.js\\n@@ -0,0 +1,76 @@\\n+/* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\\n+/* ***** BEGIN LICENSE BLOCK *****\\n+ * Version: MPL 1.1/GPL 2.0/LGPL 2.1\\n+ *\\n+ * The contents of this file are subject to the Mozilla Public License Version\\n+ * 1.1 (the \\\"License\\\"); you may not use this file except in compliance with\\n+ * the License. You may obtain a copy of the License at\\n+ * http://www.mozilla.org/MPL/\\n+ *\\n+ * Software distributed under the License is distributed on an \\\"AS IS\\\" basis,\\n+ * WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\\n+ * for the specific language governing rights and limitations under the\\n+ * License.\\n+ *\\n+ * The Original Code is JavaScript Engine testing utilities.\\n+ *\\n+ * The Initial Developer of the Original Code is\\n+ * Mozilla Foundation.\\n+ * Portions created by the Initial Developer are Copyright (C) 2007\\n+ * the Initial Developer. All Rights Reserved.\\n+ *\\n+ * Contributor(s): Brendan Eich\\n+ *\\n+ * Alternatively, the contents of this file may be used under the terms of\\n+ * either the GNU General Public License Version 2 or later (the \\\"GPL\\\"), or\\n+ * the GNU Lesser General Public License Version 2.1 or later (the \\\"LGPL\\\"),\\n+ * in which case the provisions of the GPL or the LGPL are applicable instead\\n+ * of those above. If you wish to allow use of your version of this file only\\n+ * under the terms of either the GPL or the LGPL, and not to allow others to\\n+ * use your version of this file under the terms of the MPL, indicate your\\n+ * decision by deleting the provisions above and replace them with the notice\\n+ * and other provisions required by the GPL or the LGPL. If you do not delete\\n+ * the provisions above, a recipient may use your version of this file under\\n+ * the terms of any one of the MPL, the GPL or the LGPL.\\n+ *\\n+ * ***** END LICENSE BLOCK ***** */\\n+\\n+var gTestfile = '11.7.2-01.js';\\n+//-----------------------------------------------------------------------------\\n+var BUGNUMBER = 396969;\\n+var summary = '11.7.2 - >> should evaluate operands in order';\\n+var actual = '';\\n+var expect = '';\\n+\\n+\\n+//-----------------------------------------------------------------------------\\n+test();\\n+//-----------------------------------------------------------------------------\\n+\\n+function test()\\n+{\\n+  enterFunc ('test');\\n+  printBugNumber(BUGNUMBER);\\n+  printStatus (summary);\\n+\\n+  expect = 'o.valueOf, p.valueOf';\\n+  var actualval;\\n+  var expectval = 10;\\n+\\n+  var o = {\\n+    valueOf: (function (){ actual += 'o.valueOf'; return this.value}), \\n+    value:42\\n+  };\\n+\\n+  var p = {\\n+    valueOf: (function (){ actual += ', p.valueOf'; return this.value}), \\n+    value:2\\n+  };\\n+\\n+  actualval = (o >> p);\\n+\\n+  reportCompare(expectval, actualval, summary + ': value');\\n+  reportCompare(expect, actual, summary + ': order');\\n+\\n+  exitFunc ('test');\\n+}\\ndiff --git a/js/tests/ecma_3/Expressions/11.7.3-01.js b/js/tests/ecma_3/Expressions/11.7.3-01.js\\nnew file mode 100755\\nindex 0000000..c56e8e8\\n--- /dev/null\\n+++ b/js/tests/ecma_3/Expressions/11.7.3-01.js\\n@@ -0,0 +1,76 @@\\n+/* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\\n+/* ***** BEGIN LICENSE BLOCK *****\\n+ * Version: MPL 1.1/GPL 2.0/LGPL 2.1\\n+ *\\n+ * The contents of this file are subject to the Mozilla Public License Version\\n+ * 1.1 (the \\\"License\\\"); you may not use this file except in compliance with\\n+ * the License. You may obtain a copy of the License at\\n+ * http://www.mozilla.org/MPL/\\n+ *\\n+ * Software distributed under the License is distributed on an \\\"AS IS\\\" basis,\\n+ * WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\\n+ * for the specific language governing rights and limitations under the\\n+ * License.\\n+ *\\n+ * The Original Code is JavaScript Engine testing utilities.\\n+ *\\n+ * The Initial Developer of the Original Code is\\n+ * Mozilla Foundation.\\n+ * Portions created by the Initial Developer are Copyright (C) 2007\\n+ * the Initial Developer. All Rights Reserved.\\n+ *\\n+ * Contributor(s): Brendan Eich\\n+ *\\n+ * Alternatively, the contents of this file may be used under the terms of\\n+ * either the GNU General Public License Version 2 or later (the \\\"GPL\\\"), or\\n+ * the GNU Lesser General Public License Version 2.1 or later (the \\\"LGPL\\\"),\\n+ * in which case the provisions of the GPL or the LGPL are applicable instead\\n+ * of those above. If you wish to allow use of your version of this file only\\n+ * under the terms of either the GPL or the LGPL, and not to allow others to\\n+ * use your version of this file under the terms of the MPL, indicate your\\n+ * decision by deleting the provisions above and replace them with the notice\\n+ * and other provisions required by the GPL or the LGPL. If you do not delete\\n+ * the provisions above, a recipient may use your version of this file under\\n+ * the terms of any one of the MPL, the GPL or the LGPL.\\n+ *\\n+ * ***** END LICENSE BLOCK ***** */\\n+\\n+var gTestfile = '11.7.1-01.js';\\n+//-----------------------------------------------------------------------------\\n+var BUGNUMBER = 396969;\\n+var summary = '11.7.1 - >>> should evaluate operands in order';\\n+var actual = '';\\n+var expect = '';\\n+\\n+\\n+//-----------------------------------------------------------------------------\\n+test();\\n+//-----------------------------------------------------------------------------\\n+\\n+function test()\\n+{\\n+  enterFunc ('test');\\n+  printBugNumber(BUGNUMBER);\\n+  printStatus (summary);\\n+\\n+  expect = 'o.valueOf, p.valueOf';\\n+  var actualval;\\n+  var expectval = 10;\\n+\\n+  var o = {\\n+    valueOf: (function (){ actual += 'o.valueOf'; return this.value}), \\n+    value:42\\n+  };\\n+\\n+  var p = {\\n+    valueOf: (function (){ actual += ', p.valueOf'; return this.value}), \\n+    value:2\\n+  };\\n+\\n+  actualval = (o >>> p);\\n+\\n+  reportCompare(expectval, actualval, summary + ': value');\\n+  reportCompare(expect, actual, summary + ': order');\\n+\\n+  exitFunc ('test');\\n+}\\n\""}