{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basf38575a\""},"diff":"\"f38575a consider separators when determining menu item visibility. b=394515 r=cbarrett sr=roc\\ndiff --git a/widget/src/cocoa/nsMenuX.mm b/widget/src/cocoa/nsMenuX.mm\\nindex 2879f1b..3d7fd0b 100644\\n--- a/widget/src/cocoa/nsMenuX.mm\\n+++ b/widget/src/cocoa/nsMenuX.mm\\n@@ -346,8 +346,12 @@ static PRBool MenuNodeIsVisible(nsISupports *item)\\n   // Find the content for this item in the menu, be it a MenuItem or a Menu\\n   nsCOMPtr<nsIContent> itemContent;\\n   nsCOMPtr<nsIMenuItem> menuItem = do_QueryInterface(item);\\n-  if (menuItem)\\n+  if (item == &gDummyMenuItemX) {\\n+    return PR_TRUE;\\n+  }\\n+  else if (menuItem) {\\n     menuItem->GetMenuItemContent(getter_AddRefs(itemContent));\\n+  }\\n   else {\\n     nsCOMPtr<nsIMenu> menu = do_QueryInterface(item);\\n     if (menu)\\n\""}