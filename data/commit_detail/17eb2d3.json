{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas17eb2d3\""},"diff":"\"17eb2d3 Attempt to fix test failures from bug 382027.\\ndiff --git a/layout/style/nsCSSValue.cpp b/layout/style/nsCSSValue.cpp\\nindex 74d7550..73383a8 100644\\n--- a/layout/style/nsCSSValue.cpp\\n+++ b/layout/style/nsCSSValue.cpp\\n@@ -166,7 +166,10 @@ nsCSSValue& nsCSSValue::operator=(const nsCSSValue& aCopy)\\n PRBool nsCSSValue::operator==(const nsCSSValue& aOther) const\\n {\\n   if (mUnit == aOther.mUnit) {\\n-    if ((eCSSUnit_String <= mUnit) && (mUnit <= eCSSUnit_Attr)) {\\n+    if (mUnit <= eCSSUnit_System_Font) {\\n+      return PR_TRUE;\\n+    }\\n+    else if ((eCSSUnit_String <= mUnit) && (mUnit <= eCSSUnit_Attr)) {\\n       return (NS_strcmp(GetBufferValue(mValue.mString),\\n                         GetBufferValue(aOther.mValue.mString)) == 0);\\n     }\\n\""}