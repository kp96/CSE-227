{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas7cd8a5b\""},"diff":"\"7cd8a5b bug 357235: make the 'undo close tab' keyboard shortcut more discoverable; Patch by Michael Ventnor; r=mano, uir=beltzner, a=mconnor\\ndiff --git a/browser/base/content/browser.js b/browser/base/content/browser.js\\nindex 0a85ae7..374ecd0 100644\\n--- a/browser/base/content/browser.js\\n+++ b/browser/base/content/browser.js\\n@@ -5365,7 +5365,7 @@ HistoryMenu.populateUndoSubmenu = function PHM_populateUndoSubmenu() {\\n   // populate menu\\n   var undoItems = eval(\\\"(\\\" + ss.getClosedTabData(window) + \\\")\\\");\\n   for (var i = 0; i < undoItems.length; i++) {\\n-    var m = undoPopup.appendChild(document.createElement(\\\"menuitem\\\"));\\n+    var m = document.createElement(\\\"menuitem\\\");\\n     m.setAttribute(\\\"label\\\", undoItems[i].title);\\n     if (undoItems[i].image)\\n       m.setAttribute(\\\"image\\\", undoItems[i].image);\\n@@ -5373,6 +5373,9 @@ HistoryMenu.populateUndoSubmenu = function PHM_populateUndoSubmenu() {\\n     m.setAttribute(\\\"value\\\", i);\\n     m.setAttribute(\\\"oncommand\\\", \\\"undoCloseTab(\\\" + i + \\\");\\\");\\n     m.addEventListener(\\\"click\\\", undoCloseMiddleClick, false);\\n+    if (i == 0)\\n+      m.setAttribute(\\\"key\\\", \\\"key_undoCloseTab\\\");\\n+    undoPopup.appendChild(m);\\n   }\\n \\n   // \\\"Open All in Tabs\\\"\\n\""}