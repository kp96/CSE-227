{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas68b2039\""},"diff":"\"68b2039 Adding tests\\ndiff --git a/layout/reftests/bugs/393517-1.xhtml b/layout/reftests/bugs/393517-1.xhtml\\nnew file mode 100644\\nindex 0000000..5c22769\\n--- /dev/null\\n+++ b/layout/reftests/bugs/393517-1.xhtml\\n@@ -0,0 +1,18 @@\\n+<html xmlns=\\\"http://www.w3.org/1999/xhtml\\\" xmlns:xul=\\\"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\\\">\\n+<head>\\n+<script>\\n+function boom()\\n+{\\n+  document.getElementById(\\\"inxul\\\").appendChild(document.getElementById(\\\"floater\\\"));\\n+}\\n+</script>\\n+</head>\\n+\\n+<body onload=\\\"boom()\\\">\\n+\\n+<xul:vbox><span id=\\\"inxul\\\"><div/></span></xul:vbox>\\n+\\n+<span style=\\\"float: left;\\\" id=\\\"floater\\\"></span>\\n+\\n+</body>\\n+</html>\\ndiff --git a/layout/reftests/bugs/393649-1-ref.html b/layout/reftests/bugs/393649-1-ref.html\\nnew file mode 100644\\nindex 0000000..70a88a0\\n--- /dev/null\\n+++ b/layout/reftests/bugs/393649-1-ref.html\\n@@ -0,0 +1,17 @@\\n+<html xmlns=\\\"http://www.w3.org/1999/xhtml\\\">\\n+<head>\\n+<script>\\n+function boom()\\n+{\\n+  find(\\\"XXX\\\");\\n+}\\n+</script>\\n+</head>\\n+\\n+<body onload=\\\"boom();\\\" style=\\\"width: 15em;\\\">\\n+<div style=\\\"-moz-column-count: 2;\\\">\\n+<span id=\\\"span\\\"><div>yo yo yo yo yo yo yo yo</div>XXX</span>\\n+</div>\\n+\\n+</body>\\n+</html>\\ndiff --git a/layout/reftests/bugs/393649-1.html b/layout/reftests/bugs/393649-1.html\\nnew file mode 100644\\nindex 0000000..f6046a90\\n--- /dev/null\\n+++ b/layout/reftests/bugs/393649-1.html\\n@@ -0,0 +1,18 @@\\n+<html xmlns=\\\"http://www.w3.org/1999/xhtml\\\">\\n+<head>\\n+<script>\\n+function boom()\\n+{\\n+  document.getElementById(\\\"span\\\").appendChild(document.createTextNode(\\\"XXX\\\"));\\n+  find(\\\"XXX\\\");\\n+}\\n+</script>\\n+</head>\\n+\\n+<body onload=\\\"boom();\\\" style=\\\"width: 15em;\\\">\\n+<div style=\\\"-moz-column-count: 2;\\\">\\n+<span id=\\\"span\\\"><div>yo yo yo yo yo yo yo yo</div></span>\\n+</div>\\n+\\n+</body>\\n+</html>\\ndiff --git a/layout/reftests/bugs/reftest.list b/layout/reftests/bugs/reftest.list\\nindex 8e67496..a3eba75 100644\\n--- a/layout/reftests/bugs/reftest.list\\n+++ b/layout/reftests/bugs/reftest.list\\n@@ -368,3 +368,5 @@ random-if(MOZ_WIDGET_TOOLKIT==\\\"cocoa\\\") == 379316-2.html 379316-2-ref.html # bug\\n == 391140-1.html 391140-1-ref.html\\n == 391909-1.html 391909-1-ref.html\\n == 391994-1.html 391994-1-ref.html\\n+== 393649-1.html 393649-1-ref.html\\n+== 393517-1.html about:blank  # crash test\\n\""}