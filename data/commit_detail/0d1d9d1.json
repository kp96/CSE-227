{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas0d1d9d1\""},"diff":"\"0d1d9d1 Bug 393546  Star-icon needs a tooltip with a description of what it's doing when clicking on it (r=sspitzer)\\ndiff --git a/browser/base/content/browser-places.js b/browser/base/content/browser-places.js\\nindex c78ce3b..5f9200d 100644\\n--- a/browser/base/content/browser-places.js\\n+++ b/browser/base/content/browser-places.js\\n@@ -769,13 +769,18 @@ var PlacesStarButton = {\\n     if (!starIcon)\\n       return;\\n \\n+    var browserBundle = document.getElementById(\\\"bundle_browser\\\");\\n     var uri = getBrowser().currentURI;\\n     this._starred = uri && (PlacesUtils.getMostRecentBookmarkForURI(uri) != -1 ||\\n                             PlacesUtils.getMostRecentFolderForFeedURI(uri) != -1);\\n-    if (this._starred)\\n+    if (this._starred) {\\n       starIcon.setAttribute(\\\"starred\\\", \\\"true\\\");\\n-    else\\n+      starIcon.setAttribute(\\\"tooltiptext\\\", browserBundle.getString(\\\"starButtonOn.tooltip\\\"));\\n+    }\\n+    else {\\n       starIcon.removeAttribute(\\\"starred\\\");\\n+      starIcon.setAttribute(\\\"tooltiptext\\\", browserBundle.getString(\\\"starButtonOff.tooltip\\\"));\\n+    }\\n   },\\n \\n   onClick: function PSB_onClick(aEvent) {\\ndiff --git a/browser/base/content/browser.xul b/browser/base/content/browser.xul\\nindex 52497ba..0dd2062 100644\\n--- a/browser/base/content/browser.xul\\n+++ b/browser/base/content/browser.xul\\n@@ -267,7 +267,8 @@\\n           <stack id=\\\"go-button-stack\\\" class=\\\"endcap\\\">\\n             <box class=\\\"endcap-box\\\" chromedir=\\\"&locale.dir;\\\"/>\\n             <hbox>\\n-              <toolbarbutton id=\\\"star-button\\\" onclick=\\\"if (event.button == 0) PlacesStarButton.onClick(event);\\\"/>\\n+              <toolbarbutton id=\\\"star-button\\\"\\n+                             onclick=\\\"if (event.button == 0) PlacesStarButton.onClick(event);\\\"/>\\n               <toolbarbutton id=\\\"go-button\\\" chromedir=\\\"&locale.dir;\\\"\\n                              label=\\\"&goEndCap.label;\\\"\\n                              onclick=\\\"handleURLBarCommand(event);\\\"\\ndiff --git a/browser/locales/en-US/chrome/browser/browser.properties b/browser/locales/en-US/chrome/browser/browser.properties\\nindex a0d47a1..b3a266b 100644\\n--- a/browser/locales/en-US/chrome/browser/browser.properties\\n+++ b/browser/locales/en-US/chrome/browser/browser.properties\\n@@ -97,3 +97,7 @@ chromelessWindow.warningMessage=The web site at %S has hidden your toolbars.\\n chromelessWindow.warningNoLocation=This web site has hidden your toolbars.\\n chromelessWindow.showToolbarsButton=Show Toolbars\\n chromelessWindow.accessKey=S\\n+\\n+# Star button\\n+starButtonOn.tooltip=Edit this bookmark\\n+starButtonOff.tooltip=Bookmark this page\\n\""}