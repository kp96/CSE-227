{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basf04c9cc\""},"diff":"\"f04c9cc Bug 391409 - \\\"Cleaning up all OS widget makefiles\\\" [p=xfsunoles@gmail.com (Jonathan Steele) r+sr+a1.9=roc]\\ndiff --git a/widget/src/beos/Makefile.in b/widget/src/beos/Makefile.in\\nindex f194ad8..64c1c61 100644\\n--- a/widget/src/beos/Makefile.in\\n+++ b/widget/src/beos/Makefile.in\\n@@ -68,12 +68,10 @@ REQUIRES\\t= xpcom \\\\\\n \\t\\t  pref \\\\\\n \\t\\t  view \\\\\\n \\t\\t  locale \\\\\\n+\\t\\t  cairo \\\\\\n+\\t\\t  thebes \\\\\\n \\t\\t  $(NULL)\\n \\n-ifdef MOZ_ENABLE_CAIRO_GFX\\n-REQUIRES += cairo thebes\\n-endif\\n-\\n CPPSRCS\\t\\t= \\\\\\n \\t\\tnsAppShell.cpp \\\\\\n \\t\\tnsBidiKeyboard.cpp \\\\\\n@@ -102,12 +100,9 @@ EXTRA_DSO_LDOPTS = \\\\\\n \\t\\t$(MOZ_COMPONENT_LIBS) \\\\\\n \\t\\t-lgkgfx \\\\\\n \\t\\t$(TK_LIBS) \\\\\\n+\\t\\t-lthebes \\\\\\n \\t\\t$(NULL)\\n \\n-ifdef MOZ_ENABLE_CAIRO_GFX\\n-EXTRA_DSO_LDOPTS += -lthebes\\n-endif\\n-\\n include $(topsrcdir)/config/rules.mk\\n \\n DEFINES\\t\\t+= -D_IMPL_NS_WIDGET -I$(srcdir)/../xpwidgets -I$(srcdir)\\ndiff --git a/widget/src/build/Makefile.in b/widget/src/build/Makefile.in\\nindex ec94002..294ca48 100644\\n--- a/widget/src/build/Makefile.in\\n+++ b/widget/src/build/Makefile.in\\n@@ -60,12 +60,10 @@ REQUIRES\\t= xpcom \\\\\\n \\t\\t  dom \\\\\\n \\t\\t  timer \\\\\\n \\t\\t  accessibility \\\\\\n+\\t\\t  thebes \\\\\\n+\\t\\t  cairo \\\\\\n \\t\\t  $(NULL)\\n \\n-ifeq ($(MOZ_ENABLE_CAIRO_GFX),1)\\n-REQUIRES += thebes cairo\\n-endif\\n-\\n CPPSRCS\\t\\t= nsWinWidgetFactory.cpp\\n \\n EXTRA_DSO_LIBS\\t= gkgfx\\ndiff --git a/widget/src/windows/Makefile.in b/widget/src/windows/Makefile.in\\nindex 78ace11..61b3fe3 100644\\n--- a/widget/src/windows/Makefile.in\\n+++ b/widget/src/windows/Makefile.in\\n@@ -70,12 +70,10 @@ REQUIRES\\t= xpcom \\\\\\n \\t\\t\\turiloader \\\\\\n \\t\\t\\twebbrowserpersist \\\\\\n \\t\\t\\tunicharutil \\\\\\n+\\t\\t\\tthebes \\\\\\n+\\t\\t\\tcairo \\\\\\n \\t\\t\\t$(NULL)\\n \\n-ifdef MOZ_ENABLE_CAIRO_GFX\\n-REQUIRES += thebes cairo\\n-endif\\n-\\n CPPSRCS\\t\\t= \\\\\\n \\tL_Ienumfe.cpp  \\\\\\n \\tnsWindow.cpp         \\\\\\ndiff --git a/widget/src/xpwidgets/Makefile.in b/widget/src/xpwidgets/Makefile.in\\nindex d10b630..aa2ce35 100644\\n--- a/widget/src/xpwidgets/Makefile.in\\n+++ b/widget/src/xpwidgets/Makefile.in\\n@@ -62,12 +62,10 @@ REQUIRES\\t= xpcom \\\\\\n \\t\\t  view \\\\\\n \\t\\t  windowwatcher \\\\\\n \\t\\t  lcms \\\\\\n+\\t\\t  thebes \\\\\\n+\\t\\t  cairo \\\\\\n \\t\\t  $(NULL)\\n \\n-ifeq ($(MOZ_ENABLE_CAIRO_GFX),1)\\n-REQUIRES += thebes cairo\\n-endif\\n-\\n DEFINES\\t\\t+= -D_IMPL_NS_WIDGET -DUSE_TLS_FOR_TOOLKIT\\n \\n CPPSRCS\\t\\t= \\\\\\n@@ -86,16 +84,16 @@ CPPSRCS\\t\\t= \\\\\\n \\t\\tnsIdleService.cpp \\\\\\n \\t\\t$(NULL)\\n \\n-ifneq (,$(filter beos os2 mac cocoa windows,$(MOZ_WIDGET_TOOLKIT)))\\n+ifneq (,$(filter beos os2 cocoa windows,$(MOZ_WIDGET_TOOLKIT)))\\n CPPSRCS += nsBaseClipboard.cpp\\n endif\\n \\n-ifneq (,$(filter beos gtk2 os2 mac cocoa photon windows,$(MOZ_WIDGET_TOOLKIT)))\\n+ifneq (,$(filter beos gtk2 os2 cocoa photon windows,$(MOZ_WIDGET_TOOLKIT)))\\n CPPSRCS += nsBaseFilePicker.cpp\\n REQUIRES += docshell view intl\\n endif\\n \\n-ifneq (,$(filter gtk2 windows mac cocoa,$(MOZ_WIDGET_TOOLKIT)))\\n+ifneq (,$(filter gtk2 windows cocoa,$(MOZ_WIDGET_TOOLKIT)))\\n CPPSRCS += nsNativeTheme.cpp\\n endif\\n \\n\""}