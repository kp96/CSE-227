{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas7b3e3cd\""},"diff":"\"7b3e3cd Bug 395279 Clean up old contents.rdf files and MOZ_XUL_APP defines from editor/ui. r=KaiRo,sr=Neil. NPOTB for firefox freeze.\\ndiff --git a/editor/ui/composer/content/contents-region.rdf b/editor/ui/composer/content/contents-region.rdf\\ndeleted file mode 100644\\nindex 4615623..0000000\\n--- a/editor/ui/composer/content/contents-region.rdf\\n+++ /dev/null\\n@@ -1,17 +0,0 @@\\n-<?xml version=\\\"1.0\\\"?>\\n-<RDF:RDF xmlns:RDF=\\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\\"\\n-         xmlns:chrome=\\\"http://www.mozilla.org/rdf/chrome#\\\">\\n-\\n-  <!-- list all the packages being supplied by this jar -->\\n-  <RDF:Seq about=\\\"urn:mozilla:package:root\\\">\\n-    <RDF:li resource=\\\"urn:mozilla:package:editor-region\\\"/>\\n-  </RDF:Seq>\\n-\\n-  <!-- package information -->\\n-  <RDF:Description about=\\\"urn:mozilla:package:editor-region\\\"\\n-        chrome:author=\\\"mozilla.org\\\"\\n-        chrome:name=\\\"editor-region\\\"\\n-#expand  \\tchrome:localeVersion=\\\"__MOZILLA_REGION_VERSION__\\\">\\n-  </RDF:Description>\\n-\\n-</RDF:RDF>\\ndiff --git a/editor/ui/composer/content/contents.rdf b/editor/ui/composer/content/contents.rdf\\ndeleted file mode 100644\\nindex 5a850b6..0000000\\n--- a/editor/ui/composer/content/contents.rdf\\n+++ /dev/null\\n@@ -1,56 +0,0 @@\\n-<?xml version=\\\"1.0\\\"?>\\n-<RDF:RDF xmlns:RDF=\\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\\"\\n-         xmlns:chrome=\\\"http://www.mozilla.org/rdf/chrome#\\\">\\n-\\n-  <!-- list all the packages being supplied by this jar -->\\n-  <RDF:Seq about=\\\"urn:mozilla:package:root\\\">\\n-    <RDF:li resource=\\\"urn:mozilla:package:editor\\\"/>\\n-  </RDF:Seq>\\n-\\n-  <!-- package information -->\\n-  <RDF:Description about=\\\"urn:mozilla:package:editor\\\"\\n-        chrome:displayName=\\\"Editor\\\"\\n-        chrome:author=\\\"mozilla.org\\\"\\n-        chrome:name=\\\"editor\\\"\\n-        chrome:xpcNativeWrappers=\\\"true\\\"\\n-#expand         chrome:localeVersion=\\\"__MOZILLA_LOCALE_VERSION__\\\"\\n-#expand         chrome:skinVersion=\\\"__MOZILLA_SKIN_VERSION__\\\">\\n-  </RDF:Description>\\n-  \\n-  <!-- overlay information -->\\n-  <RDF:Seq about=\\\"urn:mozilla:overlays\\\">\\n-    <RDF:li resource=\\\"chrome://communicator/content/tasksOverlay.xul\\\"/>\\n-    <RDF:li resource=\\\"chrome://communicator/content/pref/preftree.xul\\\"/>\\n-    <RDF:li resource=\\\"chrome://communicator/content/pref/pref-appearance.xul\\\"/>\\n-    <RDF:li resource=\\\"chrome://navigator/content/navigatorOverlay.xul\\\"/>\\n-    <RDF:li resource=\\\"chrome://messenger/content/mailWindowOverlay.xul\\\"/>\\n-  </RDF:Seq>\\n-\\n-  <!-- editor tasks overlay -->\\n-  <RDF:Seq about=\\\"chrome://communicator/content/tasksOverlay.xul\\\">\\n-    <RDF:li>chrome://editor/content/editorTasksOverlay.xul</RDF:li>\\n-  </RDF:Seq>\\n-\\n-  <!-- editor preferences branches -->\\n-  <RDF:Seq about=\\\"chrome://communicator/content/pref/preftree.xul\\\">\\n-    <RDF:li>chrome://editor/content/editorPrefsOverlay.xul</RDF:li>\\n-  </RDF:Seq>\\n-\\n-  <!-- editor startup pref -->\\n-  <RDF:Seq about=\\\"chrome://communicator/content/pref/pref-appearance.xul\\\">\\n-    <RDF:li>chrome://editor/content/editorPrefsOverlay.xul</RDF:li>\\n-  </RDF:Seq>\\n-\\n-  <!-- editor items for Navigator -->\\n-  <RDF:Seq about=\\\"chrome://navigator/content/navigatorOverlay.xul\\\">\\n-    <RDF:li>chrome://editor/content/editorNavigatorOverlay.xul</RDF:li>\\n-  </RDF:Seq>\\n-\\n-  <!-- editor items for Mail -->\\n-  <RDF:Seq about=\\\"chrome://messenger/content/mailWindowOverlay.xul\\\">\\n-    <RDF:li>chrome://editor/content/editorMailOverlay.xul</RDF:li>\\n-  </RDF:Seq>\\n-\\n-\\n-</RDF:RDF>\\n-\\ndiff --git a/editor/ui/jar.mn b/editor/ui/jar.mn\\nindex ea14f85..fd50e24 100644\\n--- a/editor/ui/jar.mn\\n+++ b/editor/ui/jar.mn\\n@@ -1,5 +1,4 @@\\n comm.jar:\\n-#ifdef MOZ_XUL_APP\\n % content editor %content/editor/ xpcnativewrappers=yes\\n % overlay chrome://communicator/content/tasksOverlay.xul chrome://editor/content/editorTasksOverlay.xul\\n % overlay chrome://messenger/content/mailWindowOverlay.xul chrome://editor/content/editorMailOverlay.xul\\n@@ -9,10 +8,6 @@ comm.jar:\\n % overlay chrome://navigator/content/navigatorOverlay.xul chrome://editor/content/editorNavigatorOverlay.xul\\n % content editor-region %content/editor-region/ xpcnativewrappers=yes\\n #endif\\n-#else\\n-*     content/editor/contents.rdf                              (composer/content/contents.rdf)\\n-*     content/editor-region/contents.rdf                       (composer/content/contents-region.rdf)\\n-#endif\\n       content/editor/editor.xul                                (composer/content/editor.xul) \\n       content/editor/editor.js                                 (composer/content/editor.js) \\n       content/editor/publishprefs.js                           (composer/content/publishprefs.js) \\ndiff --git a/editor/ui/locales/generic/chrome/composer/contents.rdf b/editor/ui/locales/generic/chrome/composer/contents.rdf\\ndeleted file mode 100644\\nindex f4ce817..0000000\\n--- a/editor/ui/locales/generic/chrome/composer/contents.rdf\\n+++ /dev/null\\n@@ -1,26 +0,0 @@\\n-<?xml version=\\\"1.0\\\"?>\\n-\\n-#filter substitution\\n-\\n-<RDF:RDF xmlns:RDF=\\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\\"\\n-         xmlns:chrome=\\\"http://www.mozilla.org/rdf/chrome#\\\">\\n-\\n-  <!-- list all the skins being supplied by this package -->\\n-  <RDF:Seq about=\\\"urn:mozilla:locale:root\\\">\\n-    <RDF:li resource=\\\"urn:mozilla:locale:@AB_CD@\\\"/>\\n-  </RDF:Seq>\\n-\\n-  <!-- locale information -->\\n-  <RDF:Description about=\\\"urn:mozilla:locale:@AB_CD@\\\">\\n-    <chrome:packages>\\n-      <RDF:Seq about=\\\"urn:mozilla:locale:@AB_CD@:packages\\\">\\n-        <RDF:li resource=\\\"urn:mozilla:locale:@AB_CD@:editor\\\"/>\\n-      </RDF:Seq>\\n-    </chrome:packages>\\n-  </RDF:Description>\\n-\\n-  <!-- Version Information.  State that we work only with major version of this\\n-       package. -->\\n-  <RDF:Description about=\\\"urn:mozilla:locale:@AB_CD@:editor\\\"\\n-       chrome:localeVersion=\\\"@MOZILLA_LOCALE_VERSION@\\\"/>\\n-</RDF:RDF>\\n\\\\ No newline at end of file\\ndiff --git a/editor/ui/locales/generic/chrome/region/contents.rdf b/editor/ui/locales/generic/chrome/region/contents.rdf\\ndeleted file mode 100644\\nindex 510de6a..0000000\\n--- a/editor/ui/locales/generic/chrome/region/contents.rdf\\n+++ /dev/null\\n@@ -1,27 +0,0 @@\\n-<?xml version=\\\"1.0\\\"?>\\n-\\n-#filter substitution\\n-\\n-<RDF:RDF xmlns:RDF=\\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\\"\\n-         xmlns:chrome=\\\"http://www.mozilla.org/rdf/chrome#\\\">\\n-\\n-  <!-- list all the locale being supplied by this package -->\\n-  <RDF:Seq about=\\\"urn:mozilla:locale:root\\\">\\n-    <RDF:li resource=\\\"urn:mozilla:locale:@AB_CD@\\\"/>\\n-  </RDF:Seq>\\n-\\n-  <!-- locale information -->\\n-  <RDF:Description about=\\\"urn:mozilla:locale:@AB_CD@\\\"\\n-        chrome:author=\\\"mozilla.org\\\">\\n-    <chrome:packages>\\n-      <RDF:Seq about=\\\"urn:mozilla:locale:@AB_CD@:packages\\\">\\n-        <RDF:li resource=\\\"urn:mozilla:locale:@AB_CD@:editor-region\\\"/>\\n-      </RDF:Seq>\\n-    </chrome:packages>\\n-  </RDF:Description>\\n-\\n-  <!-- Version Information.  State that we work only with major version of this\\n-       package. -->\\n-  <RDF:Description about=\\\"urn:mozilla:locale:@AB_CD@:editor-region\\\"\\n-                chrome:localeVersion=\\\"@MOZILLA_REGION_VERSION@\\\"/>\\n-</RDF:RDF>\\n\\\\ No newline at end of file\\ndiff --git a/editor/ui/locales/jar.mn b/editor/ui/locales/jar.mn\\nindex 4631cbe..29e1225 100644\\n--- a/editor/ui/locales/jar.mn\\n+++ b/editor/ui/locales/jar.mn\\n@@ -1,11 +1,7 @@\\n #filter substitution\\n \\n @AB_CD@.jar:\\n-#ifdef MOZ_XUL_APP\\n % locale editor @AB_CD@ %locale/@AB_CD@/editor/\\n-#else\\n-* locale/@AB_CD@/editor/contents.rdf                         (generic/chrome/composer/contents.rdf)\\n-#endif\\n   locale/@AB_CD@/editor/editorSmileyOverlay.dtd              (%chrome/composer/editorSmileyOverlay.dtd)\\n   locale/@AB_CD@/editor/editorOverlay.dtd                    (%chrome/composer/editorOverlay.dtd)\\n   locale/@AB_CD@/editor/editor.properties                    (%chrome/composer/editor.properties)\\n@@ -38,6 +34,7 @@\\n \\n #ifdef MOZ_SUITE\\n @AB_CD@.jar:\\n+% locale editor-region @AB_CD@ %locale/@AB_CD@/editor-region/\\n   locale/@AB_CD@/editor/editor.dtd                           (%chrome/composer/editor.dtd)\\n   locale/@AB_CD@/editor/editorPrefsOverlay.dtd               (%chrome/composer/editorPrefsOverlay.dtd)\\n   locale/@AB_CD@/editor/editorNavigatorOverlay.dtd           (%chrome/composer/editorNavigatorOverlay.dtd)\\n@@ -54,10 +51,5 @@\\n   locale/@AB_CD@/editor/EditorSaveAsCharset.dtd              (%chrome/dialogs/EditorSaveAsCharset.dtd)\\n   locale/@AB_CD@/editor/EditorPublish.dtd                    (%chrome/dialogs/EditorPublish.dtd)\\n   locale/@AB_CD@/editor/EditorPublishProgress.dtd            (%chrome/dialogs/EditorPublishProgress.dtd)\\n-#ifdef MOZ_XUL_APP\\n-% locale editor-region @AB_CD@ %locale/@AB_CD@/editor-region/\\n-#else\\n-* locale/@AB_CD@/editor-region/contents.rdf                  (generic/chrome/region/contents.rdf)\\n-#endif\\n   locale/@AB_CD@/editor-region/region.properties             (%chrome/region/region.properties)\\n #endif\\n\""}