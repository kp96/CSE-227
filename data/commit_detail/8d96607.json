{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas8d96607\""},"diff":"\"8d96607 Bug 394828 - clean up extensions.css. r=dtownsend\\ndiff --git a/toolkit/mozapps/extensions/content/extensions.css b/toolkit/mozapps/extensions/content/extensions.css\\nindex e3b6853..bfa0a8e 100644\\n--- a/toolkit/mozapps/extensions/content/extensions.css\\n+++ b/toolkit/mozapps/extensions/content/extensions.css\\n@@ -105,3 +105,41 @@ richlistitem[opType=\\\"needs-disable\\\"] hbox.addon-description {\\n   -moz-box-align: center;\\n   -moz-appearance: none;\\n }\\n+\\n+/* Hide / Display buttons depending on the state of the add-on */\\n+.enableHide,\\n+.uninstallShow,\\n+.installShow,\\n+.upgradeShow,\\n+richlistitem[isDisabled=\\\"true\\\"] .disableHide {\\n+  display: none;\\n+}\\n+\\n+richlistitem[opType=\\\"needs-uninstall\\\"] .uninstallShow,\\n+richlistitem[opType=\\\"needs-install\\\"] .installShow,\\n+richlistitem[opType=\\\"needs-upgrade\\\"] .upgradeShow,\\n+richlistitem[opType=\\\"needs-enable\\\"] .enableShow,\\n+richlistitem[opType=\\\"needs-disable\\\"] .disableShow,\\n+richlistitem[isDisabled=\\\"true\\\"] .disableShow {\\n+  display: -moz-box;\\n+}\\n+\\n+richlistitem[opType=\\\"needs-uninstall\\\"] .uninstallHide,\\n+richlistitem[opType=\\\"needs-install\\\"] .uninstallHide,\\n+richlistitem[opType=\\\"needs-upgrade\\\"] .uninstallHide,\\n+richlistitem[opType=\\\"needs-enable\\\"] .enableHide,\\n+richlistitem[opType=\\\"needs-disable\\\"] .disableHide {\\n+  display: none;\\n+}\\n+\\n+richlistitem[plugin] .themeButton,\\n+richlistitem[plugin] .optionsButton,\\n+richlistitem[plugin] .uninstallButton,\\n+richlistitem[type=\\\"2\\\"] .themeButton,\\n+richlistitem[type=\\\"8\\\"] .themeButton,\\n+richlistitem[type=\\\"4\\\"] .optionsButton,\\n+richlistitem[type=\\\"8\\\"] .optionsButton,\\n+richlistitem[type=\\\"4\\\"] .disableShow,\\n+richlistitem[type=\\\"4\\\"] .disableHide {\\n+  display: none;\\n+}\\ndiff --git a/toolkit/themes/pinstripe/mozapps/extensions/extensions.css b/toolkit/themes/pinstripe/mozapps/extensions/extensions.css\\nindex 1aa1f12..b12db03 100644\\n--- a/toolkit/themes/pinstripe/mozapps/extensions/extensions.css\\n+++ b/toolkit/themes/pinstripe/mozapps/extensions/extensions.css\\n@@ -1,16 +1,8 @@\\n-#extensionManager {\\n-  background-color: ThreeDFace;\\n-}\\n-\\n #extensionsBox {\\n   padding: 5px 10px 0 10px;\\n   min-width:1px;\\n }\\n \\n-#getMore {\\n-  text-align: right;\\n-}\\n-\\n #resizerBox {\\n margin-top: -12px;\\n }\\n@@ -54,12 +46,12 @@ richlistitem[selected=\\\"true\\\"] {\\n   color: -moz-DialogText;\\n }\\n \\n-richlistbox:focus richlistitem[selected=\\\"true\\\"] {\\n+#extensionsView:focus > richlistitem[selected=\\\"true\\\"] {\\n   background-color: Highlight;\\n   color: HighlightText;\\n }\\n \\n-richlistbox:focus richlistitem[selected=\\\"true\\\"][isDisabled=\\\"true\\\"] {\\n+#extensionsView:focus > richlistitem[selected=\\\"true\\\"][isDisabled=\\\"true\\\"] {\\n   background-image: url(\\\"chrome://mozapps/skin/extensions/itemDisabledFader.png\\\");\\n }\\n \\n@@ -75,10 +67,6 @@ richlistitem[selected=\\\"true\\\"]:not([opType]) .descriptionCrop {\\n   font-weight: bold;\\n }\\n \\n-.addonIcon {\\n-  -moz-margin-end: 2px; \\n-}\\n-\\n .previewText {\\n   font-size: larger;\\n   font-weight: bold;\\n@@ -93,38 +81,29 @@ richlistitem[selected=\\\"true\\\"]:not([opType]) .descriptionCrop {\\n }\\n \\n .addonIcon {\\n+  -moz-margin-end: 2px;\\n   width: 32px;\\n   max-width: 32px;\\n   height: 32px;\\n   max-height: 32px;\\n }\\n \\n-richlistitem .updateBadge,\\n-richlistitem .notifyBadge {\\n+.updateBadge,\\n+.notifyBadge {\\n   width: 16px;\\n   height: 16px;\\n-  list-style-image: url(\\\"chrome://mozapps/skin/extensions/notifyBadges.png\\\");\\n-}\\n-\\n-richlistitem .updateBadge {\\n-  -moz-image-region: rect(0px 16px 16px 0px);\\n-}\\n-\\n-richlistitem .notifyBadge {\\n-  -moz-image-region: rect(0px 48px 16px 32px);\\n-}\\n-\\n-richlistitem .updateBadge,\\n-richlistitem .notifyBadge {\\n   margin-bottom: -3px;\\n+  list-style-image: url(\\\"chrome://mozapps/skin/extensions/notifyBadges.png\\\");\\n }\\n \\n-richlistitem .updateBadge {\\n+.updateBadge {\\n   -moz-margin-end: -2px;\\n+  -moz-image-region: rect(0px 16px 16px 0px);\\n }\\n \\n-richlistitem .notifyBadge {\\n+.notifyBadge {\\n   -moz-margin-start: -2px;\\n+  -moz-image-region: rect(0px 48px 16px 32px);\\n }\\n \\n .updateBadge,\\n@@ -142,68 +121,30 @@ richlistitem[satisfiesDependencies=\\\"false\\\"] .notifyBadge {\\n   display: -moz-box;\\n }\\n \\n-\\n-/* Selected Add-on buttons */\\n+/* Selected Add-on buttons\\n+   See content/extensions.css to hide / display buttons */\\n .selectedButtons {\\n   margin-top: 4px;\\n   min-height: 2.1em;\\n }\\n \\n-.selectedButtons button {\\n+.selectedButtons > button {\\n   margin-top: 0;\\n   margin-bottom: 0;\\n }\\n \\n-.optionsButton, .useThemeButton {\\n-  -moz-margin-end: 0;\\n-}\\n-\\n-.enableButton, .disableButton {\\n-  -moz-margin-start: 5px;\\n+.enableButton,\\n+.disableButton,\\n+.optionsButton,\\n+.useThemeButton {\\n   -moz-margin-end: 0;\\n }\\n \\n+.enableButton, .disableButton,\\n .uninstallButton, .cancelUninstallButton {\\n   -moz-margin-start: 5px;\\n }\\n \\n-.enableHide,\\n-.uninstallShow,\\n-.installShow,\\n-.upgradeShow,\\n-richlistitem[isDisabled=\\\"true\\\"] .disableHide {\\n-  display: none;\\n-}\\n-\\n-richlistitem[opType=\\\"needs-uninstall\\\"] .uninstallShow,\\n-richlistitem[opType=\\\"needs-install\\\"] .installShow,\\n-richlistitem[opType=\\\"needs-upgrade\\\"] .upgradeShow,\\n-richlistitem[opType=\\\"needs-enable\\\"] .enableShow,\\n-richlistitem[opType=\\\"needs-disable\\\"] .disableShow,\\n-richlistitem[isDisabled=\\\"true\\\"] .disableShow {\\n-  display: -moz-box;\\n-}\\n-\\n-richlistitem[opType=\\\"needs-uninstall\\\"] .uninstallHide,\\n-richlistitem[opType=\\\"needs-install\\\"] .uninstallHide,\\n-richlistitem[opType=\\\"needs-upgrade\\\"] .uninstallHide,\\n-richlistitem[opType=\\\"needs-enable\\\"] .enableHide,\\n-richlistitem[opType=\\\"needs-disable\\\"] .disableHide {\\n-  display: none;\\n-}\\n-\\n-richlistitem[plugin] .themeButton,\\n-richlistitem[plugin] .optionsButton,\\n-richlistitem[plugin] .uninstallButton,\\n-richlistitem[type=\\\"2\\\"] .themeButton,\\n-richlistitem[type=\\\"8\\\"] .themeButton,\\n-richlistitem[type=\\\"4\\\"] .optionsButton,\\n-richlistitem[type=\\\"8\\\"] .optionsButton,\\n-richlistitem[type=\\\"4\\\"] .disableShow,\\n-richlistitem[type=\\\"4\\\"] .disableHide {\\n-  display: none;\\n-}\\n-\\n /* Selected Add-on status messages and images */\\n richlistitem[compatible=\\\"true\\\"] .incompatibleBox,\\n richlistitem[providesUpdatesSecurely=\\\"true\\\"] .insecureUpdateBox,\\n@@ -233,7 +174,7 @@ richlistitem[loading=\\\"true\\\"] .updateBadge {\\n   list-style-image: url(\\\"chrome://global/skin/icons/loading_16.gif\\\");\\n }\\n \\n-.selectedStatusMsgs hbox {\\n+.selectedStatusMsgs > hbox {\\n   margin-top: 2px;\\n   margin-bottom: 2px;\\n }\\n@@ -247,17 +188,6 @@ richlistitem[loading=\\\"true\\\"] .updateBadge {\\n   border: none;\\n }\\n \\n-.needsInstall, .needsUninstall, .needsEnable, .needsDisable {\\n-  display: none;\\n-}\\n-\\n-richlistitem[opType=\\\"needs-install\\\"] .needsInstall,\\n-richlistitem[opType=\\\"needs-uninstall\\\"] .needsUninstall,\\n-richlistitem[opType=\\\"needs-enable\\\"] .needsEnable,\\n-richlistitem[opType=\\\"needs-disable\\\"] .needsDisable {\\n-  display: -moz-box;\\n-}\\n-\\n richlistitem[opType=\\\"needs-uninstall\\\"] .notifyBadge {\\n   display: none;\\n }\\ndiff --git a/toolkit/themes/winstripe/mozapps/extensions/extensions.css b/toolkit/themes/winstripe/mozapps/extensions/extensions.css\\nindex 293fb2d..77cdbca 100644\\n--- a/toolkit/themes/winstripe/mozapps/extensions/extensions.css\\n+++ b/toolkit/themes/winstripe/mozapps/extensions/extensions.css\\n@@ -1,13 +1,9 @@\\n-#extensionManager {\\n-  background-color: ThreeDFace;\\n-}\\n-\\n #extensionsBox {\\n   margin: 10px 10px 0px 10px;\\n   min-width:1px;\\n }\\n \\n-richlistbox {\\n+#extensionsView {\\n   border: 2px solid;\\n   -moz-border-top-colors: ThreeDShadow ThreeDDarkShadow;\\n   -moz-border-right-colors: ThreeDHighlight ThreeDLightShadow;\\n@@ -15,10 +11,6 @@ richlistbox {\\n   -moz-border-left-colors: ThreeDShadow ThreeDDarkShadow;\\n }\\n \\n-#getMore {\\n-  text-align: right;\\n-}\\n-\\n #resizerBox {\\n margin-top: -12px;\\n }\\n@@ -111,13 +103,13 @@ richlistitem[selected=\\\"true\\\"] {\\n   color: -moz-DialogText;\\n }\\n \\n-richlistbox:focus richlistitem[selected=\\\"true\\\"] {\\n+#extensionsView:focus > richlistitem[selected=\\\"true\\\"] {\\n   background-image: url(\\\"chrome://mozapps/skin/extensions/itemEnabledFader.png\\\");\\n   background-color: Highlight;\\n   color: HighlightText;\\n }\\n \\n-richlistbox:focus richlistitem[selected=\\\"true\\\"][isDisabled=\\\"true\\\"] {\\n+#extensionsView:focus > richlistitem[selected=\\\"true\\\"][isDisabled=\\\"true\\\"] {\\n   background-image: url(\\\"chrome://mozapps/skin/extensions/itemDisabledFader.png\\\");\\n }\\n \\n@@ -133,10 +125,6 @@ richlistitem[selected=\\\"true\\\"]:not([opType]) .descriptionCrop {\\n   font-weight: bold;\\n }\\n \\n-.addonIcon {\\n-  -moz-margin-end: 2px; \\n-}\\n-\\n .previewText {\\n   font-size: larger;\\n   font-weight: bold;\\n@@ -162,38 +150,29 @@ richlistitem[selected=\\\"true\\\"]:not([opType]) .descriptionCrop {\\n }\\n \\n .addonIcon {\\n+  -moz-margin-end: 2px;\\n   width: 32px;\\n   max-width: 32px;\\n   height: 32px;\\n   max-height: 32px;\\n }\\n \\n-richlistitem .updateBadge,\\n-richlistitem .notifyBadge {\\n+.updateBadge,\\n+.notifyBadge {\\n   width: 16px;\\n   height: 16px;\\n-  list-style-image: url(\\\"chrome://mozapps/skin/extensions/notifyBadges.png\\\");\\n-}\\n-\\n-richlistitem .updateBadge {\\n-  -moz-image-region: rect(0px 16px 16px 0px);\\n-}\\n-\\n-richlistitem .notifyBadge {\\n-  -moz-image-region: rect(0px 48px 16px 32px);\\n-}\\n-\\n-richlistitem .updateBadge,\\n-richlistitem .notifyBadge {\\n   margin-bottom: -3px;\\n+  list-style-image: url(\\\"chrome://mozapps/skin/extensions/notifyBadges.png\\\");\\n }\\n \\n-richlistitem .updateBadge {\\n+.updateBadge {\\n   -moz-margin-end: -2px;\\n+  -moz-image-region: rect(0px 16px 16px 0px);\\n }\\n \\n-richlistitem .notifyBadge {\\n+.notifyBadge {\\n   -moz-margin-start: -2px;\\n+  -moz-image-region: rect(0px 48px 16px 32px);\\n }\\n \\n .updateBadge,\\n@@ -211,68 +190,30 @@ richlistitem[satisfiesDependencies=\\\"false\\\"] .notifyBadge {\\n   display: -moz-box;\\n }\\n \\n-\\n-/* Selected Add-on buttons */\\n+/* Selected Add-on buttons\\n+   See content/extensions.css to hide / display buttons */\\n .selectedButtons {\\n   margin-top: 4px;\\n   min-height: 2.1em;\\n }\\n \\n-.selectedButtons button {\\n+.selectedButtons > button {\\n   margin-top: 0;\\n   margin-bottom: 0;\\n }\\n \\n-.optionsButton, .useThemeButton {\\n-  -moz-margin-end: 0;\\n-}\\n-\\n-.enableButton, .disableButton {\\n-  -moz-margin-start: 5px;\\n+.enableButton,\\n+.disableButton,\\n+.optionsButton,\\n+.useThemeButton {\\n   -moz-margin-end: 0;\\n }\\n \\n+.enableButton, .disableButton,\\n .uninstallButton, .cancelUninstallButton {\\n   -moz-margin-start: 5px;\\n }\\n \\n-.enableHide,\\n-.uninstallShow,\\n-.installShow,\\n-.upgradeShow,\\n-richlistitem[isDisabled=\\\"true\\\"] .disableHide {\\n-  display: none;\\n-}\\n-\\n-richlistitem[opType=\\\"needs-uninstall\\\"] .uninstallShow,\\n-richlistitem[opType=\\\"needs-install\\\"] .installShow,\\n-richlistitem[opType=\\\"needs-upgrade\\\"] .upgradeShow,\\n-richlistitem[opType=\\\"needs-enable\\\"] .enableShow,\\n-richlistitem[opType=\\\"needs-disable\\\"] .disableShow,\\n-richlistitem[isDisabled=\\\"true\\\"] .disableShow {\\n-  display: -moz-box;\\n-}\\n-\\n-richlistitem[opType=\\\"needs-uninstall\\\"] .uninstallHide,\\n-richlistitem[opType=\\\"needs-install\\\"] .uninstallHide,\\n-richlistitem[opType=\\\"needs-upgrade\\\"] .uninstallHide,\\n-richlistitem[opType=\\\"needs-enable\\\"] .enableHide,\\n-richlistitem[opType=\\\"needs-disable\\\"] .disableHide {\\n-  display: none;\\n-}\\n-\\n-richlistitem[plugin] .themeButton,\\n-richlistitem[plugin] .optionsButton,\\n-richlistitem[plugin] .uninstallButton,\\n-richlistitem[type=\\\"2\\\"] .themeButton,\\n-richlistitem[type=\\\"8\\\"] .themeButton,\\n-richlistitem[type=\\\"4\\\"] .optionsButton,\\n-richlistitem[type=\\\"8\\\"] .optionsButton,\\n-richlistitem[type=\\\"4\\\"] .disableShow,\\n-richlistitem[type=\\\"4\\\"] .disableHide {\\n-  display: none;\\n-}\\n-\\n /* Selected Add-on status messages and images */\\n richlistitem[compatible=\\\"true\\\"] .incompatibleBox,\\n richlistitem[providesUpdatesSecurely=\\\"true\\\"] .insecureUpdateBox,\\n@@ -302,7 +243,7 @@ richlistitem[loading=\\\"true\\\"] .updateBadge {\\n   list-style-image: url(\\\"chrome://global/skin/throbber/Throbber-small.gif\\\");\\n }\\n \\n-.selectedStatusMsgs hbox {\\n+.selectedStatusMsgs > hbox {\\n   margin-top: 2px;\\n   margin-bottom: 2px;\\n }\\n@@ -316,17 +257,6 @@ richlistitem[loading=\\\"true\\\"] .updateBadge {\\n   border: none;\\n }\\n \\n-.needsInstall, .needsUninstall, .needsEnable, .needsDisable {\\n-  display: none;\\n-}\\n-\\n-richlistitem[opType=\\\"needs-install\\\"] .needsInstall,\\n-richlistitem[opType=\\\"needs-uninstall\\\"] .needsUninstall,\\n-richlistitem[opType=\\\"needs-enable\\\"] .needsEnable,\\n-richlistitem[opType=\\\"needs-disable\\\"] .needsDisable {\\n-  display: -moz-box;\\n-}\\n-\\n richlistitem[opType=\\\"needs-uninstall\\\"] .notifyBadge {\\n   display: none;\\n }\\n@@ -363,7 +293,7 @@ richlistitem[opType=\\\"needs-uninstall\\\"] .notifyBadge {\\n \\n #viewGroup radio[selected=\\\"true\\\"] {\\n   background-color: #C1D2EE;\\n-  color: black; \\n+  color: black;\\n }\\n \\n .viewButtonIcon {\\n\""}