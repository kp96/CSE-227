{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basf52aefc\""},"diff":"\"f52aefc Bug 393970 - \\\"Grid columns don't line up if one <rows> block is scrollable\\\" (patch #1) [p=trev.moz@adblockplus.org (Wladimir Palant) r+sr+a1.9=roc]\\ndiff --git a/layout/xul/base/src/grid/nsGridRowLeafLayout.cpp b/layout/xul/base/src/grid/nsGridRowLeafLayout.cpp\\nindex 6dd7305..d4b54ba 100644\\n--- a/layout/xul/base/src/grid/nsGridRowLeafLayout.cpp\\n+++ b/layout/xul/base/src/grid/nsGridRowLeafLayout.cpp\\n@@ -258,6 +258,7 @@ nsGridRowLeafLayout::ComputeChildSizes(nsIBox* aBox,\\n   // see if we are in a scrollable frame. If we are then there could be scrollbars present\\n   // if so we need to subtract them out to make sure our columns line up.\\n   if (aBox) {\\n+     PRBool isHorizontal = aBox->IsHorizontal();\\n \\n      // go up the parent chain looking for scrollframes\\n      aBox = aBox->GetParentBox();\\n@@ -273,7 +274,7 @@ nsGridRowLeafLayout::ComputeChildSizes(nsIBox* aBox,\\n           ourRect.Deflate(padding);\\n \\n           nscoord diff;\\n-          if (aBox->IsHorizontal()) {\\n+          if (isHorizontal) {\\n             diff = scrollbarSizes.left + scrollbarSizes.right;\\n           } else {\\n             diff = scrollbarSizes.top + scrollbarSizes.bottom;\\n\""}