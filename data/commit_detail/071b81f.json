{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas071b81f\""},"diff":"\"071b81f Fix obsolete test and add a new test to fix orange.\\ndiff --git a/js/src/xpconnect/tests/mochitest/test_xow.html b/js/src/xpconnect/tests/mochitest/test_xow.html\\nindex 47605bf..4d3ecda 100644\\n--- a/js/src/xpconnect/tests/mochitest/test_xow.html\\n+++ b/js/src/xpconnect/tests/mochitest/test_xow.html\\n@@ -34,7 +34,8 @@\\n         ok(false, 'cyclic proto value allowed');\\n         window.__proto__ = origProto;\\n     } catch (e) {\\n-        is(e.toString(), 'Error: cyclic __proto__ value',\\n+        is(e.toString(),\\n+           'Error: invalid __proto__ value (can only be set to null)',\\n            'throw the right exception for a cyclic proto');\\n         is(window.__proto__, origProto, 'reset __proto__ after a cyclic proto');\\n     }\\n@@ -47,6 +48,14 @@\\n \\n     is(Object.prototype.toString.call(Object.__parent__),\\n        '[object XPCCrossOriginWrapper]', '__parent__ returns an XOW');\\n+\\n+    try {\\n+        window.__proto__ = null;\\n+        is(window.__proto__, null,\\n+           \\\"allowed to update window.__proto__ to null\\\");\\n+    } catch (e) {\\n+        ok(false, \\\"some crazy exception was thrown\\\");\\n+    }\\n     </script>\\n </body>\\n </html>\\n\""}