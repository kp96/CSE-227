{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas2506d55\""},"diff":"\"2506d55 Remove incorrect use of NS_METHOD.  b=394566  r+sr=peterv  a=bzbarsky\\ndiff --git a/xpcom/base/nsCycleCollector.cpp b/xpcom/base/nsCycleCollector.cpp\\nindex 3b7e250..3bfbcea 100644\\n--- a/xpcom/base/nsCycleCollector.cpp\\n+++ b/xpcom/base/nsCycleCollector.cpp\\n@@ -1135,14 +1135,14 @@ public:\\n private:\\n     // nsCycleCollectionTraversalCallback methods.\\n #ifdef DEBUG_CC\\n-    NS_METHOD_(void) DescribeNode(nsrefcnt refCount, size_t objSz, const char *objName);\\n+    NS_IMETHOD_(void) DescribeNode(nsrefcnt refCount, size_t objSz, const char *objName);\\n #else\\n-    NS_METHOD_(void) DescribeNode(nsrefcnt refCount);\\n+    NS_IMETHOD_(void) DescribeNode(nsrefcnt refCount);\\n #endif\\n-    NS_METHOD_(void) NoteXPCOMChild(nsISupports *child);\\n-    NS_METHOD_(void) NoteNativeChild(void *child,\\n+    NS_IMETHOD_(void) NoteXPCOMChild(nsISupports *child);\\n+    NS_IMETHOD_(void) NoteNativeChild(void *child,\\n                                      nsCycleCollectionParticipant *participant);\\n-    NS_METHOD_(void) NoteScriptChild(PRUint32 langID, void *child);\\n+    NS_IMETHOD_(void) NoteScriptChild(PRUint32 langID, void *child);\\n };\\n \\n GCGraphBuilder::GCGraphBuilder(GCGraph &aGraph,\\n@@ -1209,7 +1209,7 @@ GCGraphBuilder::Traverse(PtrInfo* aPtrInfo)\\n     mCurrPi->mLastChild = mEdgeBuilder.Mark();\\n }\\n \\n-void \\n+NS_IMETHODIMP_(void)\\n #ifdef DEBUG_CC\\n GCGraphBuilder::DescribeNode(nsrefcnt refCount, size_t objSz, const char *objName)\\n #else\\n@@ -1230,7 +1230,7 @@ GCGraphBuilder::DescribeNode(nsrefcnt refCount)\\n #endif\\n }\\n \\n-void \\n+NS_IMETHODIMP_(void)\\n GCGraphBuilder::NoteXPCOMChild(nsISupports *child) \\n {\\n     if (!child || !(child = canonicalize(child)))\\n@@ -1252,7 +1252,7 @@ GCGraphBuilder::NoteXPCOMChild(nsISupports *child)\\n     }\\n }\\n \\n-void\\n+NS_IMETHODIMP_(void)\\n GCGraphBuilder::NoteNativeChild(void *child,\\n                                 nsCycleCollectionParticipant *participant)\\n {\\n@@ -1268,7 +1268,7 @@ GCGraphBuilder::NoteNativeChild(void *child,\\n     ++childPi->mInternalRefs;\\n }\\n \\n-void\\n+NS_IMETHODIMP_(void)\\n GCGraphBuilder::NoteScriptChild(PRUint32 langID, void *child) \\n {\\n     if (!child)\\n@@ -1876,14 +1876,14 @@ public:\\n         return mSuppressThisNode;\\n     }\\n \\n-    NS_METHOD_(void) DescribeNode(nsrefcnt refCount, size_t objSz, const char *objName)\\n+    NS_IMETHOD_(void) DescribeNode(nsrefcnt refCount, size_t objSz, const char *objName)\\n     {\\n         mSuppressThisNode = (PL_strstr(sSuppressionList, objName) != nsnull);\\n     }\\n \\n-    NS_METHOD_(void) NoteXPCOMChild(nsISupports *child) {}\\n-    NS_METHOD_(void) NoteScriptChild(PRUint32 langID, void *child) {}\\n-    NS_METHOD_(void) NoteNativeChild(void *child,\\n+    NS_IMETHOD_(void) NoteXPCOMChild(nsISupports *child) {}\\n+    NS_IMETHOD_(void) NoteScriptChild(PRUint32 langID, void *child) {}\\n+    NS_IMETHOD_(void) NoteNativeChild(void *child,\\n                                      nsCycleCollectionParticipant *participant) {}\\n };\\n \\n\""}