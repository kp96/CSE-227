{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basbbfaf17\""},"diff":"\"bbfaf17 Bug 392649 https add-on install from filepicker crashes [@ net_GetURLSpecFromFile] r=biesi sr=biesi a=bz\\ndiff --git a/netwerk/base/src/nsStandardURL.cpp b/netwerk/base/src/nsStandardURL.cpp\\nindex 02a82a2..caf3903 100644\\n--- a/netwerk/base/src/nsStandardURL.cpp\\n+++ b/netwerk/base/src/nsStandardURL.cpp\\n@@ -2497,7 +2497,7 @@ nsStandardURL::SetFile(nsIFile *file)\\n {\\n     ENSURE_MUTABLE();\\n \\n-    NS_PRECONDITION(file, \\\"null pointer\\\");\\n+    NS_ENSURE_ARG_POINTER(file);\\n \\n     nsresult rv;\\n     nsCAutoString url;\\ndiff --git a/netwerk/protocol/file/src/nsFileProtocolHandler.cpp b/netwerk/protocol/file/src/nsFileProtocolHandler.cpp\\nindex 5acf265..0578c78 100644\\n--- a/netwerk/protocol/file/src/nsFileProtocolHandler.cpp\\n+++ b/netwerk/protocol/file/src/nsFileProtocolHandler.cpp\\n@@ -326,6 +326,7 @@ nsFileProtocolHandler::AllowPort(PRInt32 port, const char *scheme, PRBool *resul\\n NS_IMETHODIMP\\n nsFileProtocolHandler::NewFileURI(nsIFile *file, nsIURI **result)\\n {\\n+    NS_ENSURE_ARG_POINTER(file);\\n     nsresult rv;\\n \\n     nsCOMPtr<nsIFileURL> url = new nsStandardURL(PR_TRUE);\\n\""}