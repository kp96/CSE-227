{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas393512e\""},"diff":"\"393512e Bug 394253 - Opening DOM inspector enables accessibility globally, r=timeless, aaronlev, sr=neil\\ndiff --git a/extensions/inspector/resources/content/res/viewer-registry.rdf b/extensions/inspector/resources/content/res/viewer-registry.rdf\\nindex 8e00060..1603763 100644\\n--- a/extensions/inspector/resources/content/res/viewer-registry.rdf\\n+++ b/extensions/inspector/resources/content/res/viewer-registry.rdf\\n@@ -150,18 +150,8 @@\\n                        ins:panels=\\\"bxDocPanel\\\"\\n                        ins:description=\\\"Accessible Events\\\">\\n         <ins:filter><![CDATA[\\n-          if (!(object instanceof Components.interfaces.nsIDOMDocument))\\n-            return false;\\n-\\n-          try {\\n-            var accService =\\n-              Components.classes[\\\"@mozilla.org/accessibleRetrieval;1\\\"]\\n-                        .getService(Components.interfaces.nsIAccessibleRetrieval);\\n-\\n-            return accService.getAttachedAccessibleFor(object);\\n-          } catch(e) {\\n-            return false;\\n-          }\\n+          return object instanceof Components.interfaces.nsIDOMDocument &&\\n+            \\\"@mozilla.org/accessibleRetrieval;1\\\" in Components.classes;\\n         ]]></ins:filter>\\n       </rdf:Description>\\n     </rdf:li>\\n@@ -171,18 +161,8 @@\\n                        ins:panels=\\\"bxDocPanel\\\"\\n                        ins:description=\\\"Accessible Tree\\\">\\n         <ins:filter><![CDATA[\\n-          if (!(object instanceof Components.interfaces.nsIDOMDocument))\\n-            return false;\\n-\\n-          try {\\n-            var accService =\\n-              Components.classes[\\\"@mozilla.org/accessibleRetrieval;1\\\"]\\n-                        .getService(Components.interfaces.nsIAccessibleRetrieval);\\n-\\n-            return accService.getAttachedAccessibleFor(object);\\n-          } catch(e) {\\n-            return false;\\n-          }\\n+          return object instanceof Components.interfaces.nsIDOMDocument &&\\n+            \\\"@mozilla.org/accessibleRetrieval;1\\\" in Components.classes;\\n         ]]></ins:filter>\\n       </rdf:Description>\\n     </rdf:li>\\n\""}