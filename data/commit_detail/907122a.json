{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas907122a\""},"diff":"\"907122a Fixing a part of bug 262887 that the initial fix didn't fix. r=bugs4hj@netscape.net, sr=dveditz@cruzio.com, a=asa@mozilla.org\\ndiff --git a/browser/base/content/tabbrowser.xml b/browser/base/content/tabbrowser.xml\\nindex a1baca6..0d90377 100644\\n--- a/browser/base/content/tabbrowser.xml\\n+++ b/browser/base/content/tabbrowser.xml\\n@@ -1657,8 +1657,10 @@\\n           // We're about to open a modal dialog, make sure the opening\\n           // tab is brought to the front.\\n \\n+          var targetTop = new XPCNativeWrapper(event.target, \\\"top\\\").top;\\n+\\n           for (var i = 0; i < browsers.length; ++i) {\\n-            if (this.getBrowserAtIndex(i).contentWindow == event.target) {\\n+            if (this.getBrowserAtIndex(i).contentWindow == targetTop) {\\n               this.mModalDialogShowing = true;\\n               this.selectedTab = this.mTabContainer.childNodes[i];\\n \\n\""}