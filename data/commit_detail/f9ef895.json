{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basf9ef895\""},"diff":"\"f9ef895 Fix test.  Bug 372769.\\ndiff --git a/content/xbl/src/nsXBLBinding.cpp b/content/xbl/src/nsXBLBinding.cpp\\nindex e9f83e7..83e9ddd 100644\\n--- a/content/xbl/src/nsXBLBinding.cpp\\n+++ b/content/xbl/src/nsXBLBinding.cpp\\n@@ -165,18 +165,19 @@ XBLResolve(JSContext *cx, JSObject *obj, jsval id, uintN flags,\\n   \\n   if (~nodeClass->flags &\\n       (JSCLASS_HAS_PRIVATE | JSCLASS_PRIVATE_IS_NSISUPPORTS)) {\\n-    // Looks like whatever |origObj| is it's not our nsIContent.  It might well\\n-    // be the proto our binding installed, however, so just baul out quietly.\\n-    // Do NOT throw an exception here.\\n-    // We could make this stricter by checking the class maybe, but whatever\\n-    return JS_TRUE;\\n+    nsDOMClassInfo::ThrowJSException(cx, NS_ERROR_UNEXPECTED);\\n+    return JS_FALSE;\\n   }\\n \\n   nsCOMPtr<nsIXPConnectWrappedNative> xpcWrapper =\\n     do_QueryInterface(static_cast<nsISupports*>(::JS_GetPrivate(cx, origObj)));\\n   if (!xpcWrapper) {\\n-    nsDOMClassInfo::ThrowJSException(cx, NS_ERROR_UNEXPECTED);\\n-    return JS_FALSE;\\n+    // Looks like whatever |origObj| is it's not our nsIContent.  It might well\\n+    // be the proto our binding installed, however, where the private is the\\n+    // nsIXBLDocumentInfo, so just baul out quietly.  Do NOT throw an exception\\n+    // here.\\n+    // We could make this stricter by checking the class maybe, but whatever\\n+    return JS_TRUE;\\n   }\\n \\n   nsCOMPtr<nsIContent> content = do_QueryWrappedNative(xpcWrapper);\\n\""}