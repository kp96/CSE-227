{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basceee28f\""},"diff":"\"ceee28f more popup whitelisting changes\\ndiff --git a/browser/base/content/tabbrowser.xml b/browser/base/content/tabbrowser.xml\\nindex eddeba0..382e3a9 100644\\n--- a/browser/base/content/tabbrowser.xml\\n+++ b/browser/base/content/tabbrowser.xml\\n@@ -383,10 +383,18 @@\\n             if (this.mCurrentBrowser)\\n               this.mCurrentBrowser.setAttribute(\\\"type\\\", \\\"content\\\");\\n             \\n+            var updatePageReport = false;\\n+            if ((this.mCurrentBrowser.pageReport && !newBrowser.pageReport) ||\\n+                (!this.mCurrentBrowser.pageReport && newBrowser.pageReport))\\n+              updatePageReport = true;\\n+\\n             newBrowser.setAttribute(\\\"type\\\", \\\"content-primary\\\");\\n             this.mCurrentBrowser = newBrowser;\\n             this.mCurrentTab = this.selectedTab;\\n \\n+            if (updatePageReport)\\n+              this.mCurrentBrowser.updatePageReport();\\n+\\n             // Update the URL bar.\\n             var loc = this.mCurrentBrowser.currentURI;\\n             if (!loc)\\n\""}