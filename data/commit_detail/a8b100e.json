{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basa8b100e\""},"diff":"\"a8b100e Bug 392331: Theme change request lost during crash. r=robstrong\\ndiff --git a/toolkit/mozapps/extensions/content/extensions.js b/toolkit/mozapps/extensions/content/extensions.js\\nindex 744b9fe..6a3d7e0 100644\\n--- a/toolkit/mozapps/extensions/content/extensions.js\\n+++ b/toolkit/mozapps/extensions/content/extensions.js\\n@@ -1723,6 +1723,9 @@ var gExtensionsViewController = {\\n         // Update the view\\n         setRestartMessage(aSelectedItem);\\n       }\\n+      // Flush preferece change to disk\\n+      gPref.QueryInterface(Components.interfaces.nsIPrefService)\\n+           .savePrefFile(null);\\n       \\n       // disable the useThemeButton\\n       gExtensionsViewController.onCommandUpdate();\\n\""}