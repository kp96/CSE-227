{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas032033f\""},"diff":"\"032033f Back out bug 367829 to fix smoketest blocker.  a=pavlov\\ndiff --git a/widget/src/gtk2/Makefile.in b/widget/src/gtk2/Makefile.in\\nindex 09f89eb..a20b746 100644\\n--- a/widget/src/gtk2/Makefile.in\\n+++ b/widget/src/gtk2/Makefile.in\\n@@ -108,15 +108,10 @@ CPPSRCS\\t\\t= \\\\\\n \\t\\tnsPrintOptionsGTK.cpp \\\\\\n \\t\\tnsImageToPixbuf.cpp \\\\\\n \\t\\tnsAccessibilityHelper.cpp \\\\\\n-\\t\\tnsIdleServiceGTK.cpp \\\\\\n-\\t\\t$(NULL)\\n-\\n-ifdef MOZ_ENABLE_POSTSCRIPT\\n-CPPSRCS        += \\\\\\n \\t\\tnsPrintJobFactoryGTK.cpp \\\\\\n \\t\\tnsPrintJobGTK.cpp \\\\\\n-\\t  $(NULL)\\n-endif\\n+\\t\\tnsIdleServiceGTK.cpp \\\\\\n+\\t\\t$(NULL)\\n \\n # build our subdirs, too\\n ifdef ACCESSIBILITY\\ndiff --git a/widget/src/gtk2/nsDeviceContextSpecG.cpp b/widget/src/gtk2/nsDeviceContextSpecG.cpp\\nindex bb23fb7..6165515 100644\\n--- a/widget/src/gtk2/nsDeviceContextSpecG.cpp\\n+++ b/widget/src/gtk2/nsDeviceContextSpecG.cpp\\n@@ -412,10 +412,7 @@ NS_IMETHODIMP nsDeviceContextSpecGTK::GetSurfaceForPrinter(gfxASurface **aSurfac\\n \\n   DO_PR_DEBUG_LOG((\\\"\\\\\\\"%s\\\\\\\", %f, %f\\\\n\\\", path, width, height));\\n \\n-  nsresult rv = NS_ERROR_FAILURE;\\n-#ifdef MOZ_ENABLE_POSTSCRIPT\\n-  rv = nsPrintJobFactoryGTK::CreatePrintJob(this, mPrintJob);\\n-#endif\\n+  nsresult rv = nsPrintJobFactoryGTK::CreatePrintJob(this, mPrintJob);\\n   if (NS_FAILED(rv))\\n     return rv;\\n \\n\""}