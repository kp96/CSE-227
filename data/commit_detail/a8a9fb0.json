{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basa8a9fb0\""},"diff":"\"a8a9fb0 Bug 335586, r+sr=mconnor,neil\\ndiff --git a/browser/base/content/tabbrowser.xml b/browser/base/content/tabbrowser.xml\\nindex d7ed6c2..bfd2258 100644\\n--- a/browser/base/content/tabbrowser.xml\\n+++ b/browser/base/content/tabbrowser.xml\\n@@ -956,7 +956,7 @@\\n             this.mTabbedMode = true; // Welcome to multi-tabbed mode.\\n \\n             // Get the first tab all hooked up with a title listener and popup blocking listener.\\n-            this.mCurrentBrowser.addEventListener(\\\"DOMTitleChanged\\\", this.onTitleChanged, false);\\n+            this.mCurrentBrowser.addEventListener(\\\"DOMTitleChanged\\\", this.onTitleChanged, true);\\n \\n             var throbberElement = document.getElementById(\\\"navigator-throbber\\\");\\n             if (throbberElement && throbberElement.hasAttribute(\\\"busy\\\")) {\\n@@ -1128,7 +1128,7 @@\\n             b.setAttribute(\\\"flex\\\", \\\"1\\\");\\n             this.mPanelContainer.appendChild(notificationbox);\\n \\n-            b.addEventListener(\\\"DOMTitleChanged\\\", this.onTitleChanged, false);\\n+            b.addEventListener(\\\"DOMTitleChanged\\\", this.onTitleChanged, true);\\n \\n             if (this.mStrip.collapsed)\\n               this.setStripVisibilityTo(true);\\n@@ -1314,7 +1314,7 @@\\n             this.mTabListeners.splice(index, 1);\\n \\n             // Remove our title change and blocking listeners\\n-            oldBrowser.removeEventListener(\\\"DOMTitleChanged\\\", this.onTitleChanged, false);\\n+            oldBrowser.removeEventListener(\\\"DOMTitleChanged\\\", this.onTitleChanged, true);\\n \\n             // We are no longer the primary content area.\\n             oldBrowser.setAttribute(\\\"type\\\", \\\"content-targetable\\\");\\n@@ -2179,7 +2179,7 @@\\n             this.mTabFilters[i].removeProgressListener(this.mTabListeners[i]);\\n             this.mTabFilters[i] = null;\\n             this.mTabListeners[i] = null;\\n-            this.getBrowserAtIndex(i).removeEventListener(\\\"DOMTitleChanged\\\", this.onTitleChanged, false);\\n+            this.getBrowserAtIndex(i).removeEventListener(\\\"DOMTitleChanged\\\", this.onTitleChanged, true);\\n           }\\n           document.removeEventListener(\\\"keypress\\\", this._keyEventHandler, false);\\n         ]]>\\n@@ -2187,9 +2187,9 @@\\n     </implementation>\\n \\n     <handlers>\\n-      <handler event=\\\"DOMLinkAdded\\\" action=\\\"this.onLinkAdded(event);\\\"/>\\n+      <handler event=\\\"DOMLinkAdded\\\" phase=\\\"capturing\\\" action=\\\"this.onLinkAdded(event);\\\"/>\\n \\n-      <handler event=\\\"DOMWindowClose\\\">\\n+      <handler event=\\\"DOMWindowClose\\\" phase=\\\"capturing\\\">\\n         <![CDATA[\\n           if (!event.isTrusted)\\n             return;\\n@@ -2218,7 +2218,7 @@\\n           }\\n         ]]>\\n       </handler>\\n-      <handler event=\\\"DOMWillOpenModalDialog\\\">\\n+      <handler event=\\\"DOMWillOpenModalDialog\\\" phase=\\\"capturing\\\">\\n         <![CDATA[\\n           if (!event.isTrusted)\\n             return;\\n@@ -2238,7 +2238,7 @@\\n           }\\n         ]]>\\n       </handler>\\n-      <handler event=\\\"DOMModalDialogClosed\\\">\\n+      <handler event=\\\"DOMModalDialogClosed\\\" phase=\\\"capturing\\\">\\n         <![CDATA[\\n           if (!event.isTrusted)\\n             return;\\n\""}