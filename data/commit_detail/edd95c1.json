{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basedd95c1\""},"diff":"\"edd95c1 Fix and reenable tests from bug Bug 386005, now that they work on Linux and Windows. r=gavin\\ndiff --git a/toolkit/components/passwordmgr/test/test_basic_form_autocomplete.html b/toolkit/components/passwordmgr/test/test_basic_form_autocomplete.html\\nindex 5cc5435..21e0f70 100644\\n--- a/toolkit/components/passwordmgr/test/test_basic_form_autocomplete.html\\n+++ b/toolkit/components/passwordmgr/test/test_basic_form_autocomplete.html\\n@@ -287,9 +287,6 @@ function runTest(testNum) {\\n         doKey(\\\"return\\\");\\n         checkForm(\\\"zzzuser4\\\", \\\"zzzpass4\\\");\\n \\n-// XXX temp bandaid: bail out now to avoid linux test failure.\\n-SimpleTest.finish();\\n-return;\\n         // Trigger autocomplete popup\\n         restoreForm();\\n         doKey(\\\"down\\\");\\n@@ -318,12 +315,13 @@ return;\\n     case 50:\\n         // Delete the first entry (of 4), \\\"tempuser1\\\"\\n         doKey(\\\"down\\\");\\n-        // XXX Just \\\"delete\\\", and on Mac also shift-backspace?\\n         var numLogins;\\n         numLogins = pwmgr.countLogins(\\\"http://localhost:8888\\\", \\\"http://autocomplete:8888\\\", null);\\n         is(numLogins, 4, \\\"Correct number of logins before deleting one\\\");\\n \\n-        doKey(\\\"back_space\\\", shiftModifier);\\n+        // On OS X, shift-backspace and shift-delete work, just delete does not.\\n+        // On Win/Linux, shift-backspace does not work, delete and shift-delete do.\\n+        doKey(\\\"delete\\\", shiftModifier);\\n \\n         checkForm(\\\"zzzuser4\\\", \\\"\\\"); // why does a value get set here?\\n         numLogins = pwmgr.countLogins(\\\"http://localhost:8888\\\", \\\"http://autocomplete:8888\\\", null);\\n@@ -351,7 +349,7 @@ return;\\n         // Delete the second entry (of 3), \\\"testuser3\\\"\\n         doKey(\\\"down\\\");\\n         doKey(\\\"down\\\");\\n-        doKey(\\\"back_space\\\", shiftModifier);\\n+        doKey(\\\"delete\\\", shiftModifier);\\n         checkForm(\\\"testuser2\\\", \\\"\\\"); // XXX why does a value get set here?\\n         numLogins = pwmgr.countLogins(\\\"http://localhost:8888\\\", \\\"http://autocomplete:8888\\\", null);\\n         is(numLogins, 2, \\\"Correct number of logins after deleting one\\\");\\n@@ -378,7 +376,7 @@ return;\\n         // Delete the last entry (of 2), \\\"zzzuser4\\\"\\n         doKey(\\\"down\\\");\\n         doKey(\\\"down\\\");\\n-        doKey(\\\"back_space\\\", shiftModifier);\\n+        doKey(\\\"delete\\\", shiftModifier);\\n         checkForm(\\\"testuser2\\\", \\\"\\\"); // XXX why does a value get set here?\\n         numLogins = pwmgr.countLogins(\\\"http://localhost:8888\\\", \\\"http://autocomplete:8888\\\", null);\\n         is(numLogins, 1, \\\"Correct number of logins after deleting one\\\");\\n@@ -404,7 +402,7 @@ return;\\n     case 56:\\n         // Delete the only remaining entry, \\\"testuser2\\\"\\n         doKey(\\\"down\\\");\\n-        doKey(\\\"back_space\\\", shiftModifier);\\n+        doKey(\\\"delete\\\", shiftModifier);\\n         //doKey(\\\"return\\\");\\n         checkForm(\\\"\\\", \\\"\\\");\\n         numLogins = pwmgr.countLogins(\\\"http://localhost:8888\\\", \\\"http://autocomplete:8888\\\", null);\\n\""}