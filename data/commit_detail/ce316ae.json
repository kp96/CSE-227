{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basce316ae\""},"diff":"\"ce316ae Bug 83265 - Add a way to disable HTTP-EQUIV=refresh. patch from Mark Pilgrim <pilgrim@gmail.com>, r=biesi,mano,mento. sr=bz.\\ndiff --git a/browser/base/content/tabbrowser.xml b/browser/base/content/tabbrowser.xml\\nindex 3dfc05d..63e11da 100644\\n--- a/browser/base/content/tabbrowser.xml\\n+++ b/browser/base/content/tabbrowser.xml\\n@@ -29,6 +29,7 @@\\n    -   Seth Spitzer <sspitzer@mozilla.org>\\n    -   Simon BÃ¼nzli <zeniko@gmail.com>\\n    -   Michael Ventnor <ventnor.bugzilla@yahoo.com.au>\\n+   -   Mark Pilgrim <pilgrim@gmail.com>\\n    -\\n    - Alternatively, the contents of this file may be used under the terms of\\n    - either the GNU General Public License Version 2 or later (the \\\"GPL\\\"), or\\n@@ -286,6 +287,15 @@\\n               this.mTotalProgress = aMaxTotalProgress ? aCurTotalProgress / aMaxTotalProgress : 0;\\n             },\\n \\n+            onProgressChange64 : function (aWebProgress, aRequest,\\n+                                         aCurSelfProgress, aMaxSelfProgress,\\n+                                         aCurTotalProgress, aMaxTotalProgress)\\n+            {\\n+              return this.onProgressChange(aWebProgress, aRequest,\\n+                aCurSelfProgress, aMaxSelfProgress, aCurTotalProgress,\\n+                aMaxTotalProgress);\\n+            },\\n+\\n             onStateChange : function(aWebProgress, aRequest, aStateFlags, aStatus)\\n             {\\n               if (!aRequest)\\n@@ -431,9 +441,23 @@\\n               }\\n             },\\n \\n+             onRefreshAttempted : function(aWebProgress, aURI, aDelay, aSameURI)\\n+             {\\n+               var allowRefresh = true;\\n+               for (var i = 0; i < this.mTabBrowser.mProgressListeners.length; i++) {\\n+                 var p = this.mTabBrowser.mProgressListeners[i];\\n+                 if (p && \\\"onRefreshAttempted\\\" in p) {\\n+                   if (!p.onRefreshAttempted(aWebProgress, aURI, aDelay, aSameURI))\\n+                     allowRefresh = false;\\n+                 }\\n+               }\\n+               return allowRefresh;\\n+             },\\n+ \\n             QueryInterface : function(aIID)\\n             {\\n               if (aIID.equals(Components.interfaces.nsIWebProgressListener) ||\\n+                  aIID.equals(Components.interfaces.nsIWebProgressListener2) ||\\n                   aIID.equals(Components.interfaces.nsISupportsWeakReference) ||\\n                   aIID.equals(Components.interfaces.nsISupports))\\n                 return this;\\n\""}