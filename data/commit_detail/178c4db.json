{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas178c4db\""},"diff":"\"178c4db Reverting tab close behavior.\\ndiff --git a/browser/base/content/tabbrowser.xml b/browser/base/content/tabbrowser.xml\\nindex 06cd3d6..bfd0dbf 100644\\n--- a/browser/base/content/tabbrowser.xml\\n+++ b/browser/base/content/tabbrowser.xml\\n@@ -774,12 +774,15 @@\\n             // Now select the new tab before nuking the old one.\\n             var currentIndex = this.mPanelContainer.selectedIndex;\\n             \\n+            // Now select the new tab before nuking the old one.\\n+            var currentIndex = this.mPanelContainer.selectedIndex;\\n+            \\n             var newIndex = -1;\\n             if (currentIndex > index)\\n               newIndex = currentIndex-1;\\n             else if (currentIndex < index)\\n               newIndex = currentIndex;\\n-            else if (index > 0)\\n+            else if (index == l - 1)\\n               newIndex = index-1;\\n             else\\n               newIndex = index;\\n\""}