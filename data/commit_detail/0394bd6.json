{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas0394bd6\""},"diff":"\"0394bd6 Give scx a global object so that we can always calculate a \\\"this\\\" object. bug 394967, r+a=brendan\\ndiff --git a/js/src/js.c b/js/src/js.c\\nindex f69b0f1..dd35107 100644\\n--- a/js/src/js.c\\n+++ b/js/src/js.c\\n@@ -2398,6 +2398,7 @@ EvalInContext(JSContext *cx, JSObject *obj, uintN argc, jsval *argv,\\n         ok = JS_TRUE;\\n     } else {\\n         fp = JS_GetScriptedCaller(cx, NULL);\\n+        JS_SetGlobalObject(scx, sobj);\\n         ok = JS_EvaluateUCScript(scx, sobj, src, srclen,\\n                                  fp->script->filename,\\n                                  JS_PCToLineNumber(cx, fp->script, fp->pc),\\n\""}