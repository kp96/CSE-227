{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas73dee2a\""},"diff":"\"73dee2a Bug 368445. Make ApplyOverflowClipping compute the right padding-rect when native themes override the border. r+sr+a=dbaron\\ndiff --git a/layout/generic/nsFrame.cpp b/layout/generic/nsFrame.cpp\\nindex 758d880..7809957 100644\\n--- a/layout/generic/nsFrame.cpp\\n+++ b/layout/generic/nsFrame.cpp\\n@@ -1003,9 +1003,8 @@ static PRBool ApplyOverflowClipping(nsDisplayListBuilder* aBuilder,\\n     // have clipping.\\n   }\\n   \\n-  aRect->SetRect(aBuilder->ToReferenceFrame(aFrame), aFrame->GetSize());\\n-  const nsStyleBorder* borderStyle = aFrame->GetStyleContext()->GetStyleBorder();\\n-  aRect->Deflate(borderStyle->GetBorder());\\n+  *aRect = aFrame->GetPaddingRect() - aFrame->GetPosition() +\\n+    aBuilder->ToReferenceFrame(aFrame);\\n   return PR_TRUE;\\n }\\n \\n\""}