{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas9030ed5\""},"diff":"\"9030ed5 Bug 349196: All Tabs menu doesn't use right edge image with browser.tabs.closeButtons = 3. p=Dao Gottwald <dao@design-noir.de> r=robstrong\\ndiff --git a/browser/base/content/tabbrowser.xml b/browser/base/content/tabbrowser.xml\\nindex e88df93..249ba87 100644\\n--- a/browser/base/content/tabbrowser.xml\\n+++ b/browser/base/content/tabbrowser.xml\\n@@ -2599,7 +2599,8 @@\\n                          position=\\\"after_end\\\"/>\\n         </xul:toolbarbutton>\\n       </xul:stack>\\n-      <xul:hbox class=\\\"tabs-closebutton-box\\\" align=\\\"center\\\" pack=\\\"end\\\" anonid=\\\"tabstrip-closebutton\\\">\\n+      <xul:hbox anonid=\\\"tabstrip-closebutton\\\" class=\\\"tabs-closebutton-box\\\"\\n+                align=\\\"center\\\" pack=\\\"end\\\" chromedir=\\\"&locale.dir;\\\">\\n         <xul:toolbarbutton class=\\\"close-button tabs-closebutton\\\"/>\\n       </xul:hbox>\\n     </content>\\ndiff --git a/browser/themes/winstripe/browser/browser.css b/browser/themes/winstripe/browser/browser.css\\nindex 297743f..a2df396 100644\\n--- a/browser/themes/winstripe/browser/browser.css\\n+++ b/browser/themes/winstripe/browser/browser.css\\n@@ -1463,6 +1463,24 @@ tabpanels {\\n }\\n \\n /**\\n+ * Tabstrip close button\\n+ */\\n+\\n+.tabs-closebutton-box > .tabs-closebutton {\\n+  padding-top: 5px;\\n+  -moz-padding-end: 1px;\\n+  padding-bottom: 3px;\\n+  -moz-padding-start: 2px;\\n+  background-image: url(\\\"chrome://browser/skin/tabbrowser/close-bkgnd.png\\\");\\n+  background-color: -moz-dialog;\\n+}\\n+\\n+.tabs-closebutton-box[chromedir=\\\"rtl\\\"] > .tabs-closebutton {\\n+  background-image: url(\\\"chrome://browser/skin/tabbrowser/close-bkgnd-rtl.png\\\");\\n+  background-position: top right;\\n+}\\n+\\n+/**\\n  * Tab Scrollbox Arrow Buttons\\n  */\\n \\ndiff --git a/browser/themes/winstripe/browser/jar.mn b/browser/themes/winstripe/browser/jar.mn\\nindex 17fb7f1..1b9135d 100644\\n--- a/browser/themes/winstripe/browser/jar.mn\\n+++ b/browser/themes/winstripe/browser/jar.mn\\n@@ -71,6 +71,8 @@ classic.jar:\\n         skin/classic/browser/tabbrowser/alltabs-box-overflow-start-bkgnd.png         (tabbrowser/alltabs-box-overflow-start-bkgnd.png)\\n         skin/classic/browser/tabbrowser/alltabs-box-overflow-start-bkgnd-animate.png (tabbrowser/alltabs-box-overflow-start-bkgnd-animate.png)        \\n         skin/classic/browser/tabbrowser/alltabs-box-overflow-start-bkgnd-hover.png   (tabbrowser/alltabs-box-overflow-start-bkgnd-hover.png)\\n+        skin/classic/browser/tabbrowser/close-bkgnd.png                    (tabbrowser/close-bkgnd.png)\\n+        skin/classic/browser/tabbrowser/close-bkgnd-rtl.png                (tabbrowser/close-bkgnd-rtl.png)\\n         skin/classic/browser/tabbrowser/tab-arrow-end.png                  (tabbrowser/tab-arrow-end.png)\\n         skin/classic/browser/tabbrowser/tab-arrow-end-bkgnd-animate.png    (tabbrowser/tab-arrow-end-bkgnd-animate.png)\\n         skin/classic/browser/tabbrowser/tab-arrow-end-bkgnd-disabled.png   (tabbrowser/tab-arrow-end-bkgnd-disabled.png)\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tabbrowserBindings.xml b/browser/themes/winstripe/browser/tabbrowser/tabbrowserBindings.xml\\nindex 5a16b55..615c93c 100644\\n--- a/browser/themes/winstripe/browser/tabbrowser/tabbrowserBindings.xml\\n+++ b/browser/themes/winstripe/browser/tabbrowser/tabbrowserBindings.xml\\n@@ -62,7 +62,8 @@\\n                                anonid=\\\"alltabs-popup\\\" position=\\\"after_end\\\"/>\\n               </xul:toolbarbutton>\\n             </xul:stack>\\n-            <xul:hbox class=\\\"tabs-closebutton-box\\\" align=\\\"center\\\" pack=\\\"end\\\" anonid=\\\"tabstrip-closebutton\\\">\\n+            <xul:hbox anonid=\\\"tabstrip-closebutton\\\" class=\\\"tabs-closebutton-box\\\"\\n+                      align=\\\"center\\\" pack=\\\"end\\\" chromedir=\\\"&locale.dir;\\\">\\n               <xul:toolbarbutton class=\\\"close-button tabs-closebutton\\\"/>\\n             </xul:hbox>\\n           </xul:hbox>\\n\""}