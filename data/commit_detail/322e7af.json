{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas322e7af\""},"diff":"\"322e7af bug 395205 correctly check whether we are resuming and don't open a cache entry if so r=darin sr=dmose a=blocking1.9\\ndiff --git a/netwerk/protocol/http/src/nsHttpChannel.cpp b/netwerk/protocol/http/src/nsHttpChannel.cpp\\nindex 68ae7f9..8ca6e1e 100644\\n--- a/netwerk/protocol/http/src/nsHttpChannel.cpp\\n+++ b/netwerk/protocol/http/src/nsHttpChannel.cpp\\n@@ -1347,7 +1347,7 @@ nsHttpChannel::OpenCacheEntry(PRBool offline, PRBool *delayed)\\n         return NS_OK;\\n     }\\n \\n-    if (mRequestHead.PeekHeader(nsHttp::Range)) {\\n+    if (mRequestHead.PeekHeader(nsHttp::Range) || mResuming) {\\n         // we don't support caching for byte range requests initiated\\n         // by our clients or via nsIResumableChannel.\\n         // XXX perhaps we could munge their byte range into the cache\\n\""}