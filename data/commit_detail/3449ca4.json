{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas3449ca4\""},"diff":"\"3449ca4 Bug 395308 - Temporary filenames used during download should gain an extra extension.  r=biesi, sr=biesi, a=dsicore\\ndiff --git a/uriloader/exthandler/nsExternalHelperAppService.cpp b/uriloader/exthandler/nsExternalHelperAppService.cpp\\nindex 095f3a6..c23f931 100644\\n--- a/uriloader/exthandler/nsExternalHelperAppService.cpp\\n+++ b/uriloader/exthandler/nsExternalHelperAppService.cpp\\n@@ -1157,6 +1157,10 @@ nsresult nsExternalAppHandler::SetUpTempFile(nsIChannel * aChannel)\\n     AppendUTF8toUTF16(ext, saltedTempLeafName);\\n   }\\n \\n+  // Add an additional .part to prevent the OS from running this file in the\\n+  // default application.\\n+  saltedTempLeafName.Append(NS_LITERAL_STRING(\\\".part\\\"));\\n+\\n   mTempFile->Append(saltedTempLeafName); // make this file unique!!!\\n   mTempFile->CreateUnique(nsIFile::NORMAL_FILE_TYPE, 0600);\\n \\n\""}