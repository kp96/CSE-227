{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas2af3b8e\""},"diff":"\"2af3b8e fix for bug #343688.  Attempting to move tabs into right-hand overflow-scroll area while sidebar is open causes bizarreness.  need to take into account the position of the tab scroll drop indicator bar.  r=rstrong\\ndiff --git a/browser/base/content/tabbrowser.xml b/browser/base/content/tabbrowser.xml\\nindex 523b753..2f861c6 100644\\n--- a/browser/base/content/tabbrowser.xml\\n+++ b/browser/base/content/tabbrowser.xml\\n@@ -1639,7 +1639,8 @@\\n               if (window.getComputedStyle(this.parentNode, null)\\n                         .direction == \\\"ltr\\\") {\\n                 var newMarginLeft;\\n-                var minMarginLeft = tabStripBoxObject.x - halfIndWidth;\\n+                var minMarginLeft = tabStripBoxObject.x - halfIndWidth -\\n+                                    ib.boxObject.x;\\n                 // make sure we don't place the tab drop indicator past the\\n                 // edge, or the containing box will flex and stretch\\n                 // the tab drop indicator bar, which will flex the url bar.  \\n@@ -1677,7 +1678,8 @@\\n                 ind.style.marginLeft = newMarginLeft + 'px';\\n               } else {\\n                 var newMarginRight;\\n-                var minMarginRight = tabStripBoxObject.x - halfIndWidth;\\n+                var minMarginRight = tabStripBoxObject.x - halfIndWidth -\\n+                                     ib.boxObject.x;\\n                 // make sure we don't place the tab drop indicator past the\\n                 // edge, or the containing box will flex and stretch\\n                 // the tab drop indicator bar, which will flex the url bar.  \\n\""}