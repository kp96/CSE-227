{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas86b8dee\""},"diff":"\"86b8dee Fix some problems related to dynamic enabling/disabling of form autocomplete: make autocomplete ignore all key navigation if the input is disabled, also, instead of trying to keep autocomplete state in sync on every browser instance, just set the disabled state on the global form fill controller.  Bug 249610, r=blake.\\ndiff --git a/browser/base/content/tabbrowser.xml b/browser/base/content/tabbrowser.xml\\nindex d46ed82..8eae8f2 100644\\n--- a/browser/base/content/tabbrowser.xml\\n+++ b/browser/base/content/tabbrowser.xml\\n@@ -809,12 +809,6 @@\\n             b.setAttribute(\\\"tooltip\\\", this.getAttribute(\\\"contenttooltip\\\"));\\n             b.setAttribute(\\\"autocompletepopup\\\", this.getAttribute(\\\"autocompletepopup\\\"));\\n             \\n-            // To avoid unnecessary string compares on pageload in <browser>, only set the\\n-            // autocomplete attribute if autocomplete is actually enabled, so we can\\n-            // just test with |hasAttribute| in <browser>'s load handler. \\n-            if (this.getAttribute(\\\"autocompleteenabled\\\") == \\\"true\\\")\\n-              b.setAttribute(\\\"autocompleteenabled\\\", \\\"true\\\");\\n-            \\n             this.mPanelContainer.appendChild(b);\\n \\n             b.addEventListener(\\\"DOMTitleChanged\\\", this.onTitleChanged, false);\\n@@ -1268,9 +1262,6 @@\\n           var browsers = this.mPanelContainer.childNodes;\\n           for (var i = 0; i < browsers.length; ++i) {\\n             var cb = browsers[i];\\n-            // We can do stuff like this here because we aren't called on every\\n-            // page load, like <browser>'s |attachFormFill| method is. \\n-            cb.setAttribute(\\\"autocompleteenabled\\\", \\\"true\\\");\\n             cb.attachFormFill();\\n           }\\n         ]]></body>\\n@@ -1281,7 +1272,6 @@\\n           var browsers = this.mPanelContainer.childNodes;\\n           for (var i = 0; i < browsers.length; ++i) {\\n             var cb = browsers[i];\\n-            cb.removeAttribute(\\\"autocompleteenabled\\\");\\n             cb.detachFormFill();\\n           }\\n         ]]></body>\\n\""}