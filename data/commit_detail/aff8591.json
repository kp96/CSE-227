{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basaff8591\""},"diff":"\"aff8591 call GetDiffFileList as a normal function, and use cvs -q\\ndiff --git a/tools/release/Bootstrap/Step/Tag.pm b/tools/release/Bootstrap/Step/Tag.pm\\nindex f6676e4..a6e638d 100644\\n--- a/tools/release/Bootstrap/Step/Tag.pm\\n+++ b/tools/release/Bootstrap/Step/Tag.pm\\n@@ -8,7 +8,7 @@ use File::Copy qw(move);\\n use POSIX qw(strftime);\\n \\n use MozBuild::Util qw(MkdirWithPath RunShellCommand);\\n-use Bootstrap::Util qw(CvsCatfile GetDiffFileList);\\n+use Bootstrap::Util qw(CvsCatfile);\\n \\n use Bootstrap::Step;\\n use Bootstrap::Step::Tag::Bump;\\ndiff --git a/tools/release/Bootstrap/Step/Tag/Mozilla.pm b/tools/release/Bootstrap/Step/Tag/Mozilla.pm\\nindex ea43862..5eb5aae 100644\\n--- a/tools/release/Bootstrap/Step/Tag/Mozilla.pm\\n+++ b/tools/release/Bootstrap/Step/Tag/Mozilla.pm\\n@@ -7,6 +7,7 @@ use File::Copy qw(move);\\n use File::Spec::Functions;\\n \\n use MozBuild::Util qw(MkdirWithPath);\\n+use Bootstrap::Util qw(GetDiffFileList);\\n \\n use Bootstrap::Config;\\n use Bootstrap::Step::Tag;\\n@@ -47,11 +48,10 @@ sub Execute {\\n \\n     if ($rc > 1) {\\n         my $previousRcTag = $productTag . '_RC' . ($rc - 1);\\n-        my $diffFileList = $this->GetDiffFileList(cvsDir => \\n-                                                   catfile($cvsrootTagDir,\\n-                                                           'mozilla'),\\n-                                                  prevTag => $previousRcTag,\\n-                                                  newTag => $rcTag);\\n+        my $diffFileList = GetDiffFileList(cvsDir => catfile($cvsrootTagDir,\\n+                                                             'mozilla'),\\n+                                           prevTag => $previousRcTag,\\n+                                           newTag => $rcTag);\\n \\n         if (scalar(@{$diffFileList}) > 0) {\\n             $this->CvsTag(\\ndiff --git a/tools/release/Bootstrap/Step/Tag/l10n.pm b/tools/release/Bootstrap/Step/Tag/l10n.pm\\nindex 811e248..434cc5d 100644\\n--- a/tools/release/Bootstrap/Step/Tag/l10n.pm\\n+++ b/tools/release/Bootstrap/Step/Tag/l10n.pm\\n@@ -12,7 +12,7 @@ use MozBuild::Util qw(MkdirWithPath);\\n use Bootstrap::Step;\\n use Bootstrap::Config;\\n use Bootstrap::Step::Tag;\\n-use Bootstrap::Util qw(CvsCatfile);\\n+use Bootstrap::Util qw(CvsCatfile GetDiffFileList);\\n \\n use strict;\\n \\n@@ -119,10 +119,10 @@ sub Execute {\\n     # If we're retagging rc(N > 1), we need to tag -F\\n     if ($rc > 1) {\\n         my $previousRcTag = $productTag . '_RC' . ($rc - 1);\\n-        my $diffFileList = $this->GetDiffFileList(cvsDir => catfile($l10nTagDir,\\n-                                                                'l10n'),\\n-                                              prevTag => $previousRcTag,\\n-                                              newTag => $rcTag);\\n+        my $diffFileList = GetDiffFileList(cvsDir => catfile($l10nTagDir,\\n+                                                             'l10n'),\\n+                                           prevTag => $previousRcTag,\\n+                                           newTag => $rcTag);\\n \\n         if (scalar(@{$diffFileList}) > 0) {\\n             $releaseTagArgs{'force'} = 1;\\ndiff --git a/tools/release/Bootstrap/Util.pm b/tools/release/Bootstrap/Util.pm\\nindex 13db7a8..0a211f2 100644\\n--- a/tools/release/Bootstrap/Util.pm\\n+++ b/tools/release/Bootstrap/Util.pm\\n@@ -237,7 +237,7 @@ sub GetDiffFileList {\\n     my $newTag = $args{'newTag'};\\n \\n     my $rv = RunShellCommand(command => 'cvs',\\n-                             args => ['diff', '-uN',\\n+                             args => ['-q', 'diff', '-uN',\\n                                       '-r', $firstTag,\\n                                       '-r', $newTag],\\n                              dir => $cvsDir,\\n\""}