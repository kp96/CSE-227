{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basaf8233a\""},"diff":"\"af8233a bug 390845 - integrate Talos with new pageloader, perfconfigurator update, patch by bhearsum, r=alice\\ndiff --git a/testing/performance/talos/PerfConfigurator.py b/testing/performance/talos/PerfConfigurator.py\\nindex 0b3d7e6..12f6e0a 100644\\n--- a/testing/performance/talos/PerfConfigurator.py\\n+++ b/testing/performance/talos/PerfConfigurator.py\\n@@ -7,7 +7,7 @@ Created by Rob Campbell on 2007-03-02.\\n Modified by Rob Campbell on 2007-05-30\\n Modified by Rob Campbell on 2007-06-26 - added -i buildid option\\n Modified by Rob Campbell on 2007-07-06 - added -d testDate option\\n-Modified by Ben Hearsum on 2007-08-22 - bugfixes, cleanup, support for multiple platforms\\n+Modified by Ben Hearsum on 2007-08-22 - bugfixes, cleanup, support for multiple platforms. Only works on Talos2\\n \\\"\\\"\\\"\\n \\n import sys\\n@@ -98,19 +98,16 @@ class PerfConfigurator:\\n         for line in config:\\n             newline = line\\n             if 'firefox:' in line:\\n-                newline = '  firefox: ' + self.exePath\\n-            if 'testtitle' in line:\\n-                newline = line.replace('testtitle', self.title)\\n+                newline = 'firefox: ' + self.exePath\\n+            if 'title:' in line:\\n+                newline = 'title: ' + self.title\\n                 if self.testDateFromBuildId:\\n                     newline += '\\\\n'\\n                     newline += 'testdate: \\\"%s\\\"\\\\n' % self._getTimeFromBuildId()\\n-            if 'testfilename' in line:\\n-                newline = line.replace('testfilename', self.outputName)\\n-            if 'testbranchid' in line:\\n-                newline = line.replace('testbranchid', buildidString)\\n-            else:\\n-                if 'testbranch' in line:\\n-                    newline = line.replace('testbranch', self.branch)\\n+            if 'buildid:' in line:\\n+                newline = 'buildid: ' + buildidString\\n+            if 'testbranch' in line:\\n+                newline = 'branch: ' + self.branch\\n             destination.write(newline)\\n         destination.close()\\n         if self.verbose:\\n@@ -209,4 +206,3 @@ def main(argv=None):\\n if __name__ == \\\"__main__\\\":\\n     sys.exit(main())\\n \\n-\\n\""}