{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basae12948\""},"diff":"\"ae12948 392282 don't allow opening cache entries after the cache service has shut down r+sr+a=bz\\ndiff --git a/netwerk/cache/src/nsCacheService.cpp b/netwerk/cache/src/nsCacheService.cpp\\nindex ac5bcf2..3d2c5f7 100644\\n--- a/netwerk/cache/src/nsCacheService.cpp\\n+++ b/netwerk/cache/src/nsCacheService.cpp\\n@@ -1384,6 +1384,9 @@ nsCacheService::OpenCacheEntry(nsCacheSession *           session,\\n     if (result)\\n         *result = nsnull;\\n \\n+    if (!gService->mInitialized)\\n+        return NS_ERROR_NOT_INITIALIZED;\\n+\\n     nsCacheRequest * request = nsnull;\\n \\n     nsCacheServiceAutoLock lock;\\n\""}