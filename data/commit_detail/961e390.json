{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas961e390\""},"diff":"\"961e390 Fixing bug 393294. Stop leaking event data from popup blocked event objects. r=Olli.Pettay@gmail.com, sr=jonas@sicking.cc, a=jst@mozilla.org\\ndiff --git a/content/events/src/nsDOMPopupBlockedEvent.cpp b/content/events/src/nsDOMPopupBlockedEvent.cpp\\nindex 0b5eff0..78e9973 100644\\n--- a/content/events/src/nsDOMPopupBlockedEvent.cpp\\n+++ b/content/events/src/nsDOMPopupBlockedEvent.cpp\\n@@ -63,6 +63,9 @@ nsDOMPopupBlockedEvent::~nsDOMPopupBlockedEvent()\\n     if (mEvent->eventStructType == NS_POPUPBLOCKED_EVENT) {\\n       nsPopupBlockedEvent* event = static_cast<nsPopupBlockedEvent*>(mEvent);\\n       NS_IF_RELEASE(event->mPopupWindowURI);\\n+\\n+      delete event;\\n+      mEvent = nsnull;\\n     }\\n   }\\n }\\n\""}