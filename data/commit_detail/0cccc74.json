{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas0cccc74\""},"diff":"\"0cccc74 Bug 395082  Assertion when right clicking in the Bookmarks Manager, open in tabs disabled for folders in the left hand pane of the organizer (r=sspitzer)\\ndiff --git a/browser/components/places/content/controller.js b/browser/components/places/content/controller.js\\nindex cf34be8..09a283b 100755\\n--- a/browser/components/places/content/controller.js\\n+++ b/browser/components/places/content/controller.js\\n@@ -632,7 +632,8 @@ PlacesController.prototype = {\\n     // Set Open Folder/Links In Tabs items enabled state if they're visible\\n     if (anyVisible) {\\n       var openContainerInTabsItem = document.getElementById(\\\"placesContext_openContainer:tabs\\\");\\n-      if (!openContainerInTabsItem.hidden) {\\n+      if (!openContainerInTabsItem.hidden && this._view.selectedNode &&\\n+          PlacesUtils.nodeIsContainer(this._view.selectedNode)) {\\n         openContainerInTabsItem.disabled =\\n           PlacesUtils.getURLsForContainerNode(this._view.selectedNode)\\n                      .length == 0;\\ndiff --git a/browser/components/places/content/utils.js b/browser/components/places/content/utils.js\\nindex 4397752..e42d662 100644\\n--- a/browser/components/places/content/utils.js\\n+++ b/browser/components/places/content/utils.js\\n@@ -1548,11 +1548,11 @@ var PlacesUtils = {\\n     let urls = [];\\n     if (this.nodeIsFolder(aNode) && asQuery(aNode).queryOptions.excludeItems) {\\n       // grab manually\\n-      let contents = this.getFolderContents(node.itemId, false, false).root;\\n+      let contents = this.getFolderContents(aNode.itemId, false, false).root;\\n       for (let i = 0; i < contents.childCount; ++i) {\\n         let child = contents.getChild(i);\\n         if (this.nodeIsURI(child))\\n-          urls.push(node.uri);\\n+          urls.push(child.uri);\\n       }\\n     }\\n     else {\\n\""}