{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas4d5884f\""},"diff":"\"4d5884f move nsDeque to xpcom glue. Bug 395349, r+a=bsmedberg\\ndiff --git a/xpcom/ds/Makefile.in b/xpcom/ds/Makefile.in\\nindex 68d40ed..06524be 100644\\n--- a/xpcom/ds/Makefile.in\\n+++ b/xpcom/ds/Makefile.in\\n@@ -58,7 +58,6 @@ CPPSRCS\\t\\t= \\\\\\n \\t\\tnsByteBuffer.cpp \\\\\\n \\t\\tnsCheapSets.cpp \\\\\\n \\t\\tnsCRT.cpp \\\\\\n-\\t\\tnsDeque.cpp \\\\\\n \\t\\tnsFixedSizeAllocator.cpp \\\\\\n \\t\\tnsHashSets.cpp \\\\\\n \\t\\tnsHashtable.cpp \\\\\\n@@ -87,7 +86,6 @@ EXPORTS\\t\\t= \\\\\\n \\t\\tnsCheapSets.h \\\\\\n \\t\\tnsCppSharedAllocator.h \\\\\\n \\t\\tnsCRT.h \\\\\\n-\\t\\tnsDeque.h \\\\\\n \\t\\tnsDoubleHashtable.h \\\\\\n \\t\\tnsExpirationTracker.h \\\\\\n \\t\\tnsFixedSizeAllocator.h \\\\\\ndiff --git a/xpcom/glue/Makefile.in b/xpcom/glue/Makefile.in\\nindex 39d8465..91a07b0 100644\\n--- a/xpcom/glue/Makefile.in\\n+++ b/xpcom/glue/Makefile.in\\n@@ -112,6 +112,7 @@ SDK_HEADERS = \\\\\\n \\t\\tnsIClassInfoImpl.h \\\\\\n \\t\\tnsTObserverArray.h \\\\\\n \\t\\tnsCycleCollectionParticipant.h \\\\\\n+\\t\\tnsDeque.h \\\\\\n \\t\\t$(NULL)\\n \\n EXPORTS = \\\\\\ndiff --git a/xpcom/ds/nsDeque.cpp b/xpcom/glue/nsDeque.cpp\\nsimilarity index 100%\\nrename from xpcom/ds/nsDeque.cpp\\nrename to xpcom/glue/nsDeque.cpp\\ndiff --git a/xpcom/ds/nsDeque.h b/xpcom/glue/nsDeque.h\\nsimilarity index 100%\\nrename from xpcom/ds/nsDeque.h\\nrename to xpcom/glue/nsDeque.h\\ndiff --git a/xpcom/glue/objs.mk b/xpcom/glue/objs.mk\\nindex a4885f3..93555db 100644\\n--- a/xpcom/glue/objs.mk\\n+++ b/xpcom/glue/objs.mk\\n@@ -64,6 +64,7 @@ XPCOM_GLUE_SRC_LCPPSRCS =        \\\\\\n   nsThreadUtils.cpp              \\\\\\n   nsTObserverArray.cpp           \\\\\\n   nsCycleCollectionParticipant.cpp \\\\\\n+  nsDeque.cpp \\\\\\n   $(NULL)\\n \\n XPCOM_GLUE_SRC_CPPSRCS = $(addprefix $(topsrcdir)/xpcom/glue/, $(XPCOM_GLUE_SRC_LCPPSRCS))\\ndiff --git a/xpcom/tests/StringFactoringTests/Makefile.in b/xpcom/tests/StringFactoringTests/Makefile.in\\nindex 1ced5d3..be83172 100644\\n--- a/xpcom/tests/StringFactoringTests/Makefile.in\\n+++ b/xpcom/tests/StringFactoringTests/Makefile.in\\n@@ -52,7 +52,7 @@ CPPSRCS\\t\\t= \\\\\\n \\t\\t$(topsrcdir)/xpcom/ds/nsString.cpp \\\\\\n \\t\\t$(topsrcdir)/xpcom/ds/nsCRT.cpp \\\\\\n \\t\\t$(topsrcdir)/xpcom/base/nsAllocator.cpp \\\\\\n-\\t\\t$(topsrcdir)/xpcom/ds/nsDeque.cpp \\\\\\n+\\t\\t$(topsrcdir)/xpcom/glue/nsDeque.cpp \\\\\\n \\t\\tprofile_main.cpp \\\\\\n \\t\\t$(NULL)\\n #\\t\\ttest_main.cpp \\\\\\n\""}