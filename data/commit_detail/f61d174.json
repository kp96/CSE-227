{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basf61d174\""},"diff":"\"f61d174 Bug 346931 - code cleanup: remove <xul:hbox style=\\\"position: relative;\\\">. Patch by DÃ£o Gottwald <dao@design-noir.de>. r=mano.\\ndiff --git a/browser/base/content/tabbrowser.xml b/browser/base/content/tabbrowser.xml\\nindex ebf72ed..4117f1f 100644\\n--- a/browser/base/content/tabbrowser.xml\\n+++ b/browser/base/content/tabbrowser.xml\\n@@ -2520,38 +2520,17 @@\\n         <children/>\\n       </xul:scrollbox>\\n       <xul:stack align=\\\"center\\\" pack=\\\"end\\\" class=\\\"scrollbutton-down-stack\\\">\\n-        <!-- XXXsspitzer hack\\n-             this extra hbox with position: relative\\n-             is needed to work around two bugs.\\n-             see bugs #346307 and #346035 \\n-        -->\\n-        <xul:hbox style=\\\"position: relative;\\\" class=\\\"scrollbutton-rel-box\\\">\\n-          <xul:hbox flex=\\\"1\\\" class=\\\"scrollbutton-down-box\\\" \\n-                             collapsed=\\\"true\\\" anonid=\\\"down-box\\\"/>\\n-        </xul:hbox>\\n-        <!-- XXXsspitzer hack\\n-             this extra hbox with position: relative\\n-             is needed to work around two bugs.\\n-             see bugs #346307 and #346035 \\n-        -->\\n-        <xul:hbox style=\\\"position: relative;\\\" class=\\\"scrollbutton-rel-box\\\">\\n-          <xul:hbox flex=\\\"1\\\" class=\\\"scrollbutton-down-box-animate\\\" \\n-                             collapsed=\\\"true\\\" anonid=\\\"down-box-animate\\\"/>\\n-        </xul:hbox>\\n-        <!-- XXXsspitzer hack\\n-             this extra hbox with position: relative\\n-             is needed to work around two bugs.\\n-             see bugs #346307 and #346035 \\n-        -->\\n-        <xul:hbox style=\\\"position: relative;\\\" class=\\\"scrollbutton-rel-box\\\">\\n-          <xul:toolbarbutton class=\\\"scrollbutton-down\\\" collapsed=\\\"true\\\"\\n-                             xbl:inherits=\\\"orient\\\"\\n-                             anonid=\\\"scrollbutton-down\\\"\\n-                             onmousedown=\\\"_startScroll(1);\\\"\\n-                             onmouseup=\\\"_stopScroll();\\\"\\n-                             onmouseout=\\\"_stopScroll();\\\"\\n-                             chromedir=\\\"&locale.dir;\\\"/>\\n-        </xul:hbox>\\n+        <xul:hbox flex=\\\"1\\\" class=\\\"scrollbutton-down-box\\\" \\n+                           collapsed=\\\"true\\\" anonid=\\\"down-box\\\"/>\\n+        <xul:hbox flex=\\\"1\\\" class=\\\"scrollbutton-down-box-animate\\\" \\n+                           collapsed=\\\"true\\\" anonid=\\\"down-box-animate\\\"/>\\n+        <xul:toolbarbutton class=\\\"scrollbutton-down\\\" collapsed=\\\"true\\\"\\n+                           xbl:inherits=\\\"orient\\\"\\n+                           anonid=\\\"scrollbutton-down\\\"\\n+                           onmousedown=\\\"_startScroll(1);\\\"\\n+                           onmouseup=\\\"_stopScroll();\\\"\\n+                           onmouseout=\\\"_stopScroll();\\\"\\n+                           chromedir=\\\"&locale.dir;\\\"/>\\n       </xul:stack>\\n     </content>\\n     <implementation>\\n@@ -2618,37 +2597,16 @@\\n         <children includes=\\\"tab\\\"/>\\n       </xul:arrowscrollbox>\\n       <xul:stack align=\\\"center\\\" pack=\\\"end\\\" class=\\\"tabs-alltabs-stack\\\">\\n-        <!-- XXXsspitzer hack\\n-             this extra hbox with position: relative\\n-             is needed to work around two bugs.\\n-             see bugs #346307 and #346035 \\n-        -->\\n-        <xul:hbox style=\\\"position: relative;\\\">\\n-          <xul:hbox flex=\\\"1\\\" class=\\\"tabs-alltabs-box\\\" anonid=\\\"alltabs-box\\\"/>\\n-        </xul:hbox>\\n-        <!-- XXXsspitzer hack\\n-             this extra hbox with position: relative\\n-             is needed to work around two bugs.\\n-             see bugs #346307 and #346035 \\n-        -->\\n-        <xul:hbox style=\\\"position: relative;\\\">\\n-          <xul:hbox flex=\\\"1\\\" class=\\\"tabs-alltabs-box-animate\\\" \\n-                    anonid=\\\"alltabs-box-animate\\\"/>\\n-        </xul:hbox>\\n-        <!-- XXXsspitzer hack\\n-             this extra hbox with position: relative\\n-             is needed to work around two bugs.\\n-             see bugs #346307 and #346035 \\n-        -->\\n-        <xul:hbox style=\\\"position: relative;\\\">\\n-          <xul:toolbarbutton class=\\\"tabs-alltabs-button\\\" type=\\\"menu\\\"\\n-                             anonid=\\\"alltabs-button\\\"\\n-                             tooltipstring=\\\"&listAllTabs.label;\\\">\\n-            <xul:menupopup class=\\\"tabs-alltabs-popup\\\"\\n-                           anonid=\\\"alltabs-popup\\\" \\n-                           position=\\\"after_end\\\"/>\\n+        <xul:hbox flex=\\\"1\\\" class=\\\"tabs-alltabs-box\\\" anonid=\\\"alltabs-box\\\"/>\\n+        <xul:hbox flex=\\\"1\\\" class=\\\"tabs-alltabs-box-animate\\\" \\n+                  anonid=\\\"alltabs-box-animate\\\"/>\\n+        <xul:toolbarbutton class=\\\"tabs-alltabs-button\\\" type=\\\"menu\\\"\\n+                           anonid=\\\"alltabs-button\\\"\\n+                           tooltipstring=\\\"&listAllTabs.label;\\\">\\n+          <xul:menupopup class=\\\"tabs-alltabs-popup\\\"\\n+                         anonid=\\\"alltabs-popup\\\" \\n+                         position=\\\"after_end\\\"/>\\n         </xul:toolbarbutton>\\n-        </xul:hbox>\\n       </xul:stack>\\n       <xul:hbox class=\\\"tabs-closebutton-box\\\" align=\\\"center\\\" pack=\\\"end\\\" anonid=\\\"tabstrip-closebutton\\\">\\n         <xul:toolbarbutton class=\\\"close-button tabs-closebutton\\\"/>\\ndiff --git a/browser/themes/pinstripe/browser/tabbrowser/tabbrowserBindings.xml b/browser/themes/pinstripe/browser/tabbrowser/tabbrowserBindings.xml\\nindex 7a3cec3..1a60d3b 100644\\n--- a/browser/themes/pinstripe/browser/tabbrowser/tabbrowserBindings.xml\\n+++ b/browser/themes/pinstripe/browser/tabbrowser/tabbrowserBindings.xml\\n@@ -45,38 +45,17 @@\\n               <children/>\\n             </xul:arrowscrollbox>\\n             <xul:stack align=\\\"center\\\" pack=\\\"end\\\">\\n-              <!-- XXXsspitzer hack\\n-                   this extra hbox with position: relative\\n-                   is needed to work around two bugs.\\n-                   see bugs #346307 and #346035 \\n-              -->\\n-              <xul:hbox style=\\\"position: relative;\\\">\\n-                <xul:hbox flex=\\\"1\\\" class=\\\"tabs-alltabs-box\\\" \\n-                          anonid=\\\"alltabs-box\\\"/>\\n-              </xul:hbox>\\n-              <!-- XXXsspitzer hack\\n-                   this extra hbox with position: relative\\n-                   is needed to work around two bugs.\\n-                   see bugs #346307 and #346035 \\n-              -->\\n-              <xul:hbox style=\\\"position: relative;\\\">\\n-                <xul:hbox flex=\\\"1\\\" class=\\\"tabs-alltabs-box-animate\\\" \\n-                          anonid=\\\"alltabs-box-animate\\\"/>\\n-              </xul:hbox>\\n-              <!-- XXXsspitzer hack\\n-                   this extra hbox with position: relative\\n-                   is needed to work around two bugs.\\n-                   see bugs #346307 and #346035 \\n-              -->\\n-              <xul:hbox style=\\\"position: relative;\\\">\\n-                <xul:toolbarbutton class=\\\"tabs-alltabs-button\\\"\\n-                                   type=\\\"menu\\\"\\n-                                   anonid=\\\"alltabs-button\\\"\\n-                                   tooltipstring=\\\"&listAllTabs.label;\\\">\\n-                  <xul:menupopup class=\\\"tabs-alltabs-popup\\\"\\n-                                 anonid=\\\"alltabs-popup\\\" position=\\\"after_end\\\"/>\\n-                </xul:toolbarbutton>\\n-              </xul:hbox>\\n+              <xul:hbox flex=\\\"1\\\" class=\\\"tabs-alltabs-box\\\" \\n+                        anonid=\\\"alltabs-box\\\"/>\\n+              <xul:hbox flex=\\\"1\\\" class=\\\"tabs-alltabs-box-animate\\\" \\n+                        anonid=\\\"alltabs-box-animate\\\"/>\\n+              <xul:toolbarbutton class=\\\"tabs-alltabs-button\\\"\\n+                                 type=\\\"menu\\\"\\n+                                 anonid=\\\"alltabs-button\\\"\\n+                                 tooltipstring=\\\"&listAllTabs.label;\\\">\\n+                <xul:menupopup class=\\\"tabs-alltabs-popup\\\"\\n+                               anonid=\\\"alltabs-popup\\\" position=\\\"after_end\\\"/>\\n+              </xul:toolbarbutton>\\n             </xul:stack>\\n             <xul:hbox class=\\\"tabs-closebutton-box\\\" align=\\\"center\\\" pack=\\\"end\\\" anonid=\\\"tabstrip-closebutton\\\">\\n               <xul:toolbarbutton class=\\\"close-button tabs-closebutton\\\"/>\\ndiff --git a/browser/themes/winstripe/browser/tabbrowser/tabbrowserBindings.xml b/browser/themes/winstripe/browser/tabbrowser/tabbrowserBindings.xml\\nindex 1456c55..ca25509 100644\\n--- a/browser/themes/winstripe/browser/tabbrowser/tabbrowserBindings.xml\\n+++ b/browser/themes/winstripe/browser/tabbrowser/tabbrowserBindings.xml\\n@@ -93,38 +93,17 @@\\n               <children/>\\n             </xul:arrowscrollbox>\\n             <xul:stack align=\\\"center\\\" pack=\\\"end\\\" chromedir=\\\"&locale.dir;\\\">\\n-              <!-- XXXsspitzer hack\\n-                   this extra hbox with position: relative\\n-                   is needed to work around two bugs.\\n-                   see bugs #346307 and #346035 \\n-              -->\\n-              <xul:hbox style=\\\"position: relative;\\\">\\n-                <xul:hbox flex=\\\"1\\\"\\n-                          class=\\\"tabs-alltabs-box\\\"\\n-                          anonid=\\\"alltabs-box\\\"/>\\n-              </xul:hbox>\\n-              <!-- XXXsspitzer hack\\n-                   this extra hbox with position: relative\\n-                   is needed to work around two bugs.\\n-                   see bugs #346307 and #346035 \\n-              -->\\n-              <xul:hbox style=\\\"position: relative;\\\">\\n-                <xul:hbox flex=\\\"1\\\" class=\\\"tabs-alltabs-box-animate\\\"\\n-                          anonid=\\\"alltabs-box-animate\\\"/>\\n-              </xul:hbox>\\n-              <!-- XXXsspitzer hack\\n-                   this extra hbox with position: relative\\n-                   is needed to work around two bugs.\\n-                   see bugs #346307 and #346035\\n-              -->\\n-              <xul:hbox style=\\\"position: relative;\\\">\\n-                <xul:toolbarbutton class=\\\"tabs-alltabs-button\\\" type=\\\"menu\\\"\\n-                                   anonid=\\\"alltabs-button\\\" \\n-                                   tooltipstring=\\\"&listAllTabs.label;\\\">\\n-                  <xul:menupopup class=\\\"tabs-alltabs-popup\\\"\\n-                                 anonid=\\\"alltabs-popup\\\" position=\\\"after_end\\\"/>\\n-                </xul:toolbarbutton>\\n-              </xul:hbox>\\n+              <xul:hbox flex=\\\"1\\\"\\n+                        class=\\\"tabs-alltabs-box\\\"\\n+                        anonid=\\\"alltabs-box\\\"/>\\n+              <xul:hbox flex=\\\"1\\\" class=\\\"tabs-alltabs-box-animate\\\"\\n+                        anonid=\\\"alltabs-box-animate\\\"/>\\n+              <xul:toolbarbutton class=\\\"tabs-alltabs-button\\\" type=\\\"menu\\\"\\n+                                 anonid=\\\"alltabs-button\\\" \\n+                                 tooltipstring=\\\"&listAllTabs.label;\\\">\\n+                <xul:menupopup class=\\\"tabs-alltabs-popup\\\"\\n+                               anonid=\\\"alltabs-popup\\\" position=\\\"after_end\\\"/>\\n+              </xul:toolbarbutton>\\n             </xul:stack>\\n             <xul:hbox class=\\\"tabs-closebutton-box\\\" align=\\\"center\\\" pack=\\\"end\\\" anonid=\\\"tabstrip-closebutton\\\">\\n               <xul:toolbarbutton class=\\\"close-button tabs-closebutton\\\"/>\\n\""}