{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas8f1c560\""},"diff":"\"8f1c560 bug 287467 - flash game stops close tab from working, r+a=bsmedberg\\ndiff --git a/browser/base/content/tabbrowser.xml b/browser/base/content/tabbrowser.xml\\nindex 545f683..344ceea 100644\\n--- a/browser/base/content/tabbrowser.xml\\n+++ b/browser/base/content/tabbrowser.xml\\n@@ -591,7 +591,7 @@\\n               var focusedWindow = document.commandDispatcher.focusedWindow;\\n               var saveFocus = false;\\n \\n-              if (focusedWindow.top == window.content) {\\n+              if (focusedWindow && focusedWindow.top == window.content) {\\n                 saveFocus = true;\\n               } else {\\n                 var contentWindow = window;\\n\""}