{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basea04849\""},"diff":"\"ea04849 Bug 393986 - Unnecessarily creating arrays using map in page info (should use forEach) p=Florian Queze <f.qu@queze.net> r=mano\\ndiff --git a/browser/base/content/pageinfo/pageInfo.js b/browser/base/content/pageinfo/pageInfo.js\\nindex 6d2bf6f..0ea878a 100644\\n--- a/browser/base/content/pageinfo/pageInfo.js\\n+++ b/browser/base/content/pageinfo/pageInfo.js\\n@@ -338,7 +338,7 @@ function loadPageInfo()\\n   onLoadPermission();\\n \\n   /* Call registered overlay init functions */\\n-  onLoadRegistry.map(function(func) { func(); });\\n+  onLoadRegistry.forEach(function(func) { func(); });\\n }\\n \\n function resetPageInfo()\\n@@ -363,7 +363,7 @@ function resetPageInfo()\\n     feedListbox.removeChild(feedListbox.firstChild);\\n \\n   /* Call registered overlay reset functions */\\n-  onResetRegistry.map(function(func) { func(); });\\n+  onResetRegistry.forEach(function(func) { func(); });\\n \\n   /* And let's rebuild the data */\\n   loadPageInfo();\\n@@ -378,7 +378,7 @@ function onUnloadPageInfo()\\n   }\\n \\n   /* Call registered overlay unload functions */\\n-  onUnloadRegistry.map(function(func) { func(); });\\n+  onUnloadRegistry.forEach(function(func) { func(); });\\n }\\n \\n function doHelpButton()\\n@@ -524,13 +524,13 @@ function processFrames()\\n {\\n   if (gFrameList.length) {\\n     var doc = gFrameList[0];\\n-    onProcessFrame.map(function(func) { func(doc); });\\n+    onProcessFrame.forEach(function(func) { func(doc); });\\n     var iterator = doc.createTreeWalker(doc, NodeFilter.SHOW_ELEMENT, grabAll, true);\\n     gFrameList.shift();\\n     setTimeout(doGrab, 16, iterator);\\n   }\\n   else\\n-    onFinished.map(function(func) { func(); });\\n+    onFinished.forEach(function(func) { func(); });\\n }\\n \\n function doGrab(iterator)\\n@@ -629,7 +629,7 @@ function grabAll(elem)\\n   else if (elem instanceof HTMLEmbedElement)\\n     addImage(elem.src, gStrings.mediaEmbed, \\\"\\\", elem, false);\\n \\n-  onProcessElement.map(function(func) { func(elem); });\\n+  onProcessElement.forEach(function(func) { func(elem); });\\n \\n   return NodeFilter.FILTER_ACCEPT;\\n }\\n\""}