{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas750289c\""},"diff":"\"750289c Bug 397304, [@ nsListBoxBodyFrame::GetAvailableHeight], r+sr=bz, a=roc\\ndiff --git a/layout/xul/base/src/nsListBoxBodyFrame.cpp b/layout/xul/base/src/nsListBoxBodyFrame.cpp\\nindex 5632c9d..1ec60bc 100644\\n--- a/layout/xul/base/src/nsListBoxBodyFrame.cpp\\n+++ b/layout/xul/base/src/nsListBoxBodyFrame.cpp\\n@@ -730,8 +730,11 @@ nsListBoxBodyFrame::GetAvailableHeight()\\n {\\n   nsIScrollableFrame* scrollFrame\\n     = nsLayoutUtils::GetScrollableFrameFor(this);\\n-  nsIScrollableView* scrollView = scrollFrame->GetScrollableView();\\n-  return scrollView->View()->GetBounds().height;\\n+  if (scrollFrame) {\\n+    nsIScrollableView* scrollView = scrollFrame->GetScrollableView();\\n+    return scrollView->View()->GetBounds().height;\\n+  }\\n+  return 0;\\n }\\n \\n nscoord\\n@@ -1011,6 +1014,9 @@ nsListBoxBodyFrame::VerticalScroll(PRInt32 aPosition)\\n {\\n   nsIScrollableFrame* scrollFrame\\n     = nsLayoutUtils::GetScrollableFrameFor(this);\\n+  if (!scrollFrame) {\\n+    return;\\n+  }\\n \\n   nsPoint scrollPosition = scrollFrame->GetScrollPosition();\\n  \\n\""}