{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas3a81db8\""},"diff":"\"3a81db8 bug 393626. fixing a bug causing us to always append the system default font to the list of font entries... r=elif\\ndiff --git a/gfx/thebes/src/gfxWindowsFonts.cpp b/gfx/thebes/src/gfxWindowsFonts.cpp\\nindex 1f6c729..4fff9fc 100644\\n--- a/gfx/thebes/src/gfxWindowsFonts.cpp\\n+++ b/gfx/thebes/src/gfxWindowsFonts.cpp\\n@@ -492,7 +492,7 @@ gfxWindowsFontGroup::gfxWindowsFontGroup(const nsAString& aFamilies, const gfxFo\\n {\\n     ForEachFont(AddFontEntryToArray, &mFontEntries);\\n \\n-    if (mFonts.Length() == 0) {\\n+    if (mFontEntries.Length() == 0) {\\n         // Should append default GUI font if there are no available fonts.\\n         HGDIOBJ hGDI = ::GetStockObject(DEFAULT_GUI_FONT);\\n         LOGFONTW logFont;\\n\""}