{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas5af7d17\""},"diff":"\"5af7d17 b=391155. r=gavin. disable firefox content handler when launching a xul application\\ndiff --git a/browser/components/nsBrowserContentHandler.js b/browser/components/nsBrowserContentHandler.js\\nindex 3cc8bea..21f6ba8 100644\\n--- a/browser/components/nsBrowserContentHandler.js\\n+++ b/browser/components/nsBrowserContentHandler.js\\n@@ -822,6 +822,13 @@ var Module = {\\n   },\\n     \\n   registerSelf: function mod_regself(compMgr, fileSpec, location, type) {\\n+    // Don't register these if Firefox is launching a XULRunner application\\n+    const FIREFOX_UID = \\\"{ec8030f7-c20a-464f-9b0e-13a3a9e97384}\\\";\\n+    var appInfo = Components.classes[\\\"@mozilla.org/xre/app-info;1\\\"]\\n+                            .getService(Components.interfaces.nsIXULAppInfo);\\n+    if (appInfo.ID != FIREFOX_UID)\\n+      return;\\n+\\n     var compReg =\\n       compMgr.QueryInterface( Components.interfaces.nsIComponentRegistrar );\\n \\n\""}