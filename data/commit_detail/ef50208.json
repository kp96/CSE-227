{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basef50208\""},"diff":"\"ef50208 fix for bug #395446:  if the user chooses a result from autocomplete results, or types it manually, have that weigh heavily in ranking url bar autocomplete results r=dietrich, a=mconnor for m8\\ndiff --git a/toolkit/components/places/src/nsNavHistoryAutoComplete.cpp b/toolkit/components/places/src/nsNavHistoryAutoComplete.cpp\\nindex 388981d..186266b 100644\\n--- a/toolkit/components/places/src/nsNavHistoryAutoComplete.cpp\\n+++ b/toolkit/components/places/src/nsNavHistoryAutoComplete.cpp\\n@@ -120,7 +120,7 @@ nsNavHistory::CreateAutoCompleteQueries()\\n \\n   sql += NS_LITERAL_CSTRING(\\n     \\\"(h.title LIKE ?3 ESCAPE '/' OR h.url LIKE ?3 ESCAPE '/') \\\"\\n-    \\\"GROUP BY h.id ORDER BY h.visit_count DESC, MAX(v.visit_date) DESC;\\\");\\n+    \\\"GROUP BY h.id ORDER BY h.typed DESC, h.visit_count DESC, MAX(v.visit_date) DESC;\\\");\\n \\n   rv = mDBConn->CreateStatement(sql, getter_AddRefs(mDBAutoCompleteQuery));\\n   NS_ENSURE_SUCCESS(rv, rv);\\n\""}