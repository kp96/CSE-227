{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas9fe241e\""},"diff":"\"9fe241e Bug 392808 - 'Remove bogus assertion from nsXULStub (\\\"Parsed app directory?\\\") and stop leaking appData->directory'. r=bsmedberg. a=xulrunner-only\\ndiff --git a/xulrunner/stub/nsXULStub.cpp b/xulrunner/stub/nsXULStub.cpp\\nindex dee10e7..5db33b7 100644\\n--- a/xulrunner/stub/nsXULStub.cpp\\n+++ b/xulrunner/stub/nsXULStub.cpp\\n@@ -330,13 +330,7 @@ main(int argc, char **argv)\\n       return 1;\\n     }\\n \\n-    NS_ASSERTION(!appData->directory, \\\"Parsed app directory?\\\");\\n-\\n-    // chop \\\"application.ini\\\" off the path again\\n-    lastSlash = strrchr(iniPath, PATH_SEPARATOR_CHAR);\\n-    *lastSlash = '\\\\0';\\n-    NS_NewNativeLocalFile(nsDependentCString(iniPath), PR_FALSE,\\n-                          &appData->directory);\\n+    NS_ASSERTION(appData->directory, \\\"Failed to get app directory.\\\");\\n \\n     if (!appData->xreDirectory) {\\n       // chop \\\"libxul.so\\\" off the GRE path\\n\""}