{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basf21d8c2\""},"diff":"\"f21d8c2 Bug 392722 - nsinstall doesn't work if paths have double slashes, patch by Fabien Tassin <fta+bugzilla@sofaraway.org>, r=me\\ndiff --git a/config/nsinstall.c b/config/nsinstall.c\\nindex de9efdb..b46aeaa 100644\\n--- a/config/nsinstall.c\\n+++ b/config/nsinstall.c\\n@@ -111,8 +111,7 @@ mkdirs(char *path, mode_t mode)\\n \\n     while (*path == '/' && path[1] == '/')\\n \\tpath++;\\n-    while ((cp = strrchr(path, '/')) && cp[1] == '\\\\0')\\n-\\t*cp = '\\\\0';\\n+    for (cp = strrchr(path, '/'); cp && cp != path && *(cp - 1) == '/'; cp--);\\n     if (cp && cp != path) {\\n \\t*cp = '\\\\0';\\n \\tif ((lstat(path, &sb) < 0 || !S_ISDIR(sb.st_mode)) &&\\n\""}