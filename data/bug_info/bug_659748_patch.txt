From: Rafael Ávila de Espíndola <respindola@mozilla.com>
b=659748 r=kaie Avoid jumping over variable definition.


diff --git a/security/manager/ssl/src/nsNSSCertificateDB.cpp b/security/manager/ssl/src/nsNSSCertificateDB.cpp
index dada28d..ae9f8f2 100644
--- a/security/manager/ssl/src/nsNSSCertificateDB.cpp
+++ b/security/manager/ssl/src/nsNSSCertificateDB.cpp
@@ -532,17 +532,19 @@ nsNSSCertificateDB::ImportEmailCertificate(PRUint8 * data, PRUint32 length,
   CERTCertList *certList = NULL;
   CERTCertListNode *node;
   PRTime now;
   SECCertUsage certusage;
   SECCertificateUsage certificateusage;
   SECItem **rawArray;
   int numcerts;
   int i;
-  
+  CERTValOutParam cvout[1];
+  cvout[0].type = cert_po_end;
+
   nsCOMPtr<nsINSSComponent> inss = do_GetService(kNSSComponentCID, &nsrv);
   if (!inss)
     return nsrv;
   nsRefPtr<nsCERTValInParamWrapper> survivingParams;
   nsrv = inss->GetDefaultCERTValInParam(survivingParams);
   if (NS_FAILED(nsrv))
     return nsrv;
  
@@ -596,18 +598,16 @@ nsNSSCertificateDB::ImportEmailCertificate(PRUint8 * data, PRUint32 length,
     if (cert)
       CERT_AddCertToListTail(certList, cert);
   }
 
   /* go down the remaining list of certs and verify that they have
    * valid chains, then import them.
    */
   now = PR_Now();
-  CERTValOutParam cvout[1];
-  cvout[0].type = cert_po_end;
 
   for (node = CERT_LIST_HEAD(certList);
        !CERT_LIST_END(node,certList);
        node = CERT_LIST_NEXT(node)) {
 
     bool alert_and_skip = false;
 
     if (!node->cert) {
