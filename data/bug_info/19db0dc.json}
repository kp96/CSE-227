{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas19db0dc\""},"diff":[{"chunks":[{"content":"@@ -612,7 +612,10 @@ nsHostResolver::OnLookupComplete(nsHostRecord *rec, nsresult status, PRAddrInfo","changes":[{"type":"normal","normal":true,"ln1":612,"ln2":612,"content":"         // grab list of callbacks to notify"},{"type":"normal","normal":true,"ln1":613,"ln2":613,"content":"         MoveCList(rec->callbacks, cbs);"},{"type":"normal","normal":true,"ln1":614,"ln2":614,"content":" "},{"type":"del","del":true,"ln":615,"content":"-        // update record fields"},{"type":"add","add":true,"ln":615,"content":"+        // update record fields.  We might have a rec->addr_info already if a"},{"type":"add","add":true,"ln":616,"content":"+        // previous lookup result expired and we're reresolving it.."},{"type":"add","add":true,"ln":617,"content":"+\tif (rec->addr_info)"},{"type":"add","add":true,"ln":618,"content":"+\t  PR_FreeAddrInfo(rec->addr_info);"},{"type":"normal","normal":true,"ln1":616,"ln2":619,"content":"         rec->addr_info = result;"},{"type":"normal","normal":true,"ln1":617,"ln2":620,"content":"         rec->expiration = NowInMinutes() + mMaxCacheLifetime;"},{"type":"normal","normal":true,"ln1":618,"ln2":621,"content":"         rec->resolving = PR_FALSE;"}],"oldStart":612,"oldLines":7,"newStart":612,"newLines":10}],"deletions":1,"additions":4,"from":"netwerk/dns/src/nsHostResolver.cpp","to":"netwerk/dns/src/nsHostResolver.cpp","index":["0d797f3..6f800a8","100644"]}]}