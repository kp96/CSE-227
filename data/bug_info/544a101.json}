{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas544a101\""},"diff":[{"chunks":[{"content":"@@ -1269,6 +1269,9 @@ nsNavBookmarks::GetParentAndIndexOfFolder(PRInt64 aFolder, PRInt64* aParent,","changes":[{"type":"normal","normal":true,"ln1":1269,"ln2":1269,"content":" NS_IMETHODIMP"},{"type":"normal","normal":true,"ln1":1270,"ln2":1270,"content":" nsNavBookmarks::RemoveFolder(PRInt64 aFolder)"},{"type":"normal","normal":true,"ln1":1271,"ln2":1271,"content":" {"},{"type":"add","add":true,"ln":1272,"content":"+  mozIStorageConnection *dbConn = DBConn();"},{"type":"add","add":true,"ln":1273,"content":"+  mozStorageTransaction transaction(dbConn, PR_FALSE);"},{"type":"add","add":true,"ln":1274,"content":"+"},{"type":"normal","normal":true,"ln1":1272,"ln2":1275,"content":"   // First, remove item annotations"},{"type":"normal","normal":true,"ln1":1273,"ln2":1276,"content":"   nsAnnotationService* annosvc = nsAnnotationService::GetAnnotationService();"},{"type":"normal","normal":true,"ln1":1274,"ln2":1277,"content":"   NS_ENSURE_TRUE(annosvc, NS_ERROR_OUT_OF_MEMORY);"}],"oldStart":1269,"oldLines":6,"newStart":1269,"newLines":9},{"content":"@@ -1310,9 +1313,6 @@ nsNavBookmarks::RemoveFolder(PRInt64 aFolder)","changes":[{"type":"normal","normal":true,"ln1":1310,"ln2":1313,"content":"   // Remove all of the folder's children"},{"type":"normal","normal":true,"ln1":1311,"ln2":1314,"content":"   RemoveFolderChildren(aFolder);"},{"type":"normal","normal":true,"ln1":1312,"ln2":1315,"content":" "},{"type":"del","del":true,"ln":1313,"content":"-  mozIStorageConnection *dbConn = DBConn();"},{"type":"del","del":true,"ln":1314,"content":"-  mozStorageTransaction transaction(dbConn, PR_FALSE);"},{"type":"del","del":true,"ln":1315,"content":"-"},{"type":"normal","normal":true,"ln1":1316,"ln2":1316,"content":"   // Remove the folder from its parent"},{"type":"normal","normal":true,"ln1":1317,"ln2":1317,"content":"   nsCAutoString buffer;"},{"type":"normal","normal":true,"ln1":1318,"ln2":1318,"content":"   buffer.AssignLiteral(\"DELETE FROM moz_bookmarks WHERE id = \");"}],"oldStart":1310,"oldLines":9,"newStart":1313,"newLines":6}],"deletions":3,"additions":3,"from":"toolkit/components/places/src/nsNavBookmarks.cpp","to":"toolkit/components/places/src/nsNavBookmarks.cpp","index":["7d4312c..f804b93","100644"]}]}