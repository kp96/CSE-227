Index: mozilla/security/manager/ssl/src/nsCrypto.cpp
===================================================================
RCS file: /cvsroot/mozilla/security/manager/ssl/src/nsCrypto.cpp,v
retrieving revision 1.63
diff -pu -r1.63 mozilla/security/manager/ssl/src/nsCrypto.cpp
--- mozilla/security/manager/ssl/src/nsCrypto.cpp
+++ mozilla/security/manager/ssl/src/nsCrypto.cpp
@@ -287,7 +287,7 @@ cryptojs_GetScriptPrincipal(JSContext *c
   }
   nsJSPrincipals *nsJSPrin = NS_STATIC_CAST(nsJSPrincipals *, jsp);
   *result = nsJSPrin->nsIPrincipalPtr;
-  if (!result) {
+  if (!*result) {
     return NS_ERROR_FAILURE;
   }
   NS_ADDREF(*result);
