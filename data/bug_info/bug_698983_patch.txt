# HG changeset patch
# Parent 1ddb924965359be5efd4f874bdde43fb058823ea
# User Brian Smith <bsmith@mozilla.com>
diff --git a/security/manager/ssl/src/nsIdentityChecking.cpp b/security/manager/ssl/src/nsIdentityChecking.cpp
--- a/security/manager/ssl/src/nsIdentityChecking.cpp
+++ b/security/manager/ssl/src/nsIdentityChecking.cpp
@@ -1103,20 +1103,19 @@ nsSSLStatus::GetIsExtendedValidation(boo
   // implement nsIIdentityInfo in the chrome process.
   if (!idinfo) {
     NS_ERROR("nsSSLStatus has null mServerCert or was called in the content "
              "process");
     return NS_ERROR_UNEXPECTED;
   }
 
   // Never allow bad certs for EV, regardless of overrides.
-  if (!mHaveCertErrorBits)
+  if (mHaveCertErrorBits)
     return NS_OK;
 
-
   return idinfo->GetIsExtendedValidation(aIsEV);
 }
 
 nsresult
 nsNSSCertificate::hasValidEVOidTag(SECOidTag &resultOidTag, bool &validEV)
 {
   nsNSSShutDownPreventionLock locker;
   if (isAlreadyShutDown())
