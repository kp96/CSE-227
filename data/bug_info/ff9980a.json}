{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basff9980a\""},"diff":[{"chunks":[{"content":"@@ -818,6 +818,8 @@ nsJSObjWrapper::NP_Enumerate(NPObject *npobj, NPIdentifier **identifier,","changes":[{"type":"normal","normal":true,"ln1":818,"ln2":818,"content":" "},{"type":"normal","normal":true,"ln1":819,"ln2":819,"content":"   AutoCXPusher pusher(cx);"},{"type":"normal","normal":true,"ln1":820,"ln2":820,"content":" "},{"type":"add","add":true,"ln":821,"content":"+  JSAutoRequest ar(cx);"},{"type":"add","add":true,"ln":822,"content":"+"},{"type":"normal","normal":true,"ln1":821,"ln2":823,"content":"   JSIdArray *ida = ::JS_Enumerate(cx, npjsobj->mJSObj);"},{"type":"normal","normal":true,"ln1":822,"ln2":824,"content":"   if (!ida) {"},{"type":"normal","normal":true,"ln1":823,"ln2":825,"content":"     return PR_FALSE;"}],"oldStart":818,"oldLines":6,"newStart":818,"newLines":8},{"content":"@@ -1669,6 +1671,8 @@ nsJSNPRuntime::OnPluginDestroy(NPP npp)","changes":[{"type":"normal","normal":true,"ln1":1669,"ln2":1671,"content":"     return;"},{"type":"normal","normal":true,"ln1":1670,"ln2":1672,"content":"   }"},{"type":"normal","normal":true,"ln1":1671,"ln2":1673,"content":" "},{"type":"add","add":true,"ln":1674,"content":"+  JSAutoRequest ar(cx);"},{"type":"add","add":true,"ln":1675,"content":"+"},{"type":"normal","normal":true,"ln1":1672,"ln2":1676,"content":"   if (sNPObjWrappers.ops) {"},{"type":"normal","normal":true,"ln1":1673,"ln2":1677,"content":"     NppAndCx nppcx = { npp, cx };"},{"type":"normal","normal":true,"ln1":1674,"ln2":1678,"content":"     PL_DHashTableEnumerate(&sNPObjWrappers,"}],"oldStart":1669,"oldLines":6,"newStart":1671,"newLines":8}],"deletions":0,"additions":4,"from":"modules/plugin/base/src/nsJSNPRuntime.cpp","to":"modules/plugin/base/src/nsJSNPRuntime.cpp","index":["1bb3f5c..bbe511e","100644"]}]}