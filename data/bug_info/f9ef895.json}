{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basf9ef895\""},"diff":[{"chunks":[{"content":"@@ -165,18 +165,19 @@ XBLResolve(JSContext *cx, JSObject *obj, jsval id, uintN flags,","changes":[{"type":"normal","normal":true,"ln1":165,"ln2":165,"content":"   "},{"type":"normal","normal":true,"ln1":166,"ln2":166,"content":"   if (~nodeClass->flags &"},{"type":"normal","normal":true,"ln1":167,"ln2":167,"content":"       (JSCLASS_HAS_PRIVATE | JSCLASS_PRIVATE_IS_NSISUPPORTS)) {"},{"type":"del","del":true,"ln":168,"content":"-    // Looks like whatever |origObj| is it's not our nsIContent.  It might well"},{"type":"del","del":true,"ln":169,"content":"-    // be the proto our binding installed, however, so just baul out quietly."},{"type":"del","del":true,"ln":170,"content":"-    // Do NOT throw an exception here."},{"type":"del","del":true,"ln":171,"content":"-    // We could make this stricter by checking the class maybe, but whatever"},{"type":"del","del":true,"ln":172,"content":"-    return JS_TRUE;"},{"type":"add","add":true,"ln":168,"content":"+    nsDOMClassInfo::ThrowJSException(cx, NS_ERROR_UNEXPECTED);"},{"type":"add","add":true,"ln":169,"content":"+    return JS_FALSE;"},{"type":"normal","normal":true,"ln1":173,"ln2":170,"content":"   }"},{"type":"normal","normal":true,"ln1":174,"ln2":171,"content":" "},{"type":"normal","normal":true,"ln1":175,"ln2":172,"content":"   nsCOMPtr<nsIXPConnectWrappedNative> xpcWrapper ="},{"type":"normal","normal":true,"ln1":176,"ln2":173,"content":"     do_QueryInterface(static_cast<nsISupports*>(::JS_GetPrivate(cx, origObj)));"},{"type":"normal","normal":true,"ln1":177,"ln2":174,"content":"   if (!xpcWrapper) {"},{"type":"del","del":true,"ln":178,"content":"-    nsDOMClassInfo::ThrowJSException(cx, NS_ERROR_UNEXPECTED);"},{"type":"del","del":true,"ln":179,"content":"-    return JS_FALSE;"},{"type":"add","add":true,"ln":175,"content":"+    // Looks like whatever |origObj| is it's not our nsIContent.  It might well"},{"type":"add","add":true,"ln":176,"content":"+    // be the proto our binding installed, however, where the private is the"},{"type":"add","add":true,"ln":177,"content":"+    // nsIXBLDocumentInfo, so just baul out quietly.  Do NOT throw an exception"},{"type":"add","add":true,"ln":178,"content":"+    // here."},{"type":"add","add":true,"ln":179,"content":"+    // We could make this stricter by checking the class maybe, but whatever"},{"type":"add","add":true,"ln":180,"content":"+    return JS_TRUE;"},{"type":"normal","normal":true,"ln1":180,"ln2":181,"content":"   }"},{"type":"normal","normal":true,"ln1":181,"ln2":182,"content":" "},{"type":"normal","normal":true,"ln1":182,"ln2":183,"content":"   nsCOMPtr<nsIContent> content = do_QueryWrappedNative(xpcWrapper);"}],"oldStart":165,"oldLines":18,"newStart":165,"newLines":19}],"deletions":7,"additions":8,"from":"content/xbl/src/nsXBLBinding.cpp","to":"content/xbl/src/nsXBLBinding.cpp","index":["e9f83e7..83e9ddd","100644"]}]}