{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas72530b9\""},"diff":[{"chunks":[{"content":"@@ -812,36 +812,6 @@ nsFormFillController::Input(nsIDOMEvent* aEvent)","changes":[{"type":"normal","normal":true,"ln1":812,"ln2":812,"content":" NS_IMETHODIMP"},{"type":"normal","normal":true,"ln1":813,"ln2":813,"content":" nsFormFillController::MouseDown(nsIDOMEvent* aMouseEvent)"},{"type":"normal","normal":true,"ln1":814,"ln2":814,"content":" {"},{"type":"del","del":true,"ln":815,"content":"-  mIgnoreClick = PR_FALSE;"},{"type":"del","del":true,"ln":816,"content":"-"},{"type":"del","del":true,"ln":817,"content":"-  nsCOMPtr<nsIDOMEventTarget> target;"},{"type":"del","del":true,"ln":818,"content":"-  aMouseEvent->GetTarget(getter_AddRefs(target));"},{"type":"del","del":true,"ln":819,"content":"-"},{"type":"del","del":true,"ln":820,"content":"-  nsCOMPtr<nsIDOMHTMLInputElement> targetInput = do_QueryInterface(target);"},{"type":"del","del":true,"ln":821,"content":"-  if (!targetInput || (targetInput && targetInput != mFocusedInput)) {"},{"type":"del","del":true,"ln":822,"content":"-    // A new input will be taking focus.  Ignore the first click"},{"type":"del","del":true,"ln":823,"content":"-    // so that the popup is not shown."},{"type":"del","del":true,"ln":824,"content":"-    mIgnoreClick = PR_TRUE;"},{"type":"del","del":true,"ln":825,"content":"-    return NS_OK;"},{"type":"del","del":true,"ln":826,"content":"-  }"},{"type":"del","del":true,"ln":827,"content":"-"},{"type":"del","del":true,"ln":828,"content":"-  return NS_OK;"},{"type":"del","del":true,"ln":829,"content":"-}"},{"type":"del","del":true,"ln":830,"content":"-"},{"type":"del","del":true,"ln":831,"content":"-NS_IMETHODIMP"},{"type":"del","del":true,"ln":832,"content":"-nsFormFillController::MouseUp(nsIDOMEvent* aMouseEvent)"},{"type":"del","del":true,"ln":833,"content":"-{"},{"type":"del","del":true,"ln":834,"content":"-  return NS_OK;"},{"type":"del","del":true,"ln":835,"content":"-}"},{"type":"del","del":true,"ln":836,"content":"-"},{"type":"del","del":true,"ln":837,"content":"-NS_IMETHODIMP"},{"type":"del","del":true,"ln":838,"content":"-nsFormFillController::MouseClick(nsIDOMEvent* aMouseEvent)"},{"type":"del","del":true,"ln":839,"content":"-{"},{"type":"del","del":true,"ln":840,"content":"-  if (mIgnoreClick) {"},{"type":"del","del":true,"ln":841,"content":"-    mIgnoreClick = PR_FALSE;"},{"type":"del","del":true,"ln":842,"content":"-    return NS_OK;"},{"type":"del","del":true,"ln":843,"content":"-  }"},{"type":"del","del":true,"ln":844,"content":"-"},{"type":"normal","normal":true,"ln1":845,"ln2":815,"content":"   if (!mFocusedInput)"},{"type":"normal","normal":true,"ln1":846,"ln2":816,"content":"     return NS_OK;"},{"type":"normal","normal":true,"ln1":847,"ln2":817,"content":" "}],"oldStart":812,"oldLines":36,"newStart":812,"newLines":6},{"content":"@@ -881,6 +851,18 @@ nsFormFillController::MouseClick(nsIDOMEvent* aMouseEvent)","changes":[{"type":"normal","normal":true,"ln1":881,"ln2":851,"content":" }"},{"type":"normal","normal":true,"ln1":882,"ln2":852,"content":" "},{"type":"normal","normal":true,"ln1":883,"ln2":853,"content":" NS_IMETHODIMP"},{"type":"add","add":true,"ln":854,"content":"+nsFormFillController::MouseUp(nsIDOMEvent* aMouseEvent)"},{"type":"add","add":true,"ln":855,"content":"+{"},{"type":"add","add":true,"ln":856,"content":"+  return NS_OK;"},{"type":"add","add":true,"ln":857,"content":"+}"},{"type":"add","add":true,"ln":858,"content":"+"},{"type":"add","add":true,"ln":859,"content":"+NS_IMETHODIMP"},{"type":"add","add":true,"ln":860,"content":"+nsFormFillController::MouseClick(nsIDOMEvent* aMouseEvent)"},{"type":"add","add":true,"ln":861,"content":"+{"},{"type":"add","add":true,"ln":862,"content":"+  return NS_OK;"},{"type":"add","add":true,"ln":863,"content":"+}"},{"type":"add","add":true,"ln":864,"content":"+"},{"type":"add","add":true,"ln":865,"content":"+NS_IMETHODIMP"},{"type":"normal","normal":true,"ln1":884,"ln2":866,"content":" nsFormFillController::MouseDblClick(nsIDOMEvent* aMouseEvent)"},{"type":"normal","normal":true,"ln1":885,"ln2":867,"content":" { "},{"type":"normal","normal":true,"ln1":886,"ln2":868,"content":"     return NS_OK;"}],"oldStart":881,"oldLines":6,"newStart":851,"newLines":18}],"deletions":30,"additions":12,"from":"toolkit/components/satchel/src/nsFormFillController.cpp","to":"toolkit/components/satchel/src/nsFormFillController.cpp","index":["b362701..348c8db","100644"]},{"chunks":[{"content":"@@ -163,7 +163,6 @@ protected:","changes":[{"type":"normal","normal":true,"ln1":163,"ln2":163,"content":"   PRPackedBool mCompleteSelectedIndex;"},{"type":"normal","normal":true,"ln1":164,"ln2":164,"content":"   PRPackedBool mForceComplete;"},{"type":"normal","normal":true,"ln1":165,"ln2":165,"content":"   PRPackedBool mSuppressOnInput;"},{"type":"del","del":true,"ln":166,"content":"-  PRPackedBool mIgnoreClick;"},{"type":"normal","normal":true,"ln1":167,"ln2":166,"content":" };"},{"type":"normal","normal":true,"ln1":168,"ln2":167,"content":" "},{"type":"normal","normal":true,"ln1":169,"ln2":168,"content":" #endif // __nsFormFillController__"}],"oldStart":163,"oldLines":7,"newStart":163,"newLines":6}],"deletions":1,"additions":0,"from":"toolkit/components/satchel/src/nsFormFillController.h","to":"toolkit/components/satchel/src/nsFormFillController.h","index":["bbe0ccb..d8a8cd7","100644"]}]}