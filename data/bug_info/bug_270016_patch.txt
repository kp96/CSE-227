# HG changeset patch
# Parent e86b84998b186642cb162adb265af423f7f4555a
# User Cykesiopka <cykesiopka.bmo@gmail.com>
Bug 270016 - Make the list of certs shown in the Delete/Distrust cert dialog scrollable. r=keeler

diff --git a/security/manager/pki/resources/content/deletecert.js b/security/manager/pki/resources/content/deletecert.js
--- a/security/manager/pki/resources/content/deletecert.js
+++ b/security/manager/pki/resources/content/deletecert.js
@@ -55,26 +55,27 @@ function setWindowName()
   }
   else
   {
      return;
   }
   var confirReference = document.getElementById('confirm');
   var impactReference = document.getElementById('impact');
   document.title = title;
-  
+
   setText("confirm",confirm);
 
   var box=document.getElementById("certlist");
-  var text;
   for(var x=0;x<numberOfCerts;x++)
   {
-    text = document.createElement("text");
-    text.setAttribute("value", gParams.GetString(x+1));
-    box.appendChild(text);
+    var listItem = document.createElement("richlistitem");
+    var label = document.createElement("label");
+    label.setAttribute("value", gParams.GetString(x + 1));
+    listItem.appendChild(label);
+    box.appendChild(listItem);
   }
 
   setText("impact",impact);
 }
 
 function doOK()
 {
   gParams.SetInt(1, 1); // means OK
diff --git a/security/manager/pki/resources/content/deletecert.xul b/security/manager/pki/resources/content/deletecert.xul
--- a/security/manager/pki/resources/content/deletecert.xul
+++ b/security/manager/pki/resources/content/deletecert.xul
@@ -16,14 +16,13 @@
   ondialogcancel="return doCancel();">
 
   <stringbundle id="pippki_bundle" src="chrome://pippki/locale/pippki.properties"/>
 
   <script type="application/javascript" src="chrome://pippki/content/deletecert.js"/>
   <script type="application/javascript" src="pippki.js" />
 
   <description id="confirm" style="width: 400px;"/>
-  <separator />
-  <vbox id="certlist" class="box-padded"/>
-  <separator />
+  <richlistbox id="certlist" class="box-padded" flex="1"
+               style="min-height: 8em; height: 8em; min-width: 35em;"/>
   <description id="impact" style="width: 400px;"/>
 
 </dialog>
