# HG changeset patch
# Parent e43c7e2df691e5aafd7f971c79a2b662e49db3dc

diff --git a/security/manager/ssl/src/nsNSSIOLayer.cpp b/security/manager/ssl/src/nsNSSIOLayer.cpp
--- a/security/manager/ssl/src/nsNSSIOLayer.cpp
+++ b/security/manager/ssl/src/nsNSSIOLayer.cpp
@@ -698,17 +698,17 @@ nsNSSSocketInfo::Read(nsIObjectInputStre
     if (!tempID.Equals(NS_GET_IID(nsISupports)))
       return NS_ERROR_FAILURE;
 
     nsCOMPtr<nsISerializable> serializable =
         do_CreateInstance(kNSSCertificateCID, &rv);
     NS_ENSURE_SUCCESS(rv, rv);
 
     serializable->Read(stream);
-    mCert = reinterpret_cast<nsNSSCertificate*>(serializable.get());
+    mCert = do_QueryInterface(serializable);
 
     // We are done with reading the certificate, now read the version
     // as we did before.
     stream->Read32(&version);
   }
   else {
     // There seems not to be the certificate present in the stream.
     version = UUID_0;
