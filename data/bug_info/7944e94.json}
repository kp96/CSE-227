{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas7944e94\""},"diff":[{"chunks":[{"content":"@@ -2320,120 +2320,6 @@ pref(\"font.default.zh-HK\", \"sans-serif\");","changes":[{"type":"normal","normal":true,"ln1":2320,"ln2":2320,"content":" pref(\"font.size.variable.zh-HK\", 16);"},{"type":"normal","normal":true,"ln1":2321,"ln2":2321,"content":" pref(\"font.size.fixed.zh-HK\", 16);"},{"type":"normal","normal":true,"ln1":2322,"ln2":2322,"content":" "},{"type":"del","del":true,"ln":2323,"content":"-// below a certian pixel size outline scaled fonts produce poor results"},{"type":"del","del":true,"ln":2324,"content":"-pref(\"font.scale.outline.min\",      6);"},{"type":"del","del":true,"ln":2325,"content":"-"},{"type":"del","del":true,"ln":2326,"content":"-// TrueType"},{"type":"del","del":true,"ln":2327,"content":"-pref(\"font.FreeType2.enable\", false);"},{"type":"del","del":true,"ln":2328,"content":"-pref(\"font.freetype2.shared-library\", \"libfreetype.so.6\");"},{"type":"del","del":true,"ln":2329,"content":"-// if libfreetype was built without hinting compiled in"},{"type":"del","del":true,"ln":2330,"content":"-// it is best to leave hinting off"},{"type":"del","del":true,"ln":2331,"content":"-pref(\"font.FreeType2.autohinted\", false);"},{"type":"del","del":true,"ln":2332,"content":"-pref(\"font.FreeType2.unhinted\", true);"},{"type":"del","del":true,"ln":2333,"content":"-// below a certian pixel size anti-aliased fonts produce poor results"},{"type":"del","del":true,"ln":2334,"content":"-pref(\"font.antialias.min\",        10);"},{"type":"del","del":true,"ln":2335,"content":"-pref(\"font.embedded_bitmaps.max\", 1000000);"},{"type":"del","del":true,"ln":2336,"content":"-pref(\"font.scale.tt_bitmap.dark_text.min\", 64);"},{"type":"del","del":true,"ln":2337,"content":"-pref(\"font.scale.tt_bitmap.dark_text.gain\", \"0.8\");"},{"type":"del","del":true,"ln":2338,"content":"-// sample prefs for TrueType font dirs"},{"type":"del","del":true,"ln":2339,"content":"-//pref(\"font.directory.truetype.1\", \"/u/sam/tt_font1\");"},{"type":"del","del":true,"ln":2340,"content":"-//pref(\"font.directory.truetype.2\", \"/u/sam/tt_font2\");"},{"type":"del","del":true,"ln":2341,"content":"-//pref(\"font.directory.truetype.3\", \"/u/sam/tt_font3\");"},{"type":"del","del":true,"ln":2342,"content":"-pref(\"font.FreeType2.printing\", true);"},{"type":"del","del":true,"ln":2343,"content":"-"},{"type":"del","del":true,"ln":2344,"content":"-// below a certain pixel size anti-aliased bitmap scaled fonts "},{"type":"del","del":true,"ln":2345,"content":"-// produce poor results"},{"type":"del","del":true,"ln":2346,"content":"-pref(\"font.scale.aa_bitmap.enable\", true);"},{"type":"del","del":true,"ln":2347,"content":"-pref(\"font.scale.aa_bitmap.always\", false);"},{"type":"del","del":true,"ln":2348,"content":"-pref(\"font.scale.aa_bitmap.min\", 6);"},{"type":"del","del":true,"ln":2349,"content":"-pref(\"font.scale.aa_bitmap.undersize\", 80);"},{"type":"del","del":true,"ln":2350,"content":"-pref(\"font.scale.aa_bitmap.oversize\", 120);"},{"type":"del","del":true,"ln":2351,"content":"-pref(\"font.scale.aa_bitmap.dark_text.min\", 64);"},{"type":"del","del":true,"ln":2352,"content":"-pref(\"font.scale.aa_bitmap.dark_text.gain\", \"0.5\");"},{"type":"del","del":true,"ln":2353,"content":"-pref(\"font.scale.aa_bitmap.light_text.min\", 64);"},{"type":"del","del":true,"ln":2354,"content":"-pref(\"font.scale.aa_bitmap.light_text.gain\", \"1.3\");"},{"type":"del","del":true,"ln":2355,"content":"-"},{"type":"del","del":true,"ln":2356,"content":"-pref(\"font.scale.bitmap.min\",       12);"},{"type":"del","del":true,"ln":2357,"content":"-pref(\"font.scale.bitmap.undersize\", 80);"},{"type":"del","del":true,"ln":2358,"content":"-pref(\"font.scale.bitmap.oversize\",  120);"},{"type":"del","del":true,"ln":2359,"content":"-"},{"type":"del","del":true,"ln":2360,"content":"-pref(\"font.scale.outline.min.ja\",      10);"},{"type":"del","del":true,"ln":2361,"content":"-pref(\"font.scale.aa_bitmap.min.ja\",    12);"},{"type":"del","del":true,"ln":2362,"content":"-pref(\"font.scale.aa_bitmap.always.ja\", false);"},{"type":"del","del":true,"ln":2363,"content":"-pref(\"font.scale.bitmap.min.ja\",       16);"},{"type":"del","del":true,"ln":2364,"content":"-pref(\"font.scale.bitmap.undersize.ja\", 80);"},{"type":"del","del":true,"ln":2365,"content":"-pref(\"font.scale.bitmap.oversize.ja\",  120);"},{"type":"del","del":true,"ln":2366,"content":"-"},{"type":"del","del":true,"ln":2367,"content":"-pref(\"font.scale.outline.min.ko\",      10);"},{"type":"del","del":true,"ln":2368,"content":"-pref(\"font.scale.aa_bitmap.min.ko\",    12);"},{"type":"del","del":true,"ln":2369,"content":"-pref(\"font.scale.aa_bitmap.always.ko\", false);"},{"type":"del","del":true,"ln":2370,"content":"-pref(\"font.scale.bitmap.min.ko\",       16);"},{"type":"del","del":true,"ln":2371,"content":"-pref(\"font.scale.bitmap.undersize.ko\", 80);"},{"type":"del","del":true,"ln":2372,"content":"-pref(\"font.scale.bitmap.oversize.ko\",  120);"},{"type":"del","del":true,"ln":2373,"content":"-"},{"type":"del","del":true,"ln":2374,"content":"-pref(\"font.scale.outline.min.zh-CN\",      10);"},{"type":"del","del":true,"ln":2375,"content":"-pref(\"font.scale.aa_bitmap.min.zh-CN\",    12);"},{"type":"del","del":true,"ln":2376,"content":"-pref(\"font.scale.aa_bitmap.always.zh-CN\", false);"},{"type":"del","del":true,"ln":2377,"content":"-pref(\"font.scale.bitmap.min.zh-CN\",       16);"},{"type":"del","del":true,"ln":2378,"content":"-pref(\"font.scale.bitmap.undersize.zh-CN\", 80);"},{"type":"del","del":true,"ln":2379,"content":"-pref(\"font.scale.bitmap.oversize.zh-CN\",  120);"},{"type":"del","del":true,"ln":2380,"content":"-"},{"type":"del","del":true,"ln":2381,"content":"-pref(\"font.scale.outline.min.zh-TW\",      10);"},{"type":"del","del":true,"ln":2382,"content":"-pref(\"font.scale.aa_bitmap.min.zh-TW\",    12);"},{"type":"del","del":true,"ln":2383,"content":"-pref(\"font.scale.aa_bitmap.always.zh-TW\", false);"},{"type":"del","del":true,"ln":2384,"content":"-pref(\"font.scale.bitmap.min.zh-TW\",       16);"},{"type":"del","del":true,"ln":2385,"content":"-pref(\"font.scale.bitmap.undersize.zh-TW\", 80);"},{"type":"del","del":true,"ln":2386,"content":"-pref(\"font.scale.bitmap.oversize.zh-TW\",  120);"},{"type":"del","del":true,"ln":2387,"content":"-"},{"type":"del","del":true,"ln":2388,"content":"-pref(\"font.scale.outline.min.zh-HK\",      10);"},{"type":"del","del":true,"ln":2389,"content":"-pref(\"font.scale.aa_bitmap.min.zh-HK\",    12);"},{"type":"del","del":true,"ln":2390,"content":"-pref(\"font.scale.aa_bitmap.always.zh-HK\", false);"},{"type":"del","del":true,"ln":2391,"content":"-pref(\"font.scale.bitmap.min.zh-HK\",       16);"},{"type":"del","del":true,"ln":2392,"content":"-pref(\"font.scale.bitmap.undersize.zh-HK\", 80);"},{"type":"del","del":true,"ln":2393,"content":"-pref(\"font.scale.bitmap.oversize.zh-HK\",  120);"},{"type":"del","del":true,"ln":2394,"content":"-"},{"type":"del","del":true,"ln":2395,"content":"-// minimum font sizes"},{"type":"del","del":true,"ln":2396,"content":"-"},{"type":"del","del":true,"ln":2397,"content":"-pref(\"font.min-size.variable.ja\", 10);"},{"type":"del","del":true,"ln":2398,"content":"-pref(\"font.min-size.fixed.ja\", 10);"},{"type":"del","del":true,"ln":2399,"content":"-"},{"type":"del","del":true,"ln":2400,"content":"-pref(\"font.min-size.variable.ko\", 10);"},{"type":"del","del":true,"ln":2401,"content":"-pref(\"font.min-size.fixed.ko\", 10);"},{"type":"del","del":true,"ln":2402,"content":"-"},{"type":"del","del":true,"ln":2403,"content":"-pref(\"font.min-size.variable.zh-CN\", 10);"},{"type":"del","del":true,"ln":2404,"content":"-pref(\"font.min-size.fixed.zh-CN\", 10);"},{"type":"del","del":true,"ln":2405,"content":"-"},{"type":"del","del":true,"ln":2406,"content":"-pref(\"font.min-size.variable.zh-TW\", 10);"},{"type":"del","del":true,"ln":2407,"content":"-pref(\"font.min-size.fixed.zh-TW\", 10);"},{"type":"del","del":true,"ln":2408,"content":"-"},{"type":"del","del":true,"ln":2409,"content":"-pref(\"font.min-size.variable.zh-HK\", 10);"},{"type":"del","del":true,"ln":2410,"content":"-pref(\"font.min-size.fixed.zh-HK\", 10);"},{"type":"del","del":true,"ln":2411,"content":"-"},{"type":"del","del":true,"ln":2412,"content":"-// X11 specific"},{"type":"del","del":true,"ln":2413,"content":"-/* X11 font accept/reject patterns:"},{"type":"del","del":true,"ln":2414,"content":"- * Patterns have to match against strings like this:"},{"type":"del","del":true,"ln":2415,"content":"- * (boolean values can only be \"true\" or \"false\")"},{"type":"del","del":true,"ln":2416,"content":"- * \"fname=.*;scalable=.*;outline_scaled=.*;xdisplay=.*;xdpy=%d;ydpy=%d;xdevice=.*\""},{"type":"del","del":true,"ln":2417,"content":"- * - fname     = X11 font name (string)"},{"type":"del","del":true,"ln":2418,"content":"- * - scalable  = is font scalable ? (boolean)"},{"type":"del","del":true,"ln":2419,"content":"- * - outline_scaled = is font an outline scaled font ? (boolean)"},{"type":"del","del":true,"ln":2420,"content":"- * - xdisplay  = X11 display name (like \"host:0.0\" (string)"},{"type":"del","del":true,"ln":2421,"content":"- * - xdpy      = X DPI (X screen resolution) (integer)"},{"type":"del","del":true,"ln":2422,"content":"- * - ydpy      = Y DPI (Y screen resolution) (integer)"},{"type":"del","del":true,"ln":2423,"content":"- * - xdevice   = \"display\" or \"printer\" (Xprint - now obsolete)"},{"type":"del","del":true,"ln":2424,"content":"- * Patterns use  the regular expressions described in the EXTENDED REGULAR"},{"type":"del","del":true,"ln":2425,"content":"- * EXPRESSIONS section of the regex(5) manual page."},{"type":"del","del":true,"ln":2426,"content":"- * Note that prefs strings can always be concatenated via the '+'-operator,"},{"type":"del","del":true,"ln":2427,"content":"- * e.g. pref(\"font.x11.acceptfontpattern\", \"pattern1|\" + "},{"type":"del","del":true,"ln":2428,"content":"- *                                         \"pattern2|\" +"},{"type":"del","del":true,"ln":2429,"content":"- *                                         \"pattern3\");"},{"type":"del","del":true,"ln":2430,"content":"- */"},{"type":"del","del":true,"ln":2431,"content":"-/* reject font if accept pattern does not match it... */"},{"type":"del","del":true,"ln":2432,"content":"-//pref(\"font.x11.acceptfontpattern\", \".*\");"},{"type":"del","del":true,"ln":2433,"content":"-/* reject font if reject pattern matches it... */"},{"type":"del","del":true,"ln":2434,"content":"-//pref(\"font.x11.rejectfontpattern\", "},{"type":"del","del":true,"ln":2435,"content":"-//     \"fname=-urw.*;scalable=false;outline_scaled=false;xdisplay=.*;xdpy=.*;ydpy=.*;xdevice=.*\");"},{"type":"del","del":true,"ln":2436,"content":"-"},{"type":"normal","normal":true,"ln1":2437,"ln2":2323,"content":" /* PostScript print module prefs */"},{"type":"normal","normal":true,"ln1":2438,"ln2":2324,"content":" // pref(\"print.postscript.enabled\",      true);"},{"type":"normal","normal":true,"ln1":2439,"ln2":2325,"content":" pref(\"print.postscript.paper_size\",    \"letter\");"}],"oldStart":2320,"oldLines":120,"newStart":2320,"newLines":6}],"deletions":114,"additions":0,"from":"modules/libpref/src/init/all.js","to":"modules/libpref/src/init/all.js","index":["16e778a..448e9bc","100644"]}]}