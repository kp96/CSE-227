{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas3d4db88\""},"diff":[{"chunks":[{"content":"@@ -1278,8 +1278,6 @@ nsOperaProfileMigrator::ParseBookmarksFolder(nsILineInputStream* aStream,","changes":[{"type":"normal","normal":true,"ln1":1278,"ln2":1278,"content":"     rv = aStream->ReadLine(cBuffer, &moreData);"},{"type":"normal","normal":true,"ln1":1279,"ln2":1279,"content":"     if (NS_FAILED(rv)) return rv;"},{"type":"normal","normal":true,"ln1":1280,"ln2":1280,"content":"     "},{"type":"del","del":true,"ln":1281,"content":"-    if (!moreData) break;"},{"type":"del","del":true,"ln":1282,"content":"-"},{"type":"normal","normal":true,"ln1":1283,"ln2":1281,"content":"     CopyUTF8toUTF16(cBuffer, buffer);"},{"type":"normal","normal":true,"ln1":1284,"ln2":1282,"content":"     nsString data;"},{"type":"normal","normal":true,"ln1":1285,"ln2":1283,"content":"     LineType type = GetLineType(buffer, getter_Copies(data));"}],"oldStart":1278,"oldLines":8,"newStart":1278,"newLines":6},{"content":"@@ -1317,6 +1315,7 @@ nsOperaProfileMigrator::ParseBookmarksFolder(nsILineInputStream* aStream,","changes":[{"type":"normal","normal":true,"ln1":1317,"ln2":1315,"content":"       // Assuming it's in UTF-8 is rather safe because it covers two cases "},{"type":"normal","normal":true,"ln1":1318,"ln2":1316,"content":"       // (UTF-8 and ASCII) out of three cases (the last is a non-UTF-8"},{"type":"normal","normal":true,"ln1":1319,"ln2":1317,"content":"       // multibyte encoding)."},{"type":"add","add":true,"ln":1318,"content":"+      // XXX Todo: |description| is not saved."},{"type":"normal","normal":true,"ln1":1320,"ln2":1319,"content":"       if (entryType == EntryType_BOOKMARK) {"},{"type":"normal","normal":true,"ln1":1321,"ln2":1320,"content":"         if (!name.IsEmpty() && !url.IsEmpty()) {"},{"type":"normal","normal":true,"ln1":1322,"ln2":1321,"content":"           nsCOMPtr<nsIURI> uri;"}],"oldStart":1317,"oldLines":6,"newStart":1315,"newLines":7},{"content":"@@ -1353,7 +1352,7 @@ nsOperaProfileMigrator::ParseBookmarksFolder(nsILineInputStream* aStream,","changes":[{"type":"normal","normal":true,"ln1":1353,"ln2":1352,"content":"       break;"},{"type":"normal","normal":true,"ln1":1354,"ln2":1353,"content":"     }"},{"type":"normal","normal":true,"ln1":1355,"ln2":1354,"content":"   }"},{"type":"del","del":true,"ln":1356,"content":"-  while (1);"},{"type":"add","add":true,"ln":1355,"content":"+  while (moreData);"},{"type":"normal","normal":true,"ln1":1357,"ln2":1356,"content":" "},{"type":"normal","normal":true,"ln1":1358,"ln2":1357,"content":" done:"},{"type":"normal","normal":true,"ln1":1359,"ln2":1358,"content":"   return rv;"}],"oldStart":1353,"oldLines":7,"newStart":1352,"newLines":7}],"deletions":3,"additions":2,"from":"browser/components/migration/src/nsOperaProfileMigrator.cpp","to":"browser/components/migration/src/nsOperaProfileMigrator.cpp","index":["3490261..5dd5ea5","100644"]}]}