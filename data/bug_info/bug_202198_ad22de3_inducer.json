{"bug_id":202198,"commitHash":"ad22de3","commit_info":{"sha":"ad22de3c0c1a4c260778ce79c81c31bd54d947dd","commit":{"author":{"name":"gavin%gavinsharp.com","email":"gavin%gavinsharp.com","date":"2006-11-22T17:22:40Z"},"committer":{"name":"gavin%gavinsharp.com","email":"gavin%gavinsharp.com","date":"2006-11-22T17:22:40Z"},"message":"Bug 202198: fix possible leak in nsScriptSecurityManager::InitPrefs(), patch by Ryan Jones <sciguyryan+bugzilla@gmail.com>, r+sr=dveditz","tree":{"sha":"a19598080030a70dcfced2128cec7ddf27e683db","url":"https://api.github.com/repos/mozilla/gecko-dev/git/trees/a19598080030a70dcfced2128cec7ddf27e683db"},"url":"https://api.github.com/repos/mozilla/gecko-dev/git/commits/ad22de3c0c1a4c260778ce79c81c31bd54d947dd","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/mozilla/gecko-dev/commits/ad22de3c0c1a4c260778ce79c81c31bd54d947dd","html_url":"https://github.com/mozilla/gecko-dev/commit/ad22de3c0c1a4c260778ce79c81c31bd54d947dd","comments_url":"https://api.github.com/repos/mozilla/gecko-dev/commits/ad22de3c0c1a4c260778ce79c81c31bd54d947dd/comments","author":null,"committer":null,"parents":[{"sha":"1d8b18a3b9e66e437d0dd32c1bc6f91aff666e08","url":"https://api.github.com/repos/mozilla/gecko-dev/commits/1d8b18a3b9e66e437d0dd32c1bc6f91aff666e08","html_url":"https://github.com/mozilla/gecko-dev/commit/1d8b18a3b9e66e437d0dd32c1bc6f91aff666e08"}],"stats":{"total":2,"additions":1,"deletions":1},"files":[{"sha":"b25acb2e07bc59ae1451f71148592e8236f0f682","filename":"caps/src/nsScriptSecurityManager.cpp","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/mozilla/gecko-dev/blob/ad22de3c0c1a4c260778ce79c81c31bd54d947dd/caps/src/nsScriptSecurityManager.cpp","raw_url":"https://github.com/mozilla/gecko-dev/raw/ad22de3c0c1a4c260778ce79c81c31bd54d947dd/caps/src/nsScriptSecurityManager.cpp","contents_url":"https://api.github.com/repos/mozilla/gecko-dev/contents/caps/src/nsScriptSecurityManager.cpp?ref=ad22de3c0c1a4c260778ce79c81c31bd54d947dd","patch":"@@ -3658,8 +3658,8 @@ nsScriptSecurityManager::InitPrefs()\n     if (NS_SUCCEEDED(rv) && prefCount > 0)\n     {\n         rv = InitPrincipals(prefCount, (const char**)prefNames, mSecurityPref);\n-        NS_ENSURE_SUCCESS(rv, rv);\n         NS_FREE_XPCOM_ALLOCATED_POINTER_ARRAY(prefCount, prefNames);\n+        NS_ENSURE_SUCCESS(rv, rv);\n     }\n     //-- Set a callback for principal changes\n     prefBranchInternal->AddObserver(sPrincipalPrefix, this, PR_FALSE);"}]},"blames":["1b5e7659c","4756b7169","f7460d026","73c9a1111","2b4b436f5"]}