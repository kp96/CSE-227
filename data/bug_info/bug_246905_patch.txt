Index: security/manager/pki/resources/content/serverCertExpired.js
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/serverCertExpired.js,v
retrieving revision 1.13
diff -u -d -p -8 -r1.13 serverCertExpired.js
--- security/manager/pki/resources/content/serverCertExpired.js	25 Apr 2004 15:02:32 -0000	1.13
+++ security/manager/pki/resources/content/serverCertExpired.js	17 Jul 2004 03:15:40 -0000
@@ -51,19 +51,25 @@ function onLoad()
   pkiParams    = window.arguments[0].QueryInterface(nsIPKIParamBlock);
   dialogParams = pkiParams.QueryInterface(nsIDialogParamBlock);
 
   var title = dialogParams.GetString(2);
   window.title = title;
   var bundle = srGetStrBundle("chrome://pippki/locale/pippki.properties");
   var message1 = dialogParams.GetString(1);
   
-  var currDate = new Date(); 
+  const nsIScriptableDateFormat = Components.interfaces.nsIScriptableDateFormat;
+  var dateService = Components.classes["@mozilla.org/intl/scriptabledateformat;1"].getService(nsIScriptableDateFormat);
+  var date = new Date(); 
+  var dateStr = dateService.FormatDateTime("", dateService.dateFormatShort, dateService.timeFormatNoSeconds, 
+                                           date.getFullYear(), date.getMonth()+1, date.getDate(), 
+                                           date.getHours(), date.getMinutes(), date.getSeconds());
+
   var message2 = bundle.formatStringFromName("serverCertExpiredMsg2", 
-                                             [ currDate.toLocaleString() ],
+                                             [ dateStr ],
                                               1);
   setText("message1", message1);
   setText("message2", message2);
   //Set the focus so key press events work.
   document.getElementById('ok-button').focus();
   window.sizeToContent();
 }
 
