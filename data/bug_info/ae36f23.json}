{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basae36f23\""},"diff":[{"chunks":[{"content":"@@ -40,6 +40,12 @@","changes":[{"type":"normal","normal":true,"ln1":40,"ln2":40,"content":" #include \"cairo-atsui.h\""},{"type":"normal","normal":true,"ln1":41,"ln2":41,"content":" #include \"cairo-quartz-private.h\""},{"type":"normal","normal":true,"ln1":42,"ln2":42,"content":" "},{"type":"add","add":true,"ln":43,"content":"+/* 10.5 SDK includes a funky new definition of FloatToFixed, so reset to old-style definition */"},{"type":"add","add":true,"ln":44,"content":"+#ifdef FloatToFixed"},{"type":"add","add":true,"ln":45,"content":"+#undef FloatToFixed"},{"type":"add","add":true,"ln":46,"content":"+#define FloatToFixed(a)     ((Fixed)((float)(a) * fixed1))"},{"type":"add","add":true,"ln":47,"content":"+#endif"},{"type":"add","add":true,"ln":48,"content":"+"},{"type":"normal","normal":true,"ln1":43,"ln2":49,"content":" /*"},{"type":"normal","normal":true,"ln1":44,"ln2":50,"content":"  * FixedToFloat/FloatToFixed are 10.3+ SDK items - include definitions"},{"type":"normal","normal":true,"ln1":45,"ln2":51,"content":"  * here so we can use older SDKs."}],"oldStart":40,"oldLines":6,"newStart":40,"newLines":12}],"deletions":0,"additions":6,"from":"gfx/cairo/cairo/src/cairo-atsui-font.c","to":"gfx/cairo/cairo/src/cairo-atsui-font.c","index":["1e174ec..1de5e7e","100644"]},{"chunks":[{"content":"@@ -67,6 +67,12 @@","changes":[{"type":"normal","normal":true,"ln1":67,"ln2":67,"content":" "},{"type":"normal","normal":true,"ln1":68,"ln2":68,"content":" #define ROUND(x) (floor((x) + 0.5))"},{"type":"normal","normal":true,"ln1":69,"ln2":69,"content":" "},{"type":"add","add":true,"ln":70,"content":"+/* 10.5 SDK includes a funky new definition of FloatToFixed, so reset to old-style definition */"},{"type":"add","add":true,"ln":71,"content":"+#ifdef FloatToFixed"},{"type":"add","add":true,"ln":72,"content":"+#undef FloatToFixed"},{"type":"add","add":true,"ln":73,"content":"+#define FloatToFixed(a)     ((Fixed)((float)(a) * fixed1))"},{"type":"add","add":true,"ln":74,"content":"+#endif"},{"type":"add","add":true,"ln":75,"content":"+"},{"type":"normal","normal":true,"ln1":70,"ln2":76,"content":" /* We might still need this for fast-pathing, but we'll see */"},{"type":"normal","normal":true,"ln1":71,"ln2":77,"content":" #if 0"},{"type":"normal","normal":true,"ln1":72,"ln2":78,"content":" OSStatus ATSUGetStyleGroup(ATSUStyle style, void **styleGroup);"}],"oldStart":67,"oldLines":6,"newStart":67,"newLines":12}],"deletions":0,"additions":6,"from":"gfx/thebes/src/gfxAtsuiFonts.cpp","to":"gfx/thebes/src/gfxAtsuiFonts.cpp","index":["f6de6aa..c4e4fc2","100644"]}]}