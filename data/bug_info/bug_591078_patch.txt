# HG changeset patch
# Parent e2199dc163d4ae3651cdce12fce5fe9803268258

diff --git a/mailnews/extensions/smime/src/nsMsgComposeSecure.cpp b/mailnews/extensions/smime/src/nsMsgComposeSecure.cpp
--- a/mailnews/extensions/smime/src/nsMsgComposeSecure.cpp
+++ b/mailnews/extensions/smime/src/nsMsgComposeSecure.cpp
@@ -53,7 +53,7 @@
 #include "nsServiceManagerUtils.h"
 #include "nsMemory.h"
 #include "nsAlgorithm.h"
-#include "nsString.h"
+#include "nsStringGlue.h"
 
 #define MK_MIME_ERROR_WRITING_FILE -1
 
@@ -550,7 +550,7 @@ nsresult nsMsgComposeSecure::MimeInitEnc
   NS_ENSURE_SUCCESS(rv, rv);
 
   nsCOMPtr<nsIStringBundle> sMIMEBundle;
-  nsXPIDLString mime_smime_enc_content_desc;
+  nsString mime_smime_enc_content_desc;
 
   bundleSvc->CreateBundle(SMIME_STRBUNDLE_URL, getter_AddRefs(sMIMEBundle));
 
@@ -660,7 +660,7 @@ nsresult nsMsgComposeSecure::MimeFinishM
   NS_ENSURE_SUCCESS(rv, rv);
 
   nsCOMPtr<nsIStringBundle> sMIMEBundle;
-  nsXPIDLString mime_smime_sig_content_desc;
+  nsString mime_smime_sig_content_desc;
 
   bundleSvc->CreateBundle(SMIME_STRBUNDLE_URL, getter_AddRefs(sMIMEBundle));
 
@@ -1070,7 +1070,7 @@ make_multipart_signed_header_string(PRBo
   NS_ENSURE_SUCCESS(rv, rv);
 
   nsCOMPtr<nsIStringBundle> sMIMEBundle;
-  nsXPIDLString crypto_multipart_blurb;
+  nsString crypto_multipart_blurb;
 
   bundleSvc->CreateBundle(SMIME_STRBUNDLE_URL, getter_AddRefs(sMIMEBundle));
   if (!sMIMEBundle)
