{"bug_id":241924,"commitHash":"866dd6a","commit_info":{"sha":"866dd6aee4729222cf6c41baea63a1d4564ea34f","commit":{"author":{"name":"sicking%bigfoot.com","email":"sicking%bigfoot.com","date":"2004-04-29T00:52:53Z"},"committer":{"name":"sicking%bigfoot.com","email":"sicking%bigfoot.com","date":"2004-04-29T00:52:53Z"},"message":"Bug 241924: Use SetValueInternal so we don't get caught in security checks.\n\nr/sr=bz","tree":{"sha":"348a6384604a70d84ad2cfba3ea09ff52724f50f","url":"https://api.github.com/repos/mozilla/gecko-dev/git/trees/348a6384604a70d84ad2cfba3ea09ff52724f50f"},"url":"https://api.github.com/repos/mozilla/gecko-dev/git/commits/866dd6aee4729222cf6c41baea63a1d4564ea34f","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/mozilla/gecko-dev/commits/866dd6aee4729222cf6c41baea63a1d4564ea34f","html_url":"https://github.com/mozilla/gecko-dev/commit/866dd6aee4729222cf6c41baea63a1d4564ea34f","comments_url":"https://api.github.com/repos/mozilla/gecko-dev/commits/866dd6aee4729222cf6c41baea63a1d4564ea34f/comments","author":null,"committer":null,"parents":[{"sha":"433ce78f5231ccb07f505dded677c6410f70ca08","url":"https://api.github.com/repos/mozilla/gecko-dev/commits/433ce78f5231ccb07f505dded677c6410f70ca08","html_url":"https://github.com/mozilla/gecko-dev/commit/433ce78f5231ccb07f505dded677c6410f70ca08"}],"stats":{"total":4,"additions":3,"deletions":1},"files":[{"sha":"ee3f9367582c2ea79305396cddb32c77baa5a2bb","filename":"content/html/content/src/nsHTMLInputElement.cpp","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/mozilla/gecko-dev/blob/866dd6aee4729222cf6c41baea63a1d4564ea34f/content/html/content/src/nsHTMLInputElement.cpp","raw_url":"https://github.com/mozilla/gecko-dev/raw/866dd6aee4729222cf6c41baea63a1d4564ea34f/content/html/content/src/nsHTMLInputElement.cpp","contents_url":"https://api.github.com/repos/mozilla/gecko-dev/contents/content/html/content/src/nsHTMLInputElement.cpp?ref=866dd6aee4729222cf6c41baea63a1d4564ea34f","patch":"@@ -1709,7 +1709,9 @@ nsHTMLInputElement::ParseAttribute(nsIAtom* aAttribute,\n     if (mType == NS_FORM_INPUT_FILE) {\n       // If the type is being changed to file, set the element value\n       // to the empty string. This is for security.\n-      SetValue(EmptyString());\n+      // Call SetValueInternal so that this doesn't accidentally get caught\n+      // in the security checks in SetValue.\n+      SetValueInternal(EmptyString(), nsnull);\n     }\n \n     return PR_TRUE;"}]},"blames":["28169f7a","bfef8a33"]}