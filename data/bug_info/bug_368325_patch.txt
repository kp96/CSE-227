Index: mozilla/mailnews/imap/src/nsImapProtocol.cpp
===================================================================
RCS file: /cvsroot/mozilla/mailnews/imap/src/nsImapProtocol.cpp,v
retrieving revision 1.670
diff -u -1 -0 -p -r1.670 nsImapProtocol.cpp
--- mozilla/mailnews/imap/src/nsImapProtocol.cpp	27 Sep 2007 16:24:13 -0000	1.670
+++ mozilla/mailnews/imap/src/nsImapProtocol.cpp	5 Oct 2007 02:19:29 -0000
@@ -696,21 +696,21 @@ nsresult nsImapProtocol::SetupWithUrl(ns
 
     // since we'll be making calls directly from the imap thread to the channel listener,
     // we need to turn it into a proxy object....we'll assume that the listener is on the same thread
     // as the event sink queue
     if (aRealStreamListener)
     {
       NS_ASSERTION(!m_channelListener, "shouldn't already have a channel listener");
       rv = NS_GetProxyForObject(m_sinkEventTarget,
                                 NS_GET_IID(nsIStreamListener),
                                 aRealStreamListener,
-                                NS_PROXY_ASYNC | NS_PROXY_ALWAYS,
+                                NS_PROXY_SYNC | NS_PROXY_ALWAYS,
                                 getter_AddRefs(m_channelListener));
       if (NS_FAILED(rv)) return rv;
     }
 
     PRUint32 capability = kCapabilityUndefined;
 
     m_hostSessionList->GetCapabilityForHost(GetImapServerKey(), capability);
 
     PRBool shuttingDown;
     (void) server->GetUseSecAuth(&m_useSecAuth);
