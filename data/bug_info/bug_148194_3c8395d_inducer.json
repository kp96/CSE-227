{"bug_id":148194,"commitHash":"3c8395d","commit_info":{"sha":"3c8395dc507f64dfa9a6ab54f9fd25aabf79cbca","commit":{"author":{"name":"Serge Gautherie","email":"sgautherie.bz@free.fr","date":"2008-08-20T05:17:20Z"},"committer":{"name":"Serge Gautherie","email":"sgautherie.bz@free.fr","date":"2008-08-20T05:17:20Z"},"message":"Bug 148194 - \"Remove session-logout code from security module\" ((Av1-19T) <nsNSSComponent.cpp>) [r=kaie]","tree":{"sha":"156c347e3d092b7306f2776470080a4039841271","url":"https://api.github.com/repos/mozilla/gecko-dev/git/trees/156c347e3d092b7306f2776470080a4039841271"},"url":"https://api.github.com/repos/mozilla/gecko-dev/git/commits/3c8395dc507f64dfa9a6ab54f9fd25aabf79cbca","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/mozilla/gecko-dev/commits/3c8395dc507f64dfa9a6ab54f9fd25aabf79cbca","html_url":"https://github.com/mozilla/gecko-dev/commit/3c8395dc507f64dfa9a6ab54f9fd25aabf79cbca","comments_url":"https://api.github.com/repos/mozilla/gecko-dev/commits/3c8395dc507f64dfa9a6ab54f9fd25aabf79cbca/comments","author":null,"committer":null,"parents":[{"sha":"e89115ea32b4d387d87632db433596d74c36c190","url":"https://api.github.com/repos/mozilla/gecko-dev/commits/e89115ea32b4d387d87632db433596d74c36c190","html_url":"https://github.com/mozilla/gecko-dev/commit/e89115ea32b4d387d87632db433596d74c36c190"}],"stats":{"total":8,"additions":0,"deletions":8},"files":[{"sha":"af3334b1792005b810307402e597220a8e1c627b","filename":"security/manager/ssl/src/nsNSSComponent.cpp","status":"modified","additions":0,"deletions":8,"changes":8,"blob_url":"https://github.com/mozilla/gecko-dev/blob/3c8395dc507f64dfa9a6ab54f9fd25aabf79cbca/security/manager/ssl/src/nsNSSComponent.cpp","raw_url":"https://github.com/mozilla/gecko-dev/raw/3c8395dc507f64dfa9a6ab54f9fd25aabf79cbca/security/manager/ssl/src/nsNSSComponent.cpp","contents_url":"https://api.github.com/repos/mozilla/gecko-dev/contents/security/manager/ssl/src/nsNSSComponent.cpp?ref=3c8395dc507f64dfa9a6ab54f9fd25aabf79cbca","patch":"@@ -1957,7 +1957,6 @@ nsNSSComponent::RandomUpdate(void *entropy, PRInt32 bufLen)\n #define PROFILE_CHANGE_TEARDOWN_VETO_TOPIC \"profile-change-teardown-veto\"\n #define PROFILE_BEFORE_CHANGE_TOPIC \"profile-before-change\"\n #define PROFILE_AFTER_CHANGE_TOPIC \"profile-after-change\"\n-#define SESSION_LOGOUT_TOPIC \"session-logout\"\n \n NS_IMETHODIMP\n nsNSSComponent::Observe(nsISupports *aSubject, const char *aTopic, \n@@ -2044,12 +2043,6 @@ nsNSSComponent::Observe(nsISupports *aSubject, const char *aTopic,\n       }\n     }\n   }\n-  else if ((nsCRT::strcmp(aTopic, SESSION_LOGOUT_TOPIC) == 0) && mNSSInitialized) {\n-    nsNSSShutDownPreventionLock locker;\n-    PK11_LogoutAll();\n-    SSL_ClearSessionCache();\n-    LogoutAuthenticatedPK11();\n-  }\n   else if (nsCRT::strcmp(aTopic, NS_PREFBRANCH_PREFCHANGE_TOPIC_ID) == 0) { \n     nsNSSShutDownPreventionLock locker;\n     PRBool clearSessionCache = PR_FALSE;\n@@ -2185,7 +2178,6 @@ nsNSSComponent::RegisterObservers()\n     observerService->AddObserver(this, PROFILE_CHANGE_TEARDOWN_VETO_TOPIC, PR_FALSE);\n     observerService->AddObserver(this, PROFILE_BEFORE_CHANGE_TOPIC, PR_FALSE);\n     observerService->AddObserver(this, PROFILE_AFTER_CHANGE_TOPIC, PR_FALSE);\n-    observerService->AddObserver(this, SESSION_LOGOUT_TOPIC, PR_FALSE);\n     observerService->AddObserver(this, PROFILE_CHANGE_NET_TEARDOWN_TOPIC, PR_FALSE);\n     observerService->AddObserver(this, PROFILE_CHANGE_NET_RESTORE_TOPIC, PR_FALSE);\n   }"}]},"blames":["6741a52ed","d07f0ac0c","0e64d4352","4e7194601","4f540afa3","d023625a0","40ce17cee","c2d981f76","c5a94fda3","40486c9fe","93e0fc7d1","d007c347b"]}