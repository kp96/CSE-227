{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basaff8591\""},"diff":[{"chunks":[{"content":"@@ -8,7 +8,7 @@ use File::Copy qw(move);","changes":[{"type":"normal","normal":true,"ln1":8,"ln2":8,"content":" use POSIX qw(strftime);"},{"type":"normal","normal":true,"ln1":9,"ln2":9,"content":" "},{"type":"normal","normal":true,"ln1":10,"ln2":10,"content":" use MozBuild::Util qw(MkdirWithPath RunShellCommand);"},{"type":"del","del":true,"ln":11,"content":"-use Bootstrap::Util qw(CvsCatfile GetDiffFileList);"},{"type":"add","add":true,"ln":11,"content":"+use Bootstrap::Util qw(CvsCatfile);"},{"type":"normal","normal":true,"ln1":12,"ln2":12,"content":" "},{"type":"normal","normal":true,"ln1":13,"ln2":13,"content":" use Bootstrap::Step;"},{"type":"normal","normal":true,"ln1":14,"ln2":14,"content":" use Bootstrap::Step::Tag::Bump;"}],"oldStart":8,"oldLines":7,"newStart":8,"newLines":7}],"deletions":1,"additions":1,"from":"tools/release/Bootstrap/Step/Tag.pm","to":"tools/release/Bootstrap/Step/Tag.pm","index":["f6676e4..a6e638d","100644"]},{"chunks":[{"content":"@@ -7,6 +7,7 @@ use File::Copy qw(move);","changes":[{"type":"normal","normal":true,"ln1":7,"ln2":7,"content":" use File::Spec::Functions;"},{"type":"normal","normal":true,"ln1":8,"ln2":8,"content":" "},{"type":"normal","normal":true,"ln1":9,"ln2":9,"content":" use MozBuild::Util qw(MkdirWithPath);"},{"type":"add","add":true,"ln":10,"content":"+use Bootstrap::Util qw(GetDiffFileList);"},{"type":"normal","normal":true,"ln1":10,"ln2":11,"content":" "},{"type":"normal","normal":true,"ln1":11,"ln2":12,"content":" use Bootstrap::Config;"},{"type":"normal","normal":true,"ln1":12,"ln2":13,"content":" use Bootstrap::Step::Tag;"}],"oldStart":7,"oldLines":6,"newStart":7,"newLines":7},{"content":"@@ -47,11 +48,10 @@ sub Execute {","changes":[{"type":"normal","normal":true,"ln1":47,"ln2":48,"content":" "},{"type":"normal","normal":true,"ln1":48,"ln2":49,"content":"     if ($rc > 1) {"},{"type":"normal","normal":true,"ln1":49,"ln2":50,"content":"         my $previousRcTag = $productTag . '_RC' . ($rc - 1);"},{"type":"del","del":true,"ln":50,"content":"-        my $diffFileList = $this->GetDiffFileList(cvsDir => "},{"type":"del","del":true,"ln":51,"content":"-                                                   catfile($cvsrootTagDir,"},{"type":"del","del":true,"ln":52,"content":"-                                                           'mozilla'),"},{"type":"del","del":true,"ln":53,"content":"-                                                  prevTag => $previousRcTag,"},{"type":"del","del":true,"ln":54,"content":"-                                                  newTag => $rcTag);"},{"type":"add","add":true,"ln":51,"content":"+        my $diffFileList = GetDiffFileList(cvsDir => catfile($cvsrootTagDir,"},{"type":"add","add":true,"ln":52,"content":"+                                                             'mozilla'),"},{"type":"add","add":true,"ln":53,"content":"+                                           prevTag => $previousRcTag,"},{"type":"add","add":true,"ln":54,"content":"+                                           newTag => $rcTag);"},{"type":"normal","normal":true,"ln1":55,"ln2":55,"content":" "},{"type":"normal","normal":true,"ln1":56,"ln2":56,"content":"         if (scalar(@{$diffFileList}) > 0) {"},{"type":"normal","normal":true,"ln1":57,"ln2":57,"content":"             $this->CvsTag("}],"oldStart":47,"oldLines":11,"newStart":48,"newLines":10}],"deletions":5,"additions":5,"from":"tools/release/Bootstrap/Step/Tag/Mozilla.pm","to":"tools/release/Bootstrap/Step/Tag/Mozilla.pm","index":["ea43862..5eb5aae","100644"]},{"chunks":[{"content":"@@ -12,7 +12,7 @@ use MozBuild::Util qw(MkdirWithPath);","changes":[{"type":"normal","normal":true,"ln1":12,"ln2":12,"content":" use Bootstrap::Step;"},{"type":"normal","normal":true,"ln1":13,"ln2":13,"content":" use Bootstrap::Config;"},{"type":"normal","normal":true,"ln1":14,"ln2":14,"content":" use Bootstrap::Step::Tag;"},{"type":"del","del":true,"ln":15,"content":"-use Bootstrap::Util qw(CvsCatfile);"},{"type":"add","add":true,"ln":15,"content":"+use Bootstrap::Util qw(CvsCatfile GetDiffFileList);"},{"type":"normal","normal":true,"ln1":16,"ln2":16,"content":" "},{"type":"normal","normal":true,"ln1":17,"ln2":17,"content":" use strict;"},{"type":"normal","normal":true,"ln1":18,"ln2":18,"content":" "}],"oldStart":12,"oldLines":7,"newStart":12,"newLines":7},{"content":"@@ -119,10 +119,10 @@ sub Execute {","changes":[{"type":"normal","normal":true,"ln1":119,"ln2":119,"content":"     # If we're retagging rc(N > 1), we need to tag -F"},{"type":"normal","normal":true,"ln1":120,"ln2":120,"content":"     if ($rc > 1) {"},{"type":"normal","normal":true,"ln1":121,"ln2":121,"content":"         my $previousRcTag = $productTag . '_RC' . ($rc - 1);"},{"type":"del","del":true,"ln":122,"content":"-        my $diffFileList = $this->GetDiffFileList(cvsDir => catfile($l10nTagDir,"},{"type":"del","del":true,"ln":123,"content":"-                                                                'l10n'),"},{"type":"del","del":true,"ln":124,"content":"-                                              prevTag => $previousRcTag,"},{"type":"del","del":true,"ln":125,"content":"-                                              newTag => $rcTag);"},{"type":"add","add":true,"ln":122,"content":"+        my $diffFileList = GetDiffFileList(cvsDir => catfile($l10nTagDir,"},{"type":"add","add":true,"ln":123,"content":"+                                                             'l10n'),"},{"type":"add","add":true,"ln":124,"content":"+                                           prevTag => $previousRcTag,"},{"type":"add","add":true,"ln":125,"content":"+                                           newTag => $rcTag);"},{"type":"normal","normal":true,"ln1":126,"ln2":126,"content":" "},{"type":"normal","normal":true,"ln1":127,"ln2":127,"content":"         if (scalar(@{$diffFileList}) > 0) {"},{"type":"normal","normal":true,"ln1":128,"ln2":128,"content":"             $releaseTagArgs{'force'} = 1;"}],"oldStart":119,"oldLines":10,"newStart":119,"newLines":10}],"deletions":5,"additions":5,"from":"tools/release/Bootstrap/Step/Tag/l10n.pm","to":"tools/release/Bootstrap/Step/Tag/l10n.pm","index":["811e248..434cc5d","100644"]},{"chunks":[{"content":"@@ -237,7 +237,7 @@ sub GetDiffFileList {","changes":[{"type":"normal","normal":true,"ln1":237,"ln2":237,"content":"     my $newTag = $args{'newTag'};"},{"type":"normal","normal":true,"ln1":238,"ln2":238,"content":" "},{"type":"normal","normal":true,"ln1":239,"ln2":239,"content":"     my $rv = RunShellCommand(command => 'cvs',"},{"type":"del","del":true,"ln":240,"content":"-                             args => ['diff', '-uN',"},{"type":"add","add":true,"ln":240,"content":"+                             args => ['-q', 'diff', '-uN',"},{"type":"normal","normal":true,"ln1":241,"ln2":241,"content":"                                       '-r', $firstTag,"},{"type":"normal","normal":true,"ln1":242,"ln2":242,"content":"                                       '-r', $newTag],"},{"type":"normal","normal":true,"ln1":243,"ln2":243,"content":"                              dir => $cvsDir,"}],"oldStart":237,"oldLines":7,"newStart":237,"newLines":7}],"deletions":1,"additions":1,"from":"tools/release/Bootstrap/Util.pm","to":"tools/release/Bootstrap/Util.pm","index":["13db7a8..0a211f2","100644"]}]}