{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Basdf44090\""},"diff":[{"chunks":[{"content":"@@ -164,10 +164,10 @@ nsCrossSiteListenerProxy::OnStartRequest(nsIRequest* aRequest,","changes":[{"type":"normal","normal":true,"ln1":164,"ln2":164,"content":"   }"},{"type":"normal","normal":true,"ln1":165,"ln2":165,"content":"   mReqSubdomains.AppendElement(Substring(host, currDot));"},{"type":"normal","normal":true,"ln1":166,"ln2":166,"content":" "},{"type":"del","del":true,"ln":167,"content":"-  // Check the Content-Access-Control header"},{"type":"add","add":true,"ln":167,"content":"+  // Check the Access-Control header"},{"type":"normal","normal":true,"ln1":168,"ln2":168,"content":"   if (http) {"},{"type":"normal","normal":true,"ln1":169,"ln2":169,"content":"     nsCAutoString ac;"},{"type":"del","del":true,"ln":170,"content":"-    rv = http->GetResponseHeader(NS_LITERAL_CSTRING(\"Content-Access-Control\"), ac);"},{"type":"add","add":true,"ln":170,"content":"+    rv = http->GetResponseHeader(NS_LITERAL_CSTRING(\"Access-Control\"), ac);"},{"type":"normal","normal":true,"ln1":171,"ln2":171,"content":"     "},{"type":"normal","normal":true,"ln1":172,"ln2":172,"content":"     if (NS_SUCCEEDED(rv)) {"},{"type":"normal","normal":true,"ln1":173,"ln2":173,"content":"       CheckHeader(ac);"}],"oldStart":164,"oldLines":10,"newStart":164,"newLines":10}],"deletions":2,"additions":2,"from":"content/base/src/nsCrossSiteListenerProxy.cpp","to":"content/base/src/nsCrossSiteListenerProxy.cpp","index":["5ab0cbf..5c603fc","100644"]},{"chunks":[{"content":"@@ -1,2 +1,2 @@","changes":[{"type":"normal","normal":true,"ln1":1,"ln2":1,"content":" HTTP 200 OK\r"},{"type":"del","del":true,"ln":2,"content":"-Content-Access-Control: allow <*>, deny <*>\r"},{"type":"add","add":true,"ln":2,"content":"+Access-Control: allow <*>, deny <*>\r"}],"oldStart":1,"oldLines":2,"newStart":1,"newLines":2}],"deletions":1,"additions":1,"from":"content/base/test/file_CrossSiteXHR_fail2.xml^headers^","to":"content/base/test/file_CrossSiteXHR_fail2.xml^headers^","index":["6ab29c9..646a369","100644"]},{"chunks":[{"content":"@@ -1,2 +1,2 @@","changes":[{"type":"normal","normal":true,"ln1":1,"ln2":1,"content":" HTTP 200 OK\r"},{"type":"del","del":true,"ln":2,"content":"-Content-Access-Control: allow <localhost:8888> exclude <localhost.bar> <bar.localhost>, deny <*> exclude <localhost:8888>\r"},{"type":"add","add":true,"ln":2,"content":"+Access-Control: allow <localhost:8888> exclude <localhost.bar> <bar.localhost>, deny <*> exclude <localhost:8888>\r"}],"oldStart":1,"oldLines":2,"newStart":1,"newLines":2}],"deletions":1,"additions":1,"from":"content/base/test/file_CrossSiteXHR_pass1.xml^headers^","to":"content/base/test/file_CrossSiteXHR_pass1.xml^headers^","index":["0e66148..4c535d9","100644"]}]}