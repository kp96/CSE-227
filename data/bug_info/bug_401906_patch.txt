Index: security/manager/ssl/src/nsCertTree.cpp
===================================================================
RCS file: /cvsroot/mozilla/security/manager/ssl/src/nsCertTree.cpp,v
retrieving revision 1.63
diff -u -8 -p -r1.63 nsCertTree.cpp
--- security/manager/ssl/src/nsCertTree.cpp	19 Nov 2007 15:32:46 -0000	1.63
+++ security/manager/ssl/src/nsCertTree.cpp	30 Nov 2007 11:09:46 -0000
@@ -387,17 +387,16 @@ MatchingCertOverridesCallback(const nsCe
   if (certdi) {
     if (cap->certai)
       cap->certai->mUsageCount++;
     certdi->mAddonInfo = cap->certai;
     certdi->mTypeOfEntry = nsCertTreeDispInfo::host_port_override;
     certdi->mHostWithPort = NS_ConvertUTF8toUTF16(aSettings.mHostWithPortUTF8);
     certdi->mOverrideBits = aSettings.mOverrideBits;
     certdi->mIsTemporary = aSettings.mIsTemporary;
-    NS_IF_ADDREF(certdi);
     cap->array->InsertElementAt(cap->position, certdi);
     cap->position++;
     cap->counter++;
   }
 
   // this entry is now associated to a displayed cert, remove
   // it from the list of remaining entries
   cap->tracker->RemoveEntry(aSettings.mHostWithPortUTF8);
@@ -444,17 +443,16 @@ AddRemaningHostPortOverridesCallback(con
 
   nsCertTreeDispInfo *certdi = new nsCertTreeDispInfo;
   if (certdi) {
     certdi->mAddonInfo = nsnull;
     certdi->mTypeOfEntry = nsCertTreeDispInfo::host_port_override;
     certdi->mHostWithPort = NS_ConvertUTF8toUTF16(aSettings.mHostWithPortUTF8);
     certdi->mOverrideBits = aSettings.mOverrideBits;
     certdi->mIsTemporary = aSettings.mIsTemporary;
-    NS_IF_ADDREF(certdi);
     cap->array->InsertElementAt(cap->position, certdi);
     cap->position++;
     cap->counter++;
   }
 }
 
 nsresult
 nsCertTree::GetCertsByTypeFromCertList(CERTCertList *aCertList,
