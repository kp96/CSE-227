{"sha":"\"47e7bc67f932866e4467f7ab8a23bb167405bebd\"","commit":{"author":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"committer":{"name":"\"Nicolas Silva\"","email":"\"nsilva@mozilla.com\"","date":"\"2016-09-01T15:51:09+02:00\""},"message":"\"Bug 1298345 - Refactor CanvasRenderingContext2D's texture allocation code. r=Bas4f3fb59\""},"diff":[{"chunks":[{"content":"@@ -285,6 +285,11 @@ interface fuelIExtension : nsISupports","changes":[{"type":"normal","normal":true,"ln1":285,"ln2":285,"content":"   readonly attribute AString name;"},{"type":"normal","normal":true,"ln1":286,"ln2":286,"content":"   "},{"type":"normal","normal":true,"ln1":287,"ln2":287,"content":"   /**"},{"type":"add","add":true,"ln":288,"content":"+   * Check if the extension is currently enabled, or not."},{"type":"add","add":true,"ln":289,"content":"+   */"},{"type":"add","add":true,"ln":290,"content":"+  readonly attribute boolean enabled;"},{"type":"add","add":true,"ln":291,"content":"+  "},{"type":"add","add":true,"ln":292,"content":"+  /**"},{"type":"normal","normal":true,"ln1":288,"ln2":293,"content":"    * The version number of the extension."},{"type":"normal","normal":true,"ln1":289,"ln2":294,"content":"    */"},{"type":"normal","normal":true,"ln1":290,"ln2":295,"content":"   readonly attribute AString version;"}],"oldStart":285,"oldLines":6,"newStart":285,"newLines":11}],"deletions":0,"additions":5,"from":"browser/fuel/public/fuelIApplication.idl","to":"browser/fuel/public/fuelIApplication.idl","index":["79a664b..459978a","100644"]},{"chunks":[{"content":"@@ -401,6 +401,19 @@ function Extension(aItem) {","changes":[{"type":"normal","normal":true,"ln1":401,"ln2":401,"content":"     this._firstRun = true;"},{"type":"normal","normal":true,"ln1":402,"ln2":402,"content":"   }"},{"type":"normal","normal":true,"ln1":403,"ln2":403,"content":" "},{"type":"add","add":true,"ln":404,"content":"+  this._enabled = false;"},{"type":"add","add":true,"ln":405,"content":"+  const PREFIX_ITEM_URI = \"urn:mozilla:item:\";"},{"type":"add","add":true,"ln":406,"content":"+  const PREFIX_NS_EM = \"http://www.mozilla.org/2004/em-rdf#\";"},{"type":"add","add":true,"ln":407,"content":"+  var rdf = Cc[\"@mozilla.org/rdf/rdf-service;1\"].getService(Ci.nsIRDFService);"},{"type":"add","add":true,"ln":408,"content":"+  var itemResource = rdf.GetResource(PREFIX_ITEM_URI + this._item.id);"},{"type":"add","add":true,"ln":409,"content":"+  if (itemResource) {"},{"type":"add","add":true,"ln":410,"content":"+    var extmgr = Cc[\"@mozilla.org/extensions/manager;1\"].getService(Ci.nsIExtensionManager);"},{"type":"add","add":true,"ln":411,"content":"+    var ds = extmgr.datasource;"},{"type":"add","add":true,"ln":412,"content":"+    var target = ds.GetTarget(itemResource, rdf.GetResource(PREFIX_NS_EM + \"isDisabled\"), true);"},{"type":"add","add":true,"ln":413,"content":"+    if (target && target instanceof Ci.nsIRDFLiteral)"},{"type":"add","add":true,"ln":414,"content":"+      this._enabled = (target.Value != \"true\");"},{"type":"add","add":true,"ln":415,"content":"+  }"},{"type":"add","add":true,"ln":416,"content":"+"},{"type":"normal","normal":true,"ln1":404,"ln2":417,"content":"   var os = Components.classes[\"@mozilla.org/observer-service;1\"]"},{"type":"normal","normal":true,"ln1":405,"ln2":418,"content":"                      .getService(Ci.nsIObserverService);"},{"type":"normal","normal":true,"ln1":406,"ln2":419,"content":"   os.addObserver(this, \"em-action-requested\", false);"}],"oldStart":401,"oldLines":6,"newStart":401,"newLines":19},{"content":"@@ -449,6 +462,10 @@ Extension.prototype = {","changes":[{"type":"normal","normal":true,"ln1":449,"ln2":462,"content":"     return this._item.name;"},{"type":"normal","normal":true,"ln1":450,"ln2":463,"content":"   },"},{"type":"normal","normal":true,"ln1":451,"ln2":464,"content":" "},{"type":"add","add":true,"ln":465,"content":"+  get enabled() {"},{"type":"add","add":true,"ln":466,"content":"+    return this._enabled;"},{"type":"add","add":true,"ln":467,"content":"+  },"},{"type":"add","add":true,"ln":468,"content":"+"},{"type":"normal","normal":true,"ln1":452,"ln2":469,"content":"   get version() {"},{"type":"normal","normal":true,"ln1":453,"ln2":470,"content":"     return this._item.version;"},{"type":"normal","normal":true,"ln1":454,"ln2":471,"content":"   },"}],"oldStart":449,"oldLines":6,"newStart":462,"newLines":10}],"deletions":0,"additions":17,"from":"browser/fuel/src/fuelApplication.js","to":"browser/fuel/src/fuelApplication.js","index":["8656851..601b21c","100644"]},{"chunks":[{"content":"@@ -22,6 +22,7 @@ function test() {","changes":[{"type":"normal","normal":true,"ln1":22,"ln2":22,"content":"   // The known version number changes too frequently to hardcode in"},{"type":"normal","normal":true,"ln1":23,"ln2":23,"content":"   ok(inspector.version, \"Check 'Extension.version' for known extension\");"},{"type":"normal","normal":true,"ln1":24,"ln2":24,"content":"   ok(inspector.firstRun, \"Check 'Extension.firstRun' for known extension\");"},{"type":"add","add":true,"ln":25,"content":"+  ok(inspector.enabled, \"Check 'Extension.enabled' for known extension\");"},{"type":"normal","normal":true,"ln1":25,"ln2":26,"content":"   "},{"type":"normal","normal":true,"ln1":26,"ln2":27,"content":"   // test to see if extension find works"},{"type":"normal","normal":true,"ln1":27,"ln2":28,"content":"   is(Application.extensions.all.length, 1, \"Check a find for all extensions\");"}],"oldStart":22,"oldLines":6,"newStart":22,"newLines":7}],"deletions":0,"additions":1,"from":"browser/fuel/test/browser_Extensions.js","to":"browser/fuel/test/browser_Extensions.js","index":["d78571d..cbaeec1","100644"]}]}