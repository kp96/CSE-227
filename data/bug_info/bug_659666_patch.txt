# HG changeset patch
# Parent 1f752e72346d281e2741bd46d1f0c4b2022ef247
diff --git a/layout/base/nsDocumentViewer.cpp b/layout/base/nsDocumentViewer.cpp
--- a/layout/base/nsDocumentViewer.cpp
+++ b/layout/base/nsDocumentViewer.cpp
@@ -1204,7 +1204,9 @@
         return NS_OK;
       }
 
-      PRBool dummy;
+      // Although the exact value is ignored, we must not pass invalid
+      // PRBool values through XPConnect.
+      PRBool dummy = PR_FALSE;
       PRInt32 buttonPressed = 0;
       PRUint32 buttonFlags = (nsIPrompt::BUTTON_POS_0_DEFAULT |
                              (nsIPrompt::BUTTON_TITLE_IS_STRING * nsIPrompt::BUTTON_POS_0) |
diff --git a/security/manager/ssl/src/nsNSSCallbacks.cpp b/security/manager/ssl/src/nsNSSCallbacks.cpp
--- a/security/manager/ssl/src/nsNSSCallbacks.cpp
+++ b/security/manager/ssl/src/nsNSSCallbacks.cpp
@@ -807,7 +807,9 @@
       rv = NS_ERROR_NOT_AVAILABLE;
     }
     else {
-      PRBool checkState;
+      // Although the exact value is ignored, we must not pass invalid
+      // PRBool values through XPConnect.
+      PRBool checkState = PR_FALSE;
       rv = proxyPrompt->PromptPassword(nsnull, promptString.get(),
                                        &password, nsnull, &checkState, &value);
     }
