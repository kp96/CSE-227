? extensions/help/resources/content/helpSecurityOverlay.xul
Index: security/manager/pki/resources/Makefile.in
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/Makefile.in,v
retrieving revision 1.10
diff -u -p -r1.10 Makefile.in
--- security/manager/pki/resources/Makefile.in	20 Apr 2005 10:58:06 -0000	1.10
+++ security/manager/pki/resources/Makefile.in	9 Jul 2006 20:33:56 -0000
@@ -43,9 +43,3 @@ VPATH		= @srcdir@
 
 include $(DEPTH)/config/autoconf.mk
 include $(topsrcdir)/config/rules.mk
-
-ifdef MOZ_XUL_APP
-DEFINES += -DHELP_BUTTON=
-else
-DEFINES += "-DHELP_BUTTON=,help"
-endif
Index: security/manager/pki/resources/jar.mn
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/jar.mn,v
retrieving revision 1.50
diff -u -p -r1.50 jar.mn
--- security/manager/pki/resources/jar.mn	1 Jul 2006 12:55:37 -0000	1.50
+++ security/manager/pki/resources/jar.mn	9 Jul 2006 20:33:56 -0000
@@ -4,10 +4,10 @@ pippki.jar:
 #else
 *   content/pippki/contents.rdf              (content/contents.rdf)
 #endif
-*   content/pippki/changepassword.xul        (content/changepassword.xul)
+    content/pippki/changepassword.xul        (content/changepassword.xul)
     content/pippki/getpassword.xul           (content/getpassword.xul)
     content/pippki/password.js               (content/password.js)
-*   content/pippki/resetpassword.xul         (content/resetpassword.xul)
+    content/pippki/resetpassword.xul         (content/resetpassword.xul)
     content/pippki/resetpassword.js          (content/resetpassword.js)
     content/pippki/PrefOverlay.xul           (content/PrefOverlay.xul)
     content/pippki/pref-security.js          (content/pref-security.js)
@@ -15,57 +15,57 @@ pippki.jar:
     content/pippki/pref-certs.xul            (content/pref-certs.xul)
     content/pippki/PageInfoOverlay.xul       (content/PageInfoOverlay.xul)
 *   content/pippki/newserver.js              (content/newserver.js)
-*   content/pippki/newserver.xul             (content/newserver.xul)
+    content/pippki/newserver.xul             (content/newserver.xul)
     content/pippki/downloadcert.js           (content/downloadcert.js)
-*   content/pippki/downloadcert.xul          (content/downloadcert.xul)
+    content/pippki/downloadcert.xul          (content/downloadcert.xul)
     content/pippki/cacertexists.xul          (content/cacertexists.xul)
     content/pippki/certManager.js            (content/certManager.js)
-*   content/pippki/certManager.xul           (content/certManager.xul)
+    content/pippki/certManager.xul           (content/certManager.xul)
     content/pippki/CAOverlay.xul             (content/CAOverlay.xul)
     content/pippki/WebSitesOverlay.xul       (content/WebSitesOverlay.xul)
     content/pippki/OthersOverlay.xul         (content/OthersOverlay.xul)
     content/pippki/MineOverlay.xul           (content/MineOverlay.xul)
     content/pippki/viewCertDetails.xul       (content/viewCertDetails.xul)
-*   content/pippki/editcacert.xul            (content/editcacert.xul)
-*   content/pippki/editemailcert.xul         (content/editemailcert.xul)
-*   content/pippki/editsslcert.xul           (content/editsslcert.xul)
+    content/pippki/editcacert.xul            (content/editcacert.xul)
+    content/pippki/editemailcert.xul         (content/editemailcert.xul)
+    content/pippki/editsslcert.xul           (content/editsslcert.xul)
     content/pippki/editcerts.js              (content/editcerts.js)
-*   content/pippki/deletecert.xul            (content/deletecert.xul)
+    content/pippki/deletecert.xul            (content/deletecert.xul)
     content/pippki/deletecert.js             (content/deletecert.js)
     content/pippki/viewCertDetails.js        (content/viewCertDetails.js)
-*   content/pippki/getp12password.xul        (content/getp12password.xul)
-*   content/pippki/setp12password.xul        (content/setp12password.xul)
+    content/pippki/getp12password.xul        (content/getp12password.xul)
+    content/pippki/setp12password.xul        (content/setp12password.xul)
     content/pippki/pippki.js                 (content/pippki.js)
-*   content/pippki/domainMismatch.xul        (content/domainMismatch.xul)
+    content/pippki/domainMismatch.xul        (content/domainMismatch.xul)
     content/pippki/domainMismatch.js         (content/domainMismatch.js)
-*   content/pippki/serverCertExpired.xul     (content/serverCertExpired.xul)
+    content/pippki/serverCertExpired.xul     (content/serverCertExpired.xul)
     content/pippki/serverCertExpired.js      (content/serverCertExpired.js)
-*   content/pippki/clientauthask.xul	       (content/clientauthask.xul)
+    content/pippki/clientauthask.xul	     (content/clientauthask.xul)
     content/pippki/clientauthask.js          (content/clientauthask.js)
     content/pippki/certpicker.xul	           (content/certpicker.xul)
     content/pippki/certpicker.js             (content/certpicker.js)
-*   content/pippki/certViewer.xul            (content/certViewer.xul)
+    content/pippki/certViewer.xul            (content/certViewer.xul)
     content/pippki/certDump.xul              (content/certDump.xul)
-*   content/pippki/device_manager.xul        (content/device_manager.xul)
+    content/pippki/device_manager.xul        (content/device_manager.xul)
     content/pippki/device_manager.js         (content/device_manager.js)
     content/pippki/load_device.xul           (content/load_device.xul)
-*   content/pippki/choosetoken.xul           (content/choosetoken.xul)
+    content/pippki/choosetoken.xul           (content/choosetoken.xul)
     content/pippki/choosetoken.js            (content/choosetoken.js)
-*   content/pippki/escrowWarn.xul            (content/escrowWarn.xul)
+    content/pippki/escrowWarn.xul            (content/escrowWarn.xul)
     content/pippki/escrowWarn.js             (content/escrowWarn.js)
     content/pippki/pref-validation.xul       (content/pref-validation.xul)
     content/pippki/pref-validation.js        (content/pref-validation.js)
-*   content/pippki/crlManager.xul            (content/crlManager.xul)
+    content/pippki/crlManager.xul            (content/crlManager.xul)
     content/pippki/crlManager.js             (content/crlManager.js)
     content/pippki/pref-masterpass.js        (content/pref-masterpass.js)
     content/pippki/pref-masterpass.xul       (content/pref-masterpass.xul)
     content/pippki/serverCrlNextupdate.js    (content/serverCrlNextupdate.js)
-*   content/pippki/serverCrlNextupdate.xul   (content/serverCrlNextupdate.xul)
+    content/pippki/serverCrlNextupdate.xul   (content/serverCrlNextupdate.xul)
     content/pippki/createCertInfo.xul        (content/createCertInfo.xul)
     content/pippki/createCertInfo.js         (content/createCertInfo.js)
-*   content/pippki/crlImportDialog.xul       (content/crlImportDialog.xul)
+    content/pippki/crlImportDialog.xul       (content/crlImportDialog.xul)
     content/pippki/crlImportDialog.js        (content/crlImportDialog.js)
-*   content/pippki/pref-crlupdate.xul        (content/pref-crlupdate.xul)
+    content/pippki/pref-crlupdate.xul        (content/pref-crlupdate.xul)
     content/pippki/pref-crlupdate.js         (content/pref-crlupdate.js)
     content/pippki/formsigning.xul           (content/formsigning.xul)
     content/pippki/formsigning.js            (content/formsigning.js)
Index: security/manager/pki/resources/content/certManager.js
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/certManager.js,v
retrieving revision 1.44
diff -u -p -r1.44 certManager.js
--- security/manager/pki/resources/content/certManager.js	2 Jun 2005 01:22:42 -0000	1.44
+++ security/manager/pki/resources/content/certManager.js	9 Jul 2006 20:33:56 -0000
@@ -109,29 +109,6 @@ function LoadCerts()
   }
 }
 
-function getSelectedTab()
-{
-  var selTab = document.getElementById('certMgrTabbox').selectedItem;
-  var selTabID = selTab.getAttribute('id');
-  if (selTabID == 'mine_tab') {
-    key = "my_certs";
-  } else if (selTabID == "others_tab") {
-    key = "others_certs";
-  } else if (selTabID == "websites_tab") {
-    key = "web_certs";
-  } else if (selTabID == "ca_tab") {
-    key = "ca_certs";
-  }  
-  return key;
-}
-
-
-function doHelpButton() {
-   var uri = getSelectedTab();
-   openHelp(uri);
-}
-
-
 function getSelectedCerts()
 {
   var ca_tab = document.getElementById("ca_tab");
Index: security/manager/pki/resources/content/certManager.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/certManager.xul,v
retrieving revision 1.32
diff -u -p -r1.32 certManager.xul
--- security/manager/pki/resources/content/certManager.xul	27 Jan 2006 21:12:37 -0000	1.32
+++ security/manager/pki/resources/content/certManager.xul	9 Jul 2006 20:33:56 -0000
@@ -51,12 +51,10 @@
 	xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" 
         title="&certmgr.title;"
         onload="LoadCerts();"
-#expand        buttons="accept__HELP_BUTTON__"
-        ondialoghelp="return doHelpButton();"
+        buttons="accept"
         style="width: 48em; height: 32em;"
         persist="screenX screenY width height">
 
-  <script type="application/x-javascript" src="chrome://help/content/contextHelp.js"/>
   <script type="application/x-javascript" src="chrome://global/content/strres.js"/>
   <script type="application/x-javascript" src="chrome://pippki/content/pippki.js"/>
   <script type="application/x-javascript" src="chrome://pippki/content/certManager.js"/>
Index: security/manager/pki/resources/content/certViewer.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/certViewer.xul,v
retrieving revision 1.17
diff -u -p -r1.17 certViewer.xul
--- security/manager/pki/resources/content/certViewer.xul	20 Apr 2005 10:58:06 -0000	1.17
+++ security/manager/pki/resources/content/certViewer.xul	9 Jul 2006 20:33:56 -0000
@@ -49,15 +49,13 @@
 <dialog id="certDetails" 
   title="&certmgr.certdetail.title;"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-#expand buttons="accept__HELP_BUTTON__"
+  buttons="accept"
   buttonlabelaccept="&certmgr.close.label;"
-  ondialoghelp="openHelp('cert_details');"
   onload="setWindowName();">
 
 <script type="application/x-javascript" src="chrome://global/content/strres.js"/>
 <script type="application/x-javascript" src="chrome://pippki/content/viewCertDetails.js"/>
 <script type="application/x-javascript" src="chrome://pippki/content/pippki.js"/>
-<script type="application/x-javascript" src="chrome://help/content/contextHelp.js"/>
 
   <tabbox>
     <tabs>
Index: security/manager/pki/resources/content/changepassword.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/changepassword.xul,v
retrieving revision 1.29
diff -u -p -r1.29 changepassword.xul
--- security/manager/pki/resources/content/changepassword.xul	20 Apr 2005 10:58:06 -0000	1.29
+++ security/manager/pki/resources/content/changepassword.xul	9 Jul 2006 20:33:56 -0000
@@ -43,14 +43,12 @@
 
 <dialog id="set_password" title="&setPassword.title;"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"      
-#expand  buttons="accept,cancel__HELP_BUTTON__"
+  buttons="accept,cancel"
   ondialogaccept="return setPassword();"
-  ondialoghelp="openHelp('change_pwd');"
   onload="onLoad();">
 
 <script type="application/x-javascript" src="chrome://pippki/content/password.js"/>
 <script type="application/x-javascript" src="chrome://global/content/strres.js"/>
-<script type="application/x-javascript" src="chrome://help/content/contextHelp.js"/>
 
 <hbox align="center">
   <label value="&setPassword.tokenName.label;: "/>
Index: security/manager/pki/resources/content/choosetoken.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/choosetoken.xul,v
retrieving revision 1.13
diff -u -p -r1.13 choosetoken.xul
--- security/manager/pki/resources/content/choosetoken.xul	6 Aug 2005 21:34:04 -0000	1.13
+++ security/manager/pki/resources/content/choosetoken.xul	9 Jul 2006 20:33:56 -0000
@@ -47,16 +47,14 @@
 <dialog id="ssl_warning" title="&chooseToken.title;"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"      
   style="width: 40em;"
-#expand buttons="accept,cancel__HELP_BUTTON__"
+  buttons="accept,cancel"
   ondialogaccept="return doOK();"
   ondialogcancel="return doCancel();"
-  ondialoghelp="openHelp('which_token');"
   onload="onLoad();">
 
 <script type="application/x-javascript" src="chrome://global/content/strres.js"/>
 <script type="application/x-javascript" src="chrome://pippki/content/pippki.js"/>
 <script type="application/x-javascript" src="chrome://pippki/content/choosetoken.js"/>
-<script type="application/x-javascript" src="chrome://help/content/contextHelp.js"/>
 
   <groupbox>
     <description>&chooseToken.message1;</description>
Index: security/manager/pki/resources/content/clientauthask.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/clientauthask.xul,v
retrieving revision 1.16
diff -u -p -r1.16 clientauthask.xul
--- security/manager/pki/resources/content/clientauthask.xul	20 Apr 2005 10:58:06 -0000	1.16
+++ security/manager/pki/resources/content/clientauthask.xul	9 Jul 2006 20:33:57 -0000
@@ -44,18 +44,16 @@
 ]>
 
 
-<dialog id="ssl_warning" title="&clientAuthAsk.title;"
+<dialog id="certAuthAsk" title="&clientAuthAsk.title;"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"      
-#expand buttons="accept,cancel__HELP_BUTTON__"
+  buttons="accept,cancel"
   ondialogaccept="return doOK();"
   ondialogcancel="return doCancel();"
-  ondialoghelp="openHelp('which_cert');"
   onload="onLoad();">
 
 <script type="application/x-javascript" src="chrome://global/content/strres.js"/>
 <script type="application/x-javascript" src="chrome://pippki/content/pippki.js"/>
 <script type="application/x-javascript" src="chrome://pippki/content/clientauthask.js"/>
-<script type="application/x-javascript" src="chrome://help/content/contextHelp.js" />
 
   <groupbox>
     <description style="font-weight: bold;">&clientAuthAsk.message1;</description>
Index: security/manager/pki/resources/content/crlImportDialog.js
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/crlImportDialog.js,v
retrieving revision 1.10
diff -u -p -r1.10 crlImportDialog.js
--- security/manager/pki/resources/content/crlImportDialog.js	25 Apr 2004 15:02:32 -0000	1.10
+++ security/manager/pki/resources/content/crlImportDialog.js	9 Jul 2006 20:33:57 -0000
@@ -115,9 +115,3 @@ function onAccept()
                     "chrome,centerscreen,modal",params);
   return true;
 }
-
-function doHelpButton()
-{
-  openHelp("validation-crl-import");
-}
-
Index: security/manager/pki/resources/content/crlImportDialog.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/crlImportDialog.xul,v
retrieving revision 1.6
diff -u -p -r1.6 crlImportDialog.xul
--- security/manager/pki/resources/content/crlImportDialog.xul	20 Apr 2005 10:58:06 -0000	1.6
+++ security/manager/pki/resources/content/crlImportDialog.xul	9 Jul 2006 20:33:57 -0000
@@ -44,12 +44,10 @@
   title="&crl.import.status.title;"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" 
   onload="onLoad();"
-#expand buttons="accept,cancel__HELP_BUTTON__"
+  buttons="accept,cancel"
   ondialogaccept="return onAccept();"
-  ondialogcancel="return onCancel();"
-  ondialoghelp="return doHelpButton();">
+  ondialogcancel="return onCancel();">
   
-  <script type="application/x-javascript" src="chrome://help/content/contextHelp.js" />
   <script type="application/x-javascript" src="chrome://global/content/strres.js" />
   <script type="application/x-javascript" src="chrome://pippki/content/crlImportDialog.js" />
   <script type="application/x-javascript" src="pippki.js" />
Index: security/manager/pki/resources/content/crlManager.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/crlManager.xul,v
retrieving revision 1.23
diff -u -p -r1.23 crlManager.xul
--- security/manager/pki/resources/content/crlManager.xul	7 Jun 2006 22:48:23 -0000	1.23
+++ security/manager/pki/resources/content/crlManager.xul	9 Jul 2006 20:33:57 -0000
@@ -53,16 +53,13 @@
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         style="width: 30em;"
         onload="onLoad();"
-#ifndef MOZ_XUL_APP
-        buttons="help"
-#endif
-        ondialoghelp="openHelp('validation-crl-manage');"
+        buttons="accept"
+        buttonlabelaccept="&certmgr.close.label;"
         persist="screenX screenY width height">
 
   <stringbundle id="pippki_bundle" src="chrome://pippki/locale/pippki.properties"/>
   <script type="application/x-javascript" src="chrome://global/content/strres.js"/>
   <script type="application/x-javascript" src="chrome://pippki/content/crlManager.js"/>
-  <script type="application/x-javascript" src="chrome://help/content/contextHelp.js" />
 
   <description value="&validation.crlmanager.label;"/>
   <separator class="thin"/>
@@ -86,7 +83,7 @@
   </tree>
   <separator class="thin"/>
 
-  <hbox>
+  <hbox id="dialogButtons">
     <button id="deleteCrl" disabled="true"
             label="&validation.deletecrl.label;"
             accesskey="&validation.deletecrl.accesskey;"
@@ -103,9 +100,7 @@
             label="&certmgr.restore.label;"
             accesskey="&certmgr.restore.accesskey;"
             oncommand="ImportCRL();"/>
-#ifdef MOZ_SUITE
     <spacer flex="2"/>
-    <button dlgtype="help"/>
-#endif
+    <button dlgtype="accept"/>
   </hbox>
 </dialog>
Index: security/manager/pki/resources/content/deletecert.js
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/deletecert.js,v
retrieving revision 1.18
diff -u -p -r1.18 deletecert.js
--- security/manager/pki/resources/content/deletecert.js	9 Dec 2004 19:50:19 -0000	1.18
+++ security/manager/pki/resources/content/deletecert.js	9 Jul 2006 20:33:57 -0000
@@ -43,7 +43,6 @@ const nsIDialogParamBlock = Components.i
 
 var certdb;
 var certs = [];
-var helpUrl;
 var gParams;
 
 function setWindowName()
@@ -72,28 +71,24 @@ function setWindowName()
      title = bundle.GetStringFromName("deleteUserCertTitle");
      confirm = bundle.GetStringFromName("deleteUserCertConfirm");
      impact = bundle.GetStringFromName("deleteUserCertImpact");
-     helpUrl = "delete_my_certs"
   }
   else if(typeFlag == bundle.GetStringFromName("deleteSslCertFlag"))
   {
      title = bundle.GetStringFromName("deleteSslCertTitle");
      confirm = bundle.GetStringFromName("deleteSslCertConfirm");
      impact = bundle.GetStringFromName("deleteSslCertImpact");
-     helpUrl = "delete_web_certs"
   }
   else if(typeFlag == bundle.GetStringFromName("deleteCaCertFlag"))
   {
      title = bundle.GetStringFromName("deleteCaCertTitle");
      confirm = bundle.GetStringFromName("deleteCaCertConfirm");
      impact = bundle.GetStringFromName("deleteCaCertImpact");
-     helpUrl = "delete_ca_certs"   
   }
   else if(typeFlag == bundle.GetStringFromName("deleteEmailCertFlag"))
   {
      title = bundle.GetStringFromName("deleteEmailCertTitle");
      confirm = bundle.GetStringFromName("deleteEmailCertConfirm");
      impact = bundle.GetStringFromName("deleteEmailCertImpact");
-     helpUrl = "delete_email_certs"
   }
   else
   {
@@ -150,8 +145,3 @@ function doCancel()
   gParams.SetInt(1, 0); // means CANCEL
   return true;
 }
-
-function doHelp()
-{
-   openHelp(helpUrl);
-}
Index: security/manager/pki/resources/content/deletecert.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/deletecert.xul,v
retrieving revision 1.15
diff -u -p -r1.15 deletecert.xul
--- security/manager/pki/resources/content/deletecert.xul	20 Apr 2005 10:58:06 -0000	1.15
+++ security/manager/pki/resources/content/deletecert.xul	9 Jul 2006 20:33:57 -0000
@@ -44,13 +44,11 @@
   title="&certmgr.deletecert.title;"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
   onload="setWindowName();"
-#expand buttons="accept,cancel__HELP_BUTTON__"
+  buttons="accept,cancel"
   ondialogaccept="return doOK();"
-  ondialogcancel="return doCancel();"
-  ondialoghelp="doHelp();">
+  ondialogcancel="return doCancel();">
 
   <script type="application/x-javascript" src="chrome://pippki/content/deletecert.js"/>
-  <script type="application/x-javascript" src="chrome://help/content/contextHelp.js"/>
   <script type="application/x-javascript" src="chrome://global/content/strres.js" />
   <script type="application/x-javascript" src="pippki.js" />
 
Index: security/manager/pki/resources/content/device_manager.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/device_manager.xul,v
retrieving revision 1.19
diff -u -p -r1.19 device_manager.xul
--- security/manager/pki/resources/content/device_manager.xul	30 Oct 2005 11:21:44 -0000	1.19
+++ security/manager/pki/resources/content/device_manager.xul	9 Jul 2006 20:33:57 -0000
@@ -53,12 +53,10 @@
         style="width: 52em; height: 32em;"
         persist="screenX screenY width height"
         onload="LoadModules();"
-#expand buttons="accept__HELP_BUTTON__"
-        ondialoghelp="openHelp('sec_devices');">
+        buttons="accept">
 
 <script type="application/x-javascript" src="chrome://global/content/strres.js"/>
 <script type="application/x-javascript" src="chrome://pippki/content/device_manager.js"/>
-<script type="application/x-javascript" src="chrome://help/content/contextHelp.js"/>
 
 <grid flex="1" style="margin:5px">
   <columns>
Index: security/manager/pki/resources/content/domainMismatch.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/domainMismatch.xul,v
retrieving revision 1.22
diff -u -p -r1.22 domainMismatch.xul
--- security/manager/pki/resources/content/domainMismatch.xul	22 Jun 2006 05:05:28 -0000	1.22
+++ security/manager/pki/resources/content/domainMismatch.xul	9 Jul 2006 20:33:57 -0000
@@ -44,21 +44,18 @@
 <dialog id="domainMismatch" title="&domainMismatch.title;"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"      
   style="width: 32em;"
-  spacerflex="1"
-#expand buttons="accept,cancel__HELP_BUTTON__,extra2"
+  buttons="accept,cancel,extra2"
   buttonlabelextra2="&examineCert.label;"
   buttonaccesskeyextra2="&examineCert.accesskey;"
   defaultButton="cancel"
   ondialogaccept="return doOK();"
   ondialogcancel="return doCancel();"
-  ondialoghelp="openHelp('bad_name_web_cert');"
   ondialogextra2="viewCert();"
   onload="onLoad();">
 
 <script type="application/x-javascript" src="chrome://global/content/strres.js"/>
 <script type="application/x-javascript" src="chrome://pippki/content/pippki.js"/>
 <script type="application/x-javascript" src="chrome://pippki/content/domainMismatch.js"/>
-<script type="application/x-javascript" src="chrome://help/content/contextHelp.js"/>
 
   <description id="message1"/>
   <separator/>
Index: security/manager/pki/resources/content/downloadcert.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/downloadcert.xul,v
retrieving revision 1.17
diff -u -p -r1.17 downloadcert.xul
--- security/manager/pki/resources/content/downloadcert.xul	20 Apr 2005 10:58:06 -0000	1.17
+++ security/manager/pki/resources/content/downloadcert.xul	9 Jul 2006 20:33:57 -0000
@@ -43,16 +43,14 @@
 <dialog id="download_cert" title="&downloadCert.title;"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"      
   style="width: 46em;"
-#expand buttons="accept,cancel__HELP__"
+  buttons="accept,cancel"
   ondialogaccept="return doOK();"
   ondialogcancel="return doCancel();"
-  ondialoghelp="openHelp('new_ca');"
   onload="onLoad();">
 
 <script type="application/x-javascript" src="chrome://global/content/strres.js"/>
 <script type="application/x-javascript" src="chrome://pippki/content/downloadcert.js"/>
 <script type="application/x-javascript" src="chrome://pippki/content/pippki.js"/>
-<script type="application/x-javascript" src="chrome://help/content/contextHelp.js"/>
 
 
   <!--  Let 'em know what they're doing -->
Index: security/manager/pki/resources/content/editcacert.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/editcacert.xul,v
retrieving revision 1.16
diff -u -p -r1.16 editcacert.xul
--- security/manager/pki/resources/content/editcacert.xul	20 Apr 2005 10:58:06 -0000	1.16
+++ security/manager/pki/resources/content/editcacert.xul	9 Jul 2006 20:33:57 -0000
@@ -44,17 +44,14 @@
 <dialog id="editCaCert" 
         title="&certmgr.editcacert.title;"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-#expand buttons="accept,cancel__HELP_BUTTON__"
+        buttons="accept,cancel"
         ondialogaccept="return doOK();"
-        ondialoghelp="openHelp('edit_ca_certs');"
         onload="setWindowName();"
 >
 
   <script type="application/x-javascript" src="chrome://global/content/strres.js"/>
   <script type="application/x-javascript" src="chrome://pippki/content/pippki.js"/>
   <script type="application/x-javascript" src="chrome://pippki/content/editcerts.js"/>
-  <script type="application/x-javascript" src="chrome://help/content/contextHelp.js"/>
-
 
   <description id="certmsg"/>
   <separator/>
Index: security/manager/pki/resources/content/editemailcert.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/editemailcert.xul,v
retrieving revision 1.4
diff -u -p -r1.4 editemailcert.xul
--- security/manager/pki/resources/content/editemailcert.xul	20 Apr 2005 10:58:06 -0000	1.4
+++ security/manager/pki/resources/content/editemailcert.xul	9 Jul 2006 20:33:57 -0000
@@ -44,17 +44,14 @@
 <dialog id="editEmailCert" 
         title="&certmgr.editemailcert.title;"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-#expand buttons="accept,cancel__HELP_BUTTON__"
+        buttons="accept,cancel"
         ondialogaccept="return doEmailOK();"
-        ondialoghelp="openHelp('edit_email_certs');"
         onload="doLoadForEmailCert();"
 >
 
   <script type="application/x-javascript" src="chrome://global/content/strres.js"/>
   <script type="application/x-javascript" src="chrome://pippki/content/pippki.js"/>
   <script type="application/x-javascript" src="chrome://pippki/content/editcerts.js"/>
-  <script type="application/x-javascript" src="chrome://help/content/contextHelp.js"/>
-
 
   <description id="certmsg"/>
   <description id="issuer"/>
Index: security/manager/pki/resources/content/editsslcert.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/editsslcert.xul,v
retrieving revision 1.15
diff -u -p -r1.15 editsslcert.xul
--- security/manager/pki/resources/content/editsslcert.xul	20 Apr 2005 10:58:06 -0000	1.15
+++ security/manager/pki/resources/content/editsslcert.xul	9 Jul 2006 20:33:57 -0000
@@ -44,17 +44,14 @@
 <dialog id="editWebsiteCert" 
         title="&certmgr.editsslcert.title;"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-#expand buttons="accept,cancel__HELP_BUTTON__"
+        buttons="accept,cancel"
         ondialogaccept="return doSSLOK();"
-        ondialoghelp="openHelp('edit_web_certs');"
         onload="doLoadForSSLCert();"
 >
 
   <script type="application/x-javascript" src="chrome://global/content/strres.js"/>
   <script type="application/x-javascript" src="chrome://pippki/content/pippki.js"/>
   <script type="application/x-javascript" src="chrome://pippki/content/editcerts.js"/>
-  <script type="application/x-javascript" src="chrome://help/content/contextHelp.js"/>
-
 
   <description id="certmsg"/>
   <description id="issuer"/>
Index: security/manager/pki/resources/content/escrowWarn.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/escrowWarn.xul,v
retrieving revision 1.14
diff -u -p -r1.14 escrowWarn.xul
--- security/manager/pki/resources/content/escrowWarn.xul	20 Apr 2005 10:58:06 -0000	1.14
+++ security/manager/pki/resources/content/escrowWarn.xul	9 Jul 2006 20:33:57 -0000
@@ -44,20 +44,17 @@
 <dialog id="escrowWarnDialog" title="&escrowWarn.title;"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"      
   style="width: 40em;"
-  spacerflex="1"
-#expand buttons="accept,cancel__HELP_BUTTON__,extra2"
+  buttons="accept,cancel,extra2"
   buttonlabelextra2="&examineCert.label;"
   buttonaccesskeyextra2="&examineCert.accesskey;"
   ondialogaccept="return doOK();"
   ondialogcancel="return doCancel();"
-  ondialoghelp="openHelp('priv_key_copy');"
   ondialogextra2="viewCert();"
   onload="onLoad();">
 
 <script type="application/x-javascript" src="chrome://global/content/strres.js"/>
 <script type="application/x-javascript" src="chrome://pippki/content/pippki.js"/>
 <script type="application/x-javascript" src="chrome://pippki/content/escrowWarn.js"/>
-<script type="application/x-javascript" src="chrome://help/content/contextHelp.js"/>
 
   <description>&escrowWarn.message1;</description>
   <separator/>
Index: security/manager/pki/resources/content/getp12password.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/getp12password.xul,v
retrieving revision 1.16
diff -u -p -r1.16 getp12password.xul
--- security/manager/pki/resources/content/getp12password.xul	20 Apr 2005 10:58:06 -0000	1.16
+++ security/manager/pki/resources/content/getp12password.xul	9 Jul 2006 20:33:57 -0000
@@ -45,13 +45,11 @@
 <dialog id="getp12password" title="&pkcs12.getpassword.title;"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"      
   style="width: 30em;"
-#expand buttons="accept,cancel__HELP_BUTTON__"
+  buttons="accept,cancel"
   ondialogaccept="return getPassword();"
-  ondialoghelp="openHelp('my_certs');"
   onload="onP12Load(false);">
 
   <script type="application/x-javascript" src="chrome://pippki/content/password.js"/>
-  <script type="application/x-javascript" src="chrome://help/content/contextHelp.js"/>
 
   <description>&pkcs12.getpassword.message;</description>
   <separator />
Index: security/manager/pki/resources/content/newserver.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/newserver.xul,v
retrieving revision 1.24
diff -u -p -r1.24 newserver.xul
--- security/manager/pki/resources/content/newserver.xul	20 Apr 2005 10:58:06 -0000	1.24
+++ security/manager/pki/resources/content/newserver.xul	9 Jul 2006 20:33:57 -0000
@@ -47,19 +47,17 @@
 %pippkiDTD;
 ]>
 
-<dialog id="ssl_warning" title="&newserver.title;"
+<dialog id="newServerDialog" title="&newserver.title;"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
   style="width: 47em;"
   onload="onLoad();"
-#expand buttons="accept,cancel__HELP_BUTTON__"
+  buttons="accept,cancel"
   ondialogaccept="return doOK();"
-  ondialogcancel="return doCancel();"
-  ondialoghelp="openHelp('new_web_cert');">
+  ondialogcancel="return doCancel();">
 
 <script type="application/x-javascript" src="chrome://global/content/strres.js"/>
 <script type="application/x-javascript" src="chrome://pippki/content/pippki.js"/>
 <script type="application/x-javascript" src="chrome://pippki/content/newserver.js"/>
-<script type="application/x-javascript" src="chrome://help/content/contextHelp.js"/>
 
 <stringbundle id="newserver_bundle" src="chrome://pippki/locale/newserver.properties"/>
 
Index: security/manager/pki/resources/content/pref-crlupdate.js
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/pref-crlupdate.js,v
retrieving revision 1.9
diff -u -p -r1.9 pref-crlupdate.js
--- security/manager/pki/resources/content/pref-crlupdate.js	25 Apr 2004 15:02:32 -0000	1.9
+++ security/manager/pki/resources/content/pref-crlupdate.js	9 Jul 2006 20:33:57 -0000
@@ -210,11 +210,6 @@ function onCancel()
   return true;
 }
 
-function doHelpButton()
-{
-  openHelp("validation-crl-auto-update-prefs");
-}
-
 function onAccept()
 {
    if(!validatePrefs())
Index: security/manager/pki/resources/content/pref-crlupdate.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/pref-crlupdate.xul,v
retrieving revision 1.7
diff -u -p -r1.7 pref-crlupdate.xul
--- security/manager/pki/resources/content/pref-crlupdate.xul	20 Apr 2005 10:58:06 -0000	1.7
+++ security/manager/pki/resources/content/pref-crlupdate.xul	9 Jul 2006 20:33:57 -0000
@@ -44,12 +44,10 @@
   title="&validation.crl.autoupdate.title;"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" 
   onload="onLoad();"
-#expand buttons="accept,cancel__HELP_BUTTON__"
+  buttons="accept,cancel"
   ondialogaccept="return onAccept();"
-  ondialogcancel="return onCancel();"
-  ondialoghelp="return doHelpButton();">
+  ondialogcancel="return onCancel();">
 
-  <script type="application/x-javascript" src="chrome://help/content/contextHelp.js" />
   <script type="application/x-javascript" src="chrome://pippki/content/pippki.js"/>
   <script type="application/x-javascript" src="chrome://global/content/strres.js" />
   <script type="application/x-javascript" src="chrome://pippki/content/pref-crlupdate.js" />
Index: security/manager/pki/resources/content/resetpassword.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/resetpassword.xul,v
retrieving revision 1.8
diff -u -p -r1.8 resetpassword.xul
--- security/manager/pki/resources/content/resetpassword.xul	22 Jun 2006 05:05:28 -0000	1.8
+++ security/manager/pki/resources/content/resetpassword.xul	9 Jul 2006 20:33:57 -0000
@@ -41,17 +41,15 @@
 
 <dialog id="reset_password" title="&resetPassword.title;"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"      
-#expand buttons="accept,cancel__HELP__"
+  buttons="accept,cancel"
   buttonlabelaccept="&resetPasswordButtonLabel;"
   defaultButton="cancel"
   ondialogaccept="return resetPassword();"
-  ondialoghelp="openHelp('reset_pwd');"
   style="width: 40em;" onload="onLoad();">
 
   <stringbundle id="pippki_bundle" src="chrome://pippki/locale/pippki.properties"/>
 
   <script type="application/x-javascript" src="chrome://pippki/content/pippki.js"/>
-  <script type="application/x-javascript" src="chrome://help/content/contextHelp.js"/>
   <script type="application/x-javascript" src="chrome://pippki/content/resetpassword.js"/>
 
   <hbox flex="1">
Index: security/manager/pki/resources/content/serverCertExpired.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/serverCertExpired.xul,v
retrieving revision 1.24
diff -u -p -r1.24 serverCertExpired.xul
--- security/manager/pki/resources/content/serverCertExpired.xul	22 Jun 2006 05:05:28 -0000	1.24
+++ security/manager/pki/resources/content/serverCertExpired.xul	9 Jul 2006 20:33:57 -0000
@@ -44,22 +44,19 @@
 <dialog id="serverCertExpired"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"      
   style="width: 30em;"
-  spacerflex="1"
-#expand buttons="accept,cancel__HELP_BUTTON__,extra2"
+  buttons="accept,cancel,extra2"
   buttonlabelaccept="&serverCertExpired.accept.label;"
   buttonlabelextra2="&examineCert.label;"
   buttonaccesskeyextra2="&examineCert.accesskey;"
   defaultButton="accept"
   ondialogaccept="return doOK();"
   ondialogcancel="return doCancel();"
-  ondialoghelp="openHelp('exp_web_cert');"
   ondialogextra2="viewCert();"
   onload="onLoad();">
 
 <script type="application/x-javascript" src="chrome://global/content/strres.js"/>
 <script type="application/x-javascript" src="chrome://pippki/content/pippki.js"/>
 <script type="application/x-javascript" src="chrome://pippki/content/serverCertExpired.js"/>
-<script type="application/x-javascript" src="chrome://help/content/contextHelp.js"/>
 
   <description id="message1"/>
   <separator/>
Index: security/manager/pki/resources/content/serverCrlNextupdate.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/serverCrlNextupdate.xul,v
retrieving revision 1.10
diff -u -p -r1.10 serverCrlNextupdate.xul
--- security/manager/pki/resources/content/serverCrlNextupdate.xul	22 Jun 2006 05:05:28 -0000	1.10
+++ security/manager/pki/resources/content/serverCrlNextupdate.xul	9 Jul 2006 20:33:57 -0000
@@ -48,7 +48,7 @@
   id="serverCrlNextupdate"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"      
   style="width: 30em;"
-#expand buttons="accept__HELP_BUTTON__"
+  buttons="accept"
   defaultButton="accept"
   ondialoghelp="openHelp('exp_crl');"
   onload="onLoad();"
@@ -56,7 +56,6 @@
 <script type="application/x-javascript" src="chrome://global/content/strres.js" />
 <script type="application/x-javascript" src="chrome://pippki/content/pippki.js" />
 <script type="application/x-javascript" src="chrome://pippki/content/serverCrlNextupdate.js" />
-<script type="application/x-javascript" src="chrome://help/content/contextHelp.js" />
 
   <description id="message1"/>
   <separator/>
Index: security/manager/pki/resources/content/setp12password.xul
===================================================================
RCS file: /cvsroot/mozilla/security/manager/pki/resources/content/setp12password.xul,v
retrieving revision 1.19
diff -u -p -r1.19 setp12password.xul
--- security/manager/pki/resources/content/setp12password.xul	20 Apr 2005 10:58:06 -0000	1.19
+++ security/manager/pki/resources/content/setp12password.xul	9 Jul 2006 20:33:57 -0000
@@ -45,13 +45,11 @@
 <dialog id="setp12password" title="&pkcs12.setpassword.title;"
   xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"      
   style="width: 48em;"
-#expand buttons="accept,cancel__HELP_BUTTON__"
+  buttons="accept,cancel"
   ondialogaccept="return setP12Password();"
-  ondialoghelp="openHelp('cert_backup_pwd');"
   onload="onP12Load(true);">
 
   <script type="application/x-javascript" src="chrome://pippki/content/password.js"/>
-  <script type="application/x-javascript" src="chrome://help/content/contextHelp.js"/>
 
   <description>&pkcs12.setpassword.message;</description>
   <separator />
Index: extensions/help/resources/jar.mn
===================================================================
RCS file: /cvsroot/mozilla/extensions/help/resources/jar.mn,v
retrieving revision 1.69
diff -u -p -r1.69 jar.mn
--- extensions/help/resources/jar.mn	23 Jun 2006 21:54:32 -0000	1.69
+++ extensions/help/resources/jar.mn	9 Jul 2006 20:33:57 -0000
@@ -1,10 +1,38 @@
 help.jar:
+#ifdef MOZ_XUL_APP
+% content help %content/help/ xpcnativewrappers=yes
+% overlay chrome://communicator/content/utilityOverlay.xul chrome://help/content/helpMenuOverlay.xul
+% overlay chrome://pippki/content/certManager.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/certViewer.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/changepassword.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/device_manager.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/choosetoken.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/clientauthask.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/crlImportDialog.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/deletecert.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/domainMismatch.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/editcacert.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/editemailcert.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/editsslcert.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/escrowWarn.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/getp12password.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/setp12password.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/newserver.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/pref-crlupdate.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/serverCertExpired.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/serverCrlNextupdate.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/crlManager.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/resetpassword.xul chrome://help/content/helpSecurityOverlay.xul
+% overlay chrome://pippki/content/downloadcert.xul chrome://help/content/helpSecurityOverlay.xul
+#else
+*       content/help/contents.rdf                       (content/contents.rdf)
+#endif
         content/help/help.xul                           (content/help.xul)
         content/help/contextHelp.js                     (content/contextHelp.js)
         content/help/help.js                            (content/help.js)
-*       content/help/contents.rdf                       (content/contents.rdf)
 *       content/help/helpMenuOverlay.xul                (content/helpMenuOverlay.xul)
         content/help/helpContextOverlay.xul             (content/helpContextOverlay.xul)
+        content/help/helpSecurityOverlay.xul            (content/helpSecurityOverlay.xul)
 *       content/help/platformClasses.css                (content/platformClasses.css)
 
 en-US.jar:
Index: extensions/help/resources/content/contents.rdf
===================================================================
RCS file: /cvsroot/mozilla/extensions/help/resources/content/contents.rdf,v
retrieving revision 1.23
diff -u -p -r1.23 contents.rdf
--- extensions/help/resources/content/contents.rdf	4 Feb 2004 14:24:27 -0000	1.23
+++ extensions/help/resources/content/contents.rdf	9 Jul 2006 20:33:57 -0000
@@ -16,6 +16,28 @@
   <!-- Declare overlay points used in this package -->
   <RDF:Seq about="urn:mozilla:overlays">
     <RDF:li resource="chrome://communicator/content/utilityOverlay.xul"/>
+    <RDF:li resource="chrome://pippki/content/certViewer.xul"/>
+    <RDF:li resource="chrome://pippki/content/certManager.xul"/>
+    <RDF:li resource="chrome://pippki/content/changepassword.xul"/>
+    <RDF:li resource="chrome://pippki/content/device_manager.xul"/>
+    <RDF:li resource="chrome://pippki/content/choosetoken.xul"/>
+    <RDF:li resource="chrome://pippki/content/clientauthask.xul"/>
+    <RDF:li resource="chrome://pippki/content/crlImportDialog.xul"/>
+    <RDF:li resource="chrome://pippki/content/deletecert.xul"/>
+    <RDF:li resource="chrome://pippki/content/domainMismatch.xul"/>
+    <RDF:li resource="chrome://pippki/content/editcacert.xul"/>
+    <RDF:li resource="chrome://pippki/content/editemailcert.xul"/>
+    <RDF:li resource="chrome://pippki/content/editsslcert.xul"/>
+    <RDF:li resource="chrome://pippki/content/escrowWarn.xul"/>
+    <RDF:li resource="chrome://pippki/content/getp12password.xul"/>
+    <RDF:li resource="chrome://pippki/content/setp12password.xul"/>
+    <RDF:li resource="chrome://pippki/content/newserver.xul"/>
+    <RDF:li resource="chrome://pippki/content/pref-crlupdate.xul"/>
+    <RDF:li resource="chrome://pippki/content/serverCertExpired.xul"/>
+    <RDF:li resource="chrome://pippki/content/serverCrlNextupdate.xul"/>
+    <RDF:li resource="chrome://pippki/content/crlManager.xul"/>
+    <RDF:li resource="chrome://pippki/content/resetpassword.xul"/>
+    <RDF:li resource="chrome://pippki/content/downloadcert.xul"/>
   </RDF:Seq>
 
   <!-- Define the local overlay file(s) for each overlay point -->
@@ -23,4 +45,91 @@
     <RDF:li>chrome://help/content/helpMenuOverlay.xul</RDF:li>
   </RDF:Seq>
 
+  <RDF:Seq about="chrome://pippki/content/certViewer.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/certManager.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/changepassword.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/device_manager.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/choosetoken.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/clientauthask.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/crlImportDialog.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/deletecert.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/domainMismatch.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/editcacert.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/editemailcert.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/editsslcert.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/escrowWarn.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/getp12password.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/setp12password.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/newserver.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/pref-crlupdate.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/serverCertExpired.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/serverCrlNextupdate.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/crlManager.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/resetpassword.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
+
+  <RDF:Seq about="chrome://pippki/content/downloadcert.xul">
+    <RDF:li>chrome://help/content/helpSecurityOverlay.xul</RDF:li>
+  </RDF:Seq>
 </RDF:RDF>
--- /dev/null	2006-07-09 10:50:41.752348000 +0100
+++ extensions/help/resources/content/helpSecurityOverlay.xul	2006-07-09 21:23:40.000000000 +0100
@@ -0,0 +1,179 @@
+<?xml version="1.0"?>
+<!-- ***** BEGIN LICENSE BLOCK *****
+   - Version: MPL 1.1/GPL 2.0/LGPL 2.1
+   -
+   - The contents of this file are subject to the Mozilla Public License Version
+   - 1.1 (the "License"); you may not use this file except in compliance with
+   - the License. You may obtain a copy of the License at
+   - http://www.mozilla.org/MPL/
+   -
+   - Software distributed under the License is distributed on an "AS IS" basis,
+   - WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
+   - for the specific language governing rights and limitations under the
+   - License.
+   -
+   - The Original Code is SeaMonkey internet suite code.
+   -
+   - The Initial Developer of the Original Code is
+   - Mark Banner <bugzilla@standard8.demon.co.uk>
+   - Portions created by the Initial Developer are Copyright (C) 2006
+   - the Initial Developer. All Rights Reserved.
+   -
+   - Contributor(s):
+   -
+   - Alternatively, the contents of this file may be used under the terms of
+   - either the GNU General Public License Version 2 or later (the "GPL"), or
+   - the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
+   - in which case the provisions of the GPL or the LGPL are applicable instead
+   - of those above. If you wish to allow use of your version of this file only
+   - under the terms of either the GPL or the LGPL, and not to allow others to
+   - use your version of this file under the terms of the MPL, indicate your
+   - decision by deleting the provisions above and replace them with the notice
+   - and other provisions required by the LGPL or the GPL. If you do not delete
+   - the provisions above, a recipient may use your version of this file under
+   - the terms of any one of the MPL, the GPL or the LGPL.
+   -
+   - ***** END LICENSE BLOCK ***** -->
+
+<overlay id="securityManagerOverlay"
+         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
+
+  <script type="application/x-javascript" src="chrome://help/content/contextHelp.js"/>
+  <script type="application/x-javascript">
+  <![CDATA[
+    function doCertManagerHelpButton()
+    {
+      var selTab = document.getElementById('certMgrTabbox').selectedItem;
+      var selTabID = selTab.getAttribute('id');
+      switch (selTabID) {
+        case 'mine_tab':
+          openHelp("my_certs");
+          break;
+        case 'others_tab':
+          openHelp("others_certs");
+          break;
+        case 'websites_tab':
+          openHelp("web_certs");
+          break;
+        case 'ca_tab':
+          openHelp("ca_certs");
+          break;
+      }
+    }
+
+    function doDeleteCertificateHelpButton()
+    {
+      var bundle = srGetStrBundle("chrome://pippki/locale/pippki.properties");
+      switch (gParams.GetString(0)) {
+        case bundle.GetStringFromName("deleteUserCertFlag"):
+          openHelp("delete_my_certs");
+          break;
+        case bundle.GetStringFromName("deleteSslCertFlag"):
+          openHelp("delete_web_certs");
+          break;
+        case bundle.GetStringFromName("deleteCaCertFlag"):
+          openHelp("delete_ca_certs");
+          break;
+        case bundle.GetStringFromName("deleteEmailCertFlag"):
+          openHelp("delete_email_certs");
+          break;
+      }
+    }
+  ]]>
+  </script>
+
+  <dialog id="certmanager"
+          buttons="accept,help"
+          ondialoghelp="return doCertManagerHelpButton();"/>
+
+  <dialog id="certDetails"
+          buttons="accept,help"
+          ondialoghelp="openHelp('cert_details');"/>
+
+  <dialog id="set_password"
+          buttons="accept,cancel,help"
+          ondialoghelp="openHelp('change_pwd');"/>
+
+  <dialog id="devicemanager"
+          buttons="accept,help"
+          ondialoghelp="openHelp('sec_devices');"/>
+
+  <dialog id="ssl_warning"
+          buttons="accept,cancel,help"
+          ondialoghelp="openHelp('which_token');"/>
+
+  <dialog id="certAuthAsk"
+          buttons="accept,cancel,help"
+          ondialoghelp="openHelp('which_cert');"/>
+
+  <dialog id="crlImportSuccess"
+          buttons="accept,cancel,help"
+          ondialoghelp="openHelp('validation-crl-import');"/>
+
+  <dialog id="deleteCertificate"
+          buttons="accept,cancel,help"
+          ondialoghelp="doDeleteCertificateHelpButton();"/>
+
+  <dialog id="domainMismatch"
+          spacerflex="1"
+          buttons="accept,cancel,help,extra2"
+          ondialoghelp="openHelp('bad_name_web_cert');"/>
+
+  <dialog id="editCaCert"
+          buttons="accept,cancel,help"
+          ondialoghelp="openHelp('edit_ca_certs');"/>
+
+  <dialog id="editEmailCert"
+          buttons="accept,cancel,help"
+          ondialoghelp="openHelp('edit_email_certs');"/>
+
+  <dialog id="editWebsiteCert"
+          buttons="accept,cancel,help"
+          ondialoghelp="openHelp('edit_web_certs');"/>
+
+  <dialog id="escrowWarnDialog"
+          spacerflex="1"
+          buttons="accept,cancel,help,extra2"
+          ondialoghelp="openHelp('priv_key_copy');"/>
+
+  <dialog id="getp12password"
+          buttons="accept,cancel,help"
+          ondialoghelp="openHelp('my_certs');"/>
+
+  <dialog id="setp12password"
+          buttons="accept,cancel,help"
+          ondialoghelp="openHelp('cert_backup_pwd');"/>
+
+  <dialog id="newServerDialog"
+          buttons="accept,cancel,help"
+          ondialoghelp="openHelp('new_web_cert');"/>
+
+  <dialog id="crlUpdatePref"
+          buttons="accept,cancel,help"
+          ondialoghelp="openHelp('validation-crl-auto-update-prefs');"/>
+
+  <dialog id="serverCertExpired"
+          spacerflex="1"
+          buttons="accept,cancel,help,extra2"
+          ondialoghelp="openHelp('exp_web_cert');"/>
+
+  <dialog id="serverCrlNextupdate"
+          buttons="accept,help"
+          ondialoghelp="openHelp('exp_crl');"/>
+
+  <dialog id="crlviewer"
+          buttons="help"
+          ondialoghelp="openHelp('validation-crl-manage');">
+    <hbox id="dialogButtons">
+      <button dlgtype="help"/>
+    </hbox>
+  </dialog>
+
+  <dialog id="reset_password"
+          buttons="accept,cancel,help"
+          ondialoghelp="openHelp('reset_pwd');"/>
+
+  <dialog id="download_cert"
+          buttons="accept,cancel,help"
+          ondialoghelp="openHelp('new_ca');"/>
+</overlay>
